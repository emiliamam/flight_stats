{"ast":null,"code":"var _excluded = [\"onMouseEnter\", \"onMouseLeave\", \"onClick\"],\n    _excluded2 = [\"value\", \"background\", \"tooltipPosition\"],\n    _excluded3 = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\"];\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n\n  var o,\n      r,\n      i = _objectWithoutPropertiesLoose(e, t);\n\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n\n  return i;\n}\n\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n\n  return t;\n}\n/**\n * @fileOverview Render a group of bar\n */\n// eslint-disable-next-line max-classes-per-file\n\n\nimport * as React from 'react';\nimport { PureComponent, useCallback, useMemo, useRef, useState } from 'react';\nimport { clsx } from 'clsx';\nimport { Layer } from '../container/Layer';\nimport { SetErrorBarPreferredDirection } from './ErrorBar';\nimport { Cell } from '../component/Cell';\nimport { LabelList } from '../component/LabelList';\nimport { interpolateNumber, isNan, isNullish, mathSign, uniqueId } from '../util/DataUtils';\nimport { filterProps, findAllByType } from '../util/ReactUtils';\nimport { Global } from '../util/Global';\nimport { getBaseValueOfBar, getCateCoordinateOfBar, getNormalizedStackId, getTooltipNameProp, getValueByDataKey, truncateByDomain } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { BarRectangle, minPointSizeCallback } from '../util/BarUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { ReportBar } from '../state/ReportBar';\nimport { CartesianGraphicalItemContext, SetErrorBarContext } from '../context/CartesianGraphicalItemContext';\nimport { GraphicalItemClipPath, useNeedsClip } from './GraphicalItemClipPath';\nimport { useChartLayout } from '../context/chartLayoutContext';\nimport { selectBarRectangles } from '../state/selectors/barSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { selectActiveTooltipDataKey, selectActiveTooltipIndex } from '../state/selectors/tooltipSelectors';\nimport { SetLegendPayload } from '../state/SetLegendPayload';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { Animate } from '../animation/Animate';\n\nvar computeLegendPayloadFromBarData = props => {\n  var {\n    dataKey,\n    name,\n    fill,\n    legendType,\n    hide\n  } = props;\n  return [{\n    inactive: hide,\n    dataKey,\n    type: legendType,\n    color: fill,\n    value: getTooltipNameProp(name, dataKey),\n    payload: props\n  }];\n};\n\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    unit\n  } = props;\n  return {\n    dataDefinedOnItem: undefined,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      nameKey: undefined,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: props.tooltipType,\n      color: props.fill,\n      unit\n    }\n  };\n}\n\nfunction BarBackground(props) {\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var {\n    data,\n    dataKey,\n    background: backgroundFromProps,\n    allOtherBarProps\n  } = props;\n\n  var {\n    onMouseEnter: onMouseEnterFromProps,\n    onMouseLeave: onMouseLeaveFromProps,\n    onClick: onItemClickFromProps\n  } = allOtherBarProps,\n      restOfAllOtherProps = _objectWithoutProperties(allOtherBarProps, _excluded);\n\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey);\n\n  if (!backgroundFromProps || data == null) {\n    return null;\n  }\n\n  var backgroundProps = filterProps(backgroundFromProps, false);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map((entry, i) => {\n    var {\n      value,\n      background: backgroundFromDataEntry,\n      tooltipPosition\n    } = entry,\n        rest = _objectWithoutProperties(entry, _excluded2);\n\n    if (!backgroundFromDataEntry) {\n      return null;\n    } // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n\n\n    var onMouseEnter = onMouseEnterFromContext(entry, i); // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n\n    var onMouseLeave = onMouseLeaveFromContext(entry, i); // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n\n    var onClick = onClickFromContext(entry, i);\n\n    var barRectangleProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      option: backgroundFromProps,\n      isActive: String(i) === activeIndex\n    }, rest), {}, {\n      // @ts-expect-error BarRectangle props do not accept `fill` property.\n      fill: '#eee'\n    }, backgroundFromDataEntry), backgroundProps), adaptEventsOfChild(restOfAllOtherProps, entry, i)), {}, {\n      onMouseEnter,\n      onMouseLeave,\n      onClick,\n      dataKey,\n      index: i,\n      className: 'recharts-bar-background-rectangle'\n    });\n\n    return /*#__PURE__*/React.createElement(BarRectangle, _extends({\n      key: \"background-bar-\".concat(i)\n    }, barRectangleProps));\n  }));\n}\n\nfunction BarRectangles(_ref) {\n  var {\n    data,\n    props,\n    showLabels\n  } = _ref;\n  var baseProps = filterProps(props, false);\n  var {\n    shape,\n    dataKey,\n    activeBar\n  } = props;\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var activeDataKey = useAppSelector(selectActiveTooltipDataKey);\n\n  var {\n    onMouseEnter: onMouseEnterFromProps,\n    onClick: onItemClickFromProps,\n    onMouseLeave: onMouseLeaveFromProps\n  } = props,\n      restOfAllOtherProps = _objectWithoutProperties(props, _excluded3);\n\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey);\n\n  if (!data) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map((entry, i) => {\n    /*\n     * Bars support stacking, meaning that there can be multiple bars at the same x value.\n     * With Tooltip shared=false we only want to highlight the currently active Bar, not all.\n     *\n     * Also, if the tooltip is shared, we want to highlight all bars at the same x value\n     * regardless of the dataKey.\n     *\n     * With shared Tooltip, the activeDataKey is undefined.\n     */\n    var isActive = activeBar && String(i) === activeIndex && (activeDataKey == null || dataKey === activeDataKey);\n    var option = isActive ? activeBar : shape;\n\n    var barRectangleProps = _objectSpread(_objectSpread(_objectSpread({}, baseProps), entry), {}, {\n      isActive,\n      option,\n      index: i,\n      dataKey\n    });\n\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      className: \"recharts-bar-rectangle\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      onMouseEnter: onMouseEnterFromContext(entry, i) // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i) // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onClick: onClickFromContext(entry, i) // https://github.com/recharts/recharts/issues/5415\n      // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: \"rectangle-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value, \"-\").concat(i)\n    }), /*#__PURE__*/React.createElement(BarRectangle, barRectangleProps));\n  }), showLabels && LabelList.renderCallByParent(props, data));\n}\n\nfunction RectanglesWithAnimation(_ref2) {\n  var {\n    props,\n    previousRectanglesRef\n  } = _ref2;\n  var {\n    data,\n    layout,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevData = previousRectanglesRef.current;\n  var animationId = useAnimationId(props, 'recharts-bar-');\n  var [isAnimating, setIsAnimating] = useState(false);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(Animate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    from: {\n      t: 0\n    },\n    to: {\n      t: 1\n    },\n    onAnimationEnd: handleAnimationEnd,\n    onAnimationStart: handleAnimationStart,\n    key: animationId\n  }, _ref3 => {\n    var {\n      t\n    } = _ref3;\n    var stepData = t === 1 ? data : data.map((entry, index) => {\n      var prev = prevData && prevData[index];\n\n      if (prev) {\n        var interpolatorX = interpolateNumber(prev.x, entry.x);\n        var interpolatorY = interpolateNumber(prev.y, entry.y);\n        var interpolatorWidth = interpolateNumber(prev.width, entry.width);\n        var interpolatorHeight = interpolateNumber(prev.height, entry.height);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: interpolatorX(t),\n          y: interpolatorY(t),\n          width: interpolatorWidth(t),\n          height: interpolatorHeight(t)\n        });\n      }\n\n      if (layout === 'horizontal') {\n        var _interpolatorHeight = interpolateNumber(0, entry.height);\n\n        var h = _interpolatorHeight(t);\n\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          y: entry.y + entry.height - h,\n          height: h\n        });\n      }\n\n      var interpolator = interpolateNumber(0, entry.width);\n      var w = interpolator(t);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        width: w\n      });\n    });\n\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousRectanglesRef.current = stepData;\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(BarRectangles, {\n      props: props,\n      data: stepData,\n      showLabels: !isAnimating\n    }));\n  });\n}\n\nfunction RenderRectangles(props) {\n  var {\n    data,\n    isAnimationActive\n  } = props;\n  var previousRectanglesRef = useRef(null);\n\n  if (isAnimationActive && data && data.length && (previousRectanglesRef.current == null || previousRectanglesRef.current !== data)) {\n    return /*#__PURE__*/React.createElement(RectanglesWithAnimation, {\n      previousRectanglesRef: previousRectanglesRef,\n      props: props\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(BarRectangles, {\n    props: props,\n    data: data,\n    showLabels: true\n  });\n}\n\nvar defaultMinPointSize = 0;\n\nvar errorBarDataPointFormatter = (dataPoint, dataKey) => {\n  /**\n   * if the value coming from `selectBarRectangles` is an array then this is a stacked bar chart.\n   * arr[1] represents end value of the bar since the data is in the form of [startValue, endValue].\n   * */\n  var value = Array.isArray(dataPoint.value) ? dataPoint.value[1] : dataPoint.value;\n  return {\n    x: dataPoint.x,\n    y: dataPoint.y,\n    value,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    errorVal: getValueByDataKey(dataPoint, dataKey)\n  };\n};\n\nclass BarWithState extends PureComponent {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"id\", uniqueId('recharts-bar-'));\n  }\n\n  render() {\n    var {\n      hide,\n      data,\n      dataKey,\n      className,\n      xAxisId,\n      yAxisId,\n      needClip,\n      background,\n      id,\n      layout\n    } = this.props;\n\n    if (hide) {\n      return null;\n    }\n\n    var layerClass = clsx('recharts-bar', className);\n    var clipPathId = isNullish(id) ? this.id : id;\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass\n    }, needClip && /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(GraphicalItemClipPath, {\n      clipPathId: clipPathId,\n      xAxisId: xAxisId,\n      yAxisId: yAxisId\n    })), /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-bar-rectangles\",\n      clipPath: needClip ? \"url(#clipPath-\".concat(clipPathId, \")\") : null\n    }, /*#__PURE__*/React.createElement(BarBackground, {\n      data: data,\n      dataKey: dataKey,\n      background: background,\n      allOtherBarProps: this.props\n    }), /*#__PURE__*/React.createElement(RenderRectangles, this.props)), /*#__PURE__*/React.createElement(SetErrorBarPreferredDirection, {\n      direction: layout === 'horizontal' ? 'y' : 'x'\n    }, this.props.children));\n  }\n\n}\n\nvar defaultBarProps = {\n  activeBar: false,\n  animationBegin: 0,\n  animationDuration: 400,\n  animationEasing: 'ease',\n  hide: false,\n  isAnimationActive: !Global.isSsr,\n  legendType: 'rect',\n  minPointSize: defaultMinPointSize,\n  xAxisId: 0,\n  yAxisId: 0\n};\n\nfunction BarImpl(props) {\n  var {\n    xAxisId,\n    yAxisId,\n    hide,\n    legendType,\n    minPointSize,\n    activeBar,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isAnimationActive\n  } = resolveDefaultProps(props, defaultBarProps);\n  var {\n    needClip\n  } = useNeedsClip(xAxisId, yAxisId);\n  var layout = useChartLayout();\n  var isPanorama = useIsPanorama();\n  var barSettings = useMemo(() => ({\n    barSize: props.barSize,\n    data: undefined,\n    dataKey: props.dataKey,\n    maxBarSize: props.maxBarSize,\n    minPointSize,\n    stackId: getNormalizedStackId(props.stackId)\n  }), [props.barSize, props.dataKey, props.maxBarSize, minPointSize, props.stackId]);\n  var cells = findAllByType(props.children, Cell);\n  var rects = useAppSelector(state => selectBarRectangles(state, xAxisId, yAxisId, isPanorama, barSettings, cells));\n\n  if (layout !== 'vertical' && layout !== 'horizontal') {\n    return null;\n  }\n\n  var errorBarOffset;\n  var firstDataPoint = rects === null || rects === void 0 ? void 0 : rects[0];\n\n  if (firstDataPoint == null || firstDataPoint.height == null || firstDataPoint.width == null) {\n    errorBarOffset = 0;\n  } else {\n    errorBarOffset = layout === 'vertical' ? firstDataPoint.height / 2 : firstDataPoint.width / 2;\n  }\n\n  return /*#__PURE__*/React.createElement(SetErrorBarContext, {\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    data: rects,\n    dataPointFormatter: errorBarDataPointFormatter,\n    errorBarOffset: errorBarOffset\n  }, /*#__PURE__*/React.createElement(BarWithState, _extends({}, props, {\n    layout: layout,\n    needClip: needClip,\n    data: rects,\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    hide: hide,\n    legendType: legendType,\n    minPointSize: minPointSize,\n    activeBar: activeBar,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive\n  })));\n}\n\nexport function computeBarRectangles(_ref4) {\n  var {\n    layout,\n    barSettings: {\n      dataKey,\n      minPointSize: minPointSizeProp\n    },\n    pos,\n    bandSize,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    stackedData,\n    displayedData,\n    offset,\n    cells\n  } = _ref4;\n  var numericAxis = layout === 'horizontal' ? yAxis : xAxis; // @ts-expect-error this assumes that the domain is always numeric, but doesn't check for it\n\n  var stackedDomain = stackedData ? numericAxis.scale.domain() : null;\n  var baseValue = getBaseValueOfBar({\n    numericAxis\n  });\n  return displayedData.map((entry, index) => {\n    var value, x, y, width, height, background;\n\n    if (stackedData) {\n      // we don't need to use dataStartIndex here, because stackedData is already sliced from the selector\n      value = truncateByDomain(stackedData[index], stackedDomain);\n    } else {\n      value = getValueByDataKey(entry, dataKey);\n\n      if (!Array.isArray(value)) {\n        value = [baseValue, value];\n      }\n    }\n\n    var minPointSize = minPointSizeCallback(minPointSizeProp, defaultMinPointSize)(value[1], index);\n\n    if (layout === 'horizontal') {\n      var _ref5;\n\n      var [baseValueScale, currentValueScale] = [yAxis.scale(value[0]), yAxis.scale(value[1])];\n      x = getCateCoordinateOfBar({\n        axis: xAxis,\n        ticks: xAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      y = (_ref5 = currentValueScale !== null && currentValueScale !== void 0 ? currentValueScale : baseValueScale) !== null && _ref5 !== void 0 ? _ref5 : undefined;\n      width = pos.size;\n      var computedHeight = baseValueScale - currentValueScale;\n      height = isNan(computedHeight) ? 0 : computedHeight;\n      background = {\n        x,\n        y: offset.top,\n        width,\n        height: offset.height\n      };\n\n      if (Math.abs(minPointSize) > 0 && Math.abs(height) < Math.abs(minPointSize)) {\n        var delta = mathSign(height || minPointSize) * (Math.abs(minPointSize) - Math.abs(height));\n        y -= delta;\n        height += delta;\n      }\n    } else {\n      var [_baseValueScale, _currentValueScale] = [xAxis.scale(value[0]), xAxis.scale(value[1])];\n      x = _baseValueScale;\n      y = getCateCoordinateOfBar({\n        axis: yAxis,\n        ticks: yAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      width = _currentValueScale - _baseValueScale;\n      height = pos.size;\n      background = {\n        x: offset.left,\n        y,\n        width: offset.width,\n        height\n      };\n\n      if (Math.abs(minPointSize) > 0 && Math.abs(width) < Math.abs(minPointSize)) {\n        var _delta = mathSign(width || minPointSize) * (Math.abs(minPointSize) - Math.abs(width));\n\n        width += _delta;\n      }\n    }\n\n    var barRectangleItem = _objectSpread(_objectSpread({}, entry), {}, {\n      x,\n      y,\n      width,\n      height,\n      value: stackedData ? value : value[1],\n      payload: entry,\n      background,\n      tooltipPosition: {\n        x: x + width / 2,\n        y: y + height / 2\n      }\n    }, cells && cells[index] && cells[index].props);\n\n    return barRectangleItem;\n  });\n}\nexport class Bar extends PureComponent {\n  render() {\n    // Report all props to Redux store first, before calling any hooks, to avoid circular dependencies.\n    return /*#__PURE__*/React.createElement(CartesianGraphicalItemContext, {\n      type: \"bar\" // Bar does not allow setting data directly on the graphical item (why?)\n      ,\n      data: null,\n      xAxisId: this.props.xAxisId,\n      yAxisId: this.props.yAxisId,\n      zAxisId: 0,\n      dataKey: this.props.dataKey,\n      stackId: this.props.stackId,\n      hide: this.props.hide,\n      barSize: this.props.barSize\n    }, /*#__PURE__*/React.createElement(ReportBar, null), /*#__PURE__*/React.createElement(SetLegendPayload, {\n      legendPayload: computeLegendPayloadFromBarData(this.props)\n    }), /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n      fn: getTooltipEntrySettings,\n      args: this.props\n    }), /*#__PURE__*/React.createElement(BarImpl, this.props));\n  }\n\n}\n\n_defineProperty(Bar, \"displayName\", 'Bar');\n\n_defineProperty(Bar, \"defaultProps\", defaultBarProps);","map":{"version":3,"sources":["/Users/emiliamamedova/charts/flightStats/node_modules/recharts/es6/cartesian/Bar.js"],"names":["_excluded","_excluded2","_excluded3","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","React","PureComponent","useCallback","useMemo","useRef","useState","clsx","Layer","SetErrorBarPreferredDirection","Cell","LabelList","interpolateNumber","isNan","isNullish","mathSign","uniqueId","filterProps","findAllByType","Global","getBaseValueOfBar","getCateCoordinateOfBar","getNormalizedStackId","getTooltipNameProp","getValueByDataKey","truncateByDomain","adaptEventsOfChild","BarRectangle","minPointSizeCallback","useMouseClickItemDispatch","useMouseEnterItemDispatch","useMouseLeaveItemDispatch","SetTooltipEntrySettings","ReportBar","CartesianGraphicalItemContext","SetErrorBarContext","GraphicalItemClipPath","useNeedsClip","useChartLayout","selectBarRectangles","useAppSelector","useIsPanorama","selectActiveTooltipDataKey","selectActiveTooltipIndex","SetLegendPayload","useAnimationId","resolveDefaultProps","Animate","computeLegendPayloadFromBarData","props","dataKey","name","fill","legendType","hide","inactive","type","color","payload","getTooltipEntrySettings","stroke","strokeWidth","unit","dataDefinedOnItem","undefined","positions","settings","nameKey","tooltipType","BarBackground","activeIndex","data","background","backgroundFromProps","allOtherBarProps","onMouseEnter","onMouseEnterFromProps","onMouseLeave","onMouseLeaveFromProps","onClick","onItemClickFromProps","restOfAllOtherProps","onMouseEnterFromContext","onMouseLeaveFromContext","onClickFromContext","backgroundProps","createElement","Fragment","map","entry","backgroundFromDataEntry","tooltipPosition","rest","barRectangleProps","option","isActive","index","className","key","concat","BarRectangles","_ref","showLabels","baseProps","shape","activeBar","activeDataKey","x","y","renderCallByParent","RectanglesWithAnimation","_ref2","previousRectanglesRef","layout","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationEnd","onAnimationStart","prevData","current","animationId","isAnimating","setIsAnimating","handleAnimationEnd","handleAnimationStart","begin","duration","easing","from","to","_ref3","stepData","prev","interpolatorX","interpolatorY","interpolatorWidth","width","interpolatorHeight","height","_interpolatorHeight","h","interpolator","w","RenderRectangles","defaultMinPointSize","errorBarDataPointFormatter","dataPoint","Array","isArray","errorVal","BarWithState","constructor","render","xAxisId","yAxisId","needClip","id","layerClass","clipPathId","clipPath","direction","children","defaultBarProps","isSsr","minPointSize","BarImpl","isPanorama","barSettings","barSize","maxBarSize","stackId","cells","rects","state","errorBarOffset","firstDataPoint","dataPointFormatter","computeBarRectangles","_ref4","minPointSizeProp","pos","bandSize","xAxis","yAxis","xAxisTicks","yAxisTicks","stackedData","displayedData","offset","numericAxis","stackedDomain","scale","domain","baseValue","_ref5","baseValueScale","currentValueScale","axis","ticks","size","computedHeight","top","Math","abs","delta","_baseValueScale","_currentValueScale","left","_delta","barRectangleItem","Bar","zAxisId","legendPayload","fn","args"],"mappings":"AAAA,IAAIA,SAAS,GAAG,CAAC,cAAD,EAAiB,cAAjB,EAAiC,SAAjC,CAAhB;AAAA,IACEC,UAAU,GAAG,CAAC,OAAD,EAAU,YAAV,EAAwB,iBAAxB,CADf;AAAA,IAEEC,UAAU,GAAG,CAAC,cAAD,EAAiB,SAAjB,EAA4B,cAA5B,CAFf;;AAGA,SAASC,QAAT,GAAoB;AAAE,SAAOA,QAAQ,GAAGC,MAAM,CAACC,MAAP,GAAgBD,MAAM,CAACC,MAAP,CAAcC,IAAd,EAAhB,GAAuC,UAAUC,CAAV,EAAa;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,CAAC,GAAGF,SAAS,CAACD,CAAD,CAAjB;;AAAsB,WAAK,IAAII,CAAT,IAAcD,CAAd,EAAiB,CAAC,EAAD,EAAKE,cAAL,CAAoBC,IAApB,CAAyBH,CAAzB,EAA4BC,CAA5B,MAAmCL,CAAC,CAACK,CAAD,CAAD,GAAOD,CAAC,CAACC,CAAD,CAA3C;AAAkD;;AAAC,WAAOL,CAAP;AAAW,GAAnN,EAAqNJ,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAA5N;AAA8P;;AACpR,SAASO,OAAT,CAAiBR,CAAjB,EAAoBI,CAApB,EAAuB;AAAE,MAAID,CAAC,GAAGP,MAAM,CAACa,IAAP,CAAYT,CAAZ,CAAR;;AAAwB,MAAIJ,MAAM,CAACc,qBAAX,EAAkC;AAAE,QAAIC,CAAC,GAAGf,MAAM,CAACc,qBAAP,CAA6BV,CAA7B,CAAR;AAAyCI,IAAAA,CAAC,KAAKO,CAAC,GAAGA,CAAC,CAACC,MAAF,CAAS,UAAUR,CAAV,EAAa;AAAE,aAAOR,MAAM,CAACiB,wBAAP,CAAgCb,CAAhC,EAAmCI,CAAnC,EAAsCU,UAA7C;AAA0D,KAAlF,CAAT,CAAD,EAAgGX,CAAC,CAACY,IAAF,CAAOR,KAAP,CAAaJ,CAAb,EAAgBQ,CAAhB,CAAhG;AAAqH;;AAAC,SAAOR,CAAP;AAAW;;AAC/P,SAASa,aAAT,CAAuBhB,CAAvB,EAA0B;AAAE,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACC,MAA9B,EAAsCE,CAAC,EAAvC,EAA2C;AAAE,QAAID,CAAC,GAAG,QAAQF,SAAS,CAACG,CAAD,CAAjB,GAAuBH,SAAS,CAACG,CAAD,CAAhC,GAAsC,EAA9C;AAAkDA,IAAAA,CAAC,GAAG,CAAJ,GAAQI,OAAO,CAACZ,MAAM,CAACO,CAAD,CAAP,EAAY,CAAC,CAAb,CAAP,CAAuBc,OAAvB,CAA+B,UAAUb,CAAV,EAAa;AAAEc,MAAAA,eAAe,CAAClB,CAAD,EAAII,CAAJ,EAAOD,CAAC,CAACC,CAAD,CAAR,CAAf;AAA8B,KAA5E,CAAR,GAAwFR,MAAM,CAACuB,yBAAP,GAAmCvB,MAAM,CAACwB,gBAAP,CAAwBpB,CAAxB,EAA2BJ,MAAM,CAACuB,yBAAP,CAAiChB,CAAjC,CAA3B,CAAnC,GAAqGK,OAAO,CAACZ,MAAM,CAACO,CAAD,CAAP,CAAP,CAAmBc,OAAnB,CAA2B,UAAUb,CAAV,EAAa;AAAER,MAAAA,MAAM,CAACyB,cAAP,CAAsBrB,CAAtB,EAAyBI,CAAzB,EAA4BR,MAAM,CAACiB,wBAAP,CAAgCV,CAAhC,EAAmCC,CAAnC,CAA5B;AAAqE,KAA/G,CAA7L;AAAgT;;AAAC,SAAOJ,CAAP;AAAW;;AACvb,SAASkB,eAAT,CAAyBlB,CAAzB,EAA4BI,CAA5B,EAA+BD,CAA/B,EAAkC;AAAE,SAAO,CAACC,CAAC,GAAGkB,cAAc,CAAClB,CAAD,CAAnB,KAA2BJ,CAA3B,GAA+BJ,MAAM,CAACyB,cAAP,CAAsBrB,CAAtB,EAAyBI,CAAzB,EAA4B;AAAEmB,IAAAA,KAAK,EAAEpB,CAAT;AAAYW,IAAAA,UAAU,EAAE,CAAC,CAAzB;AAA4BU,IAAAA,YAAY,EAAE,CAAC,CAA3C;AAA8CC,IAAAA,QAAQ,EAAE,CAAC;AAAzD,GAA5B,CAA/B,GAA2HzB,CAAC,CAACI,CAAD,CAAD,GAAOD,CAAlI,EAAqIH,CAA5I;AAAgJ;;AACpL,SAASsB,cAAT,CAAwBnB,CAAxB,EAA2B;AAAE,MAAIuB,CAAC,GAAGC,YAAY,CAACxB,CAAD,EAAI,QAAJ,CAApB;;AAAmC,SAAO,YAAY,OAAOuB,CAAnB,GAAuBA,CAAvB,GAA2BA,CAAC,GAAG,EAAtC;AAA2C;;AAC3G,SAASC,YAAT,CAAsBxB,CAAtB,EAAyBC,CAAzB,EAA4B;AAAE,MAAI,YAAY,OAAOD,CAAnB,IAAwB,CAACA,CAA7B,EAAgC,OAAOA,CAAP;AAAU,MAAIH,CAAC,GAAGG,CAAC,CAACyB,MAAM,CAACC,WAAR,CAAT;;AAA+B,MAAI,KAAK,CAAL,KAAW7B,CAAf,EAAkB;AAAE,QAAI0B,CAAC,GAAG1B,CAAC,CAACM,IAAF,CAAOH,CAAP,EAAUC,CAAC,IAAI,SAAf,CAAR;AAAmC,QAAI,YAAY,OAAOsB,CAAvB,EAA0B,OAAOA,CAAP;AAAU,UAAM,IAAII,SAAJ,CAAc,8CAAd,CAAN;AAAsE;;AAAC,SAAO,CAAC,aAAa1B,CAAb,GAAiB2B,MAAjB,GAA0BC,MAA3B,EAAmC7B,CAAnC,CAAP;AAA+C;;AACxT,SAAS8B,wBAAT,CAAkCjC,CAAlC,EAAqCG,CAArC,EAAwC;AAAE,MAAI,QAAQH,CAAZ,EAAe,OAAO,EAAP;;AAAW,MAAIW,CAAJ;AAAA,MAAOP,CAAP;AAAA,MAAUsB,CAAC,GAAGQ,6BAA6B,CAAClC,CAAD,EAAIG,CAAJ,CAA3C;;AAAmD,MAAIP,MAAM,CAACc,qBAAX,EAAkC;AAAE,QAAIX,CAAC,GAAGH,MAAM,CAACc,qBAAP,CAA6BV,CAA7B,CAAR;;AAAyC,SAAKI,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGL,CAAC,CAACG,MAAlB,EAA0BE,CAAC,EAA3B,EAA+BO,CAAC,GAAGZ,CAAC,CAACK,CAAD,CAAL,EAAU,CAAC,CAAD,KAAOD,CAAC,CAACgC,OAAF,CAAUxB,CAAV,CAAP,IAAuB,GAAGyB,oBAAH,CAAwB9B,IAAxB,CAA6BN,CAA7B,EAAgCW,CAAhC,CAAvB,KAA8De,CAAC,CAACf,CAAD,CAAD,GAAOX,CAAC,CAACW,CAAD,CAAtE,CAAV;AAAuF;;AAAC,SAAOe,CAAP;AAAW;;AACtU,SAASQ,6BAAT,CAAuC9B,CAAvC,EAA0CJ,CAA1C,EAA6C;AAAE,MAAI,QAAQI,CAAZ,EAAe,OAAO,EAAP;AAAW,MAAID,CAAC,GAAG,EAAR;;AAAY,OAAK,IAAIJ,CAAT,IAAcK,CAAd,EAAiB,IAAI,GAAGC,cAAH,CAAkBC,IAAlB,CAAuBF,CAAvB,EAA0BL,CAA1B,CAAJ,EAAkC;AAAE,QAAI,CAAC,CAAD,KAAOC,CAAC,CAACmC,OAAF,CAAUpC,CAAV,CAAX,EAAyB;AAAUI,IAAAA,CAAC,CAACJ,CAAD,CAAD,GAAOK,CAAC,CAACL,CAAD,CAAR;AAAc;;AAAC,SAAOI,CAAP;AAAW;AACvM;;;AAGA;;;AACA,OAAO,KAAKkC,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT,EAAwBC,WAAxB,EAAqCC,OAArC,EAA8CC,MAA9C,EAAsDC,QAAtD,QAAsE,OAAtE;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,6BAAT,QAA8C,YAA9C;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,iBAAT,EAA4BC,KAA5B,EAAmCC,SAAnC,EAA8CC,QAA9C,EAAwDC,QAAxD,QAAwE,mBAAxE;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,oBAA3C;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,iBAAT,EAA4BC,sBAA5B,EAAoDC,oBAApD,EAA0EC,kBAA1E,EAA8FC,iBAA9F,EAAiHC,gBAAjH,QAAyI,oBAAzI;AACA,SAASC,kBAAT,QAAmC,eAAnC;AACA,SAASC,YAAT,EAAuBC,oBAAvB,QAAmD,kBAAnD;AACA,SAASC,yBAAT,EAAoCC,yBAApC,EAA+DC,yBAA/D,QAAgG,2BAAhG;AACA,SAASC,uBAAT,QAAwC,kCAAxC;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,6BAAT,EAAwCC,kBAAxC,QAAkE,0CAAlE;AACA,SAASC,qBAAT,EAAgCC,YAAhC,QAAoD,yBAApD;AACA,SAASC,cAAT,QAA+B,+BAA/B;AACA,SAASC,mBAAT,QAAoC,iCAApC;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,0BAAT,EAAqCC,wBAArC,QAAqE,qCAArE;AACA,SAASC,gBAAT,QAAiC,2BAAjC;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,mBAAT,QAAoC,6BAApC;AACA,SAASC,OAAT,QAAwB,sBAAxB;;AACA,IAAIC,+BAA+B,GAAGC,KAAK,IAAI;AAC7C,MAAI;AACFC,IAAAA,OADE;AAEFC,IAAAA,IAFE;AAGFC,IAAAA,IAHE;AAIFC,IAAAA,UAJE;AAKFC,IAAAA;AALE,MAMAL,KANJ;AAOA,SAAO,CAAC;AACNM,IAAAA,QAAQ,EAAED,IADJ;AAENJ,IAAAA,OAFM;AAGNM,IAAAA,IAAI,EAAEH,UAHA;AAINI,IAAAA,KAAK,EAAEL,IAJD;AAKNjE,IAAAA,KAAK,EAAEoC,kBAAkB,CAAC4B,IAAD,EAAOD,OAAP,CALnB;AAMNQ,IAAAA,OAAO,EAAET;AANH,GAAD,CAAP;AAQD,CAhBD;;AAiBA,SAASU,uBAAT,CAAiCV,KAAjC,EAAwC;AACtC,MAAI;AACFC,IAAAA,OADE;AAEFU,IAAAA,MAFE;AAGFC,IAAAA,WAHE;AAIFT,IAAAA,IAJE;AAKFD,IAAAA,IALE;AAMFG,IAAAA,IANE;AAOFQ,IAAAA;AAPE,MAQAb,KARJ;AASA,SAAO;AACLc,IAAAA,iBAAiB,EAAEC,SADd;AAELC,IAAAA,SAAS,EAAED,SAFN;AAGLE,IAAAA,QAAQ,EAAE;AACRN,MAAAA,MADQ;AAERC,MAAAA,WAFQ;AAGRT,MAAAA,IAHQ;AAIRF,MAAAA,OAJQ;AAKRiB,MAAAA,OAAO,EAAEH,SALD;AAMRb,MAAAA,IAAI,EAAE5B,kBAAkB,CAAC4B,IAAD,EAAOD,OAAP,CANhB;AAORI,MAAAA,IAPQ;AAQRE,MAAAA,IAAI,EAAEP,KAAK,CAACmB,WARJ;AASRX,MAAAA,KAAK,EAAER,KAAK,CAACG,IATL;AAURU,MAAAA;AAVQ;AAHL,GAAP;AAgBD;;AACD,SAASO,aAAT,CAAuBpB,KAAvB,EAA8B;AAC5B,MAAIqB,WAAW,GAAG9B,cAAc,CAACG,wBAAD,CAAhC;AACA,MAAI;AACF4B,IAAAA,IADE;AAEFrB,IAAAA,OAFE;AAGFsB,IAAAA,UAAU,EAAEC,mBAHV;AAIFC,IAAAA;AAJE,MAKAzB,KALJ;;AAMA,MAAI;AACA0B,IAAAA,YAAY,EAAEC,qBADd;AAEAC,IAAAA,YAAY,EAAEC,qBAFd;AAGAC,IAAAA,OAAO,EAAEC;AAHT,MAIEN,gBAJN;AAAA,MAKEO,mBAAmB,GAAGpF,wBAAwB,CAAC6E,gBAAD,EAAmBtH,SAAnB,CALhD;;AAMA,MAAI8H,uBAAuB,GAAGpD,yBAAyB,CAAC8C,qBAAD,EAAwB1B,OAAxB,CAAvD;AACA,MAAIiC,uBAAuB,GAAGpD,yBAAyB,CAAC+C,qBAAD,CAAvD;AACA,MAAIM,kBAAkB,GAAGvD,yBAAyB,CAACmD,oBAAD,EAAuB9B,OAAvB,CAAlD;;AACA,MAAI,CAACuB,mBAAD,IAAwBF,IAAI,IAAI,IAApC,EAA0C;AACxC,WAAO,IAAP;AACD;;AACD,MAAIc,eAAe,GAAGpE,WAAW,CAACwD,mBAAD,EAAsB,KAAtB,CAAjC;AACA,SAAO,aAAaxE,KAAK,CAACqF,aAAN,CAAoBrF,KAAK,CAACsF,QAA1B,EAAoC,IAApC,EAA0ChB,IAAI,CAACiB,GAAL,CAAS,CAACC,KAAD,EAAQnG,CAAR,KAAc;AACnF,QAAI;AACAH,MAAAA,KADA;AAEAqF,MAAAA,UAAU,EAAEkB,uBAFZ;AAGAC,MAAAA;AAHA,QAIEF,KAJN;AAAA,QAKEG,IAAI,GAAG/F,wBAAwB,CAAC4F,KAAD,EAAQpI,UAAR,CALjC;;AAMA,QAAI,CAACqI,uBAAL,EAA8B;AAC5B,aAAO,IAAP;AACD,KATkF,CAWnF;;;AACA,QAAIf,YAAY,GAAGO,uBAAuB,CAACO,KAAD,EAAQnG,CAAR,CAA1C,CAZmF,CAanF;;AACA,QAAIuF,YAAY,GAAGM,uBAAuB,CAACM,KAAD,EAAQnG,CAAR,CAA1C,CAdmF,CAenF;;AACA,QAAIyF,OAAO,GAAGK,kBAAkB,CAACK,KAAD,EAAQnG,CAAR,CAAhC;;AACA,QAAIuG,iBAAiB,GAAGjH,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAAC;AAC5FkH,MAAAA,MAAM,EAAErB,mBADoF;AAE5FsB,MAAAA,QAAQ,EAAEpG,MAAM,CAACL,CAAD,CAAN,KAAcgF;AAFoE,KAAD,EAG1FsB,IAH0F,CAAd,EAGrE,EAHqE,EAGjE;AACZ;AACAxC,MAAAA,IAAI,EAAE;AAFM,KAHiE,EAM5EsC,uBAN4E,CAAd,EAMpCL,eANoC,CAAd,EAMJ3D,kBAAkB,CAACuD,mBAAD,EAAsBQ,KAAtB,EAA6BnG,CAA7B,CANd,CAAd,EAM8D,EAN9D,EAMkE;AACrGqF,MAAAA,YADqG;AAErGE,MAAAA,YAFqG;AAGrGE,MAAAA,OAHqG;AAIrG7B,MAAAA,OAJqG;AAKrG8C,MAAAA,KAAK,EAAE1G,CAL8F;AAMrG2G,MAAAA,SAAS,EAAE;AAN0F,KANlE,CAArC;;AAcA,WAAO,aAAahG,KAAK,CAACqF,aAAN,CAAoB3D,YAApB,EAAkCpE,QAAQ,CAAC;AAC7D2I,MAAAA,GAAG,EAAE,kBAAkBC,MAAlB,CAAyB7G,CAAzB;AADwD,KAAD,EAE3DuG,iBAF2D,CAA1C,CAApB;AAGD,GAlC6D,CAA1C,CAApB;AAmCD;;AACD,SAASO,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,MAAI;AACF9B,IAAAA,IADE;AAEFtB,IAAAA,KAFE;AAGFqD,IAAAA;AAHE,MAIAD,IAJJ;AAKA,MAAIE,SAAS,GAAGtF,WAAW,CAACgC,KAAD,EAAQ,KAAR,CAA3B;AACA,MAAI;AACFuD,IAAAA,KADE;AAEFtD,IAAAA,OAFE;AAGFuD,IAAAA;AAHE,MAIAxD,KAJJ;AAKA,MAAIqB,WAAW,GAAG9B,cAAc,CAACG,wBAAD,CAAhC;AACA,MAAI+D,aAAa,GAAGlE,cAAc,CAACE,0BAAD,CAAlC;;AACA,MAAI;AACAiC,IAAAA,YAAY,EAAEC,qBADd;AAEAG,IAAAA,OAAO,EAAEC,oBAFT;AAGAH,IAAAA,YAAY,EAAEC;AAHd,MAIE7B,KAJN;AAAA,MAKEgC,mBAAmB,GAAGpF,wBAAwB,CAACoD,KAAD,EAAQ3F,UAAR,CALhD;;AAMA,MAAI4H,uBAAuB,GAAGpD,yBAAyB,CAAC8C,qBAAD,EAAwB1B,OAAxB,CAAvD;AACA,MAAIiC,uBAAuB,GAAGpD,yBAAyB,CAAC+C,qBAAD,CAAvD;AACA,MAAIM,kBAAkB,GAAGvD,yBAAyB,CAACmD,oBAAD,EAAuB9B,OAAvB,CAAlD;;AACA,MAAI,CAACqB,IAAL,EAAW;AACT,WAAO,IAAP;AACD;;AACD,SAAO,aAAatE,KAAK,CAACqF,aAAN,CAAoBrF,KAAK,CAACsF,QAA1B,EAAoC,IAApC,EAA0ChB,IAAI,CAACiB,GAAL,CAAS,CAACC,KAAD,EAAQnG,CAAR,KAAc;AACnF;;;;;;;;;AASA,QAAIyG,QAAQ,GAAGU,SAAS,IAAI9G,MAAM,CAACL,CAAD,CAAN,KAAcgF,WAA3B,KAA2CoC,aAAa,IAAI,IAAjB,IAAyBxD,OAAO,KAAKwD,aAAhF,CAAf;AACA,QAAIZ,MAAM,GAAGC,QAAQ,GAAGU,SAAH,GAAeD,KAApC;;AACA,QAAIX,iBAAiB,GAAGjH,aAAa,CAACA,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK2H,SAAL,CAAd,EAA+Bd,KAA/B,CAAd,EAAqD,EAArD,EAAyD;AAC5FM,MAAAA,QAD4F;AAE5FD,MAAAA,MAF4F;AAG5FE,MAAAA,KAAK,EAAE1G,CAHqF;AAI5F4D,MAAAA;AAJ4F,KAAzD,CAArC;;AAMA,WAAO,aAAajD,KAAK,CAACqF,aAAN,CAAoB9E,KAApB,EAA2BjD,QAAQ,CAAC;AACtD0I,MAAAA,SAAS,EAAE;AAD2C,KAAD,EAEpDvE,kBAAkB,CAACuD,mBAAD,EAAsBQ,KAAtB,EAA6BnG,CAA7B,CAFkC,EAED;AACpD;AACAqF,MAAAA,YAAY,EAAEO,uBAAuB,CAACO,KAAD,EAAQnG,CAAR,CAFe,CAGpD;AAHoD;AAKpDuF,MAAAA,YAAY,EAAEM,uBAAuB,CAACM,KAAD,EAAQnG,CAAR,CALe,CAMpD;AANoD;AAQpDyF,MAAAA,OAAO,EAAEK,kBAAkB,CAACK,KAAD,EAAQnG,CAAR,CARyB,CASpD;AACA;AAVoD;AAYpD4G,MAAAA,GAAG,EAAE,aAAaC,MAAb,CAAoBV,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACkB,CAAxE,EAA2E,GAA3E,EAAgFR,MAAhF,CAAuFV,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACmB,CAA3I,EAA8I,GAA9I,EAAmJT,MAAnJ,CAA0JV,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACtG,KAA9M,EAAqN,GAArN,EAA0NgH,MAA1N,CAAiO7G,CAAjO;AAZ+C,KAFC,CAAnC,EAehB,aAAaW,KAAK,CAACqF,aAAN,CAAoB3D,YAApB,EAAkCkE,iBAAlC,CAfG,CAApB;AAgBD,GAlC6D,CAA1C,EAkChBS,UAAU,IAAI3F,SAAS,CAACkG,kBAAV,CAA6B5D,KAA7B,EAAoCsB,IAApC,CAlCE,CAApB;AAmCD;;AACD,SAASuC,uBAAT,CAAiCC,KAAjC,EAAwC;AACtC,MAAI;AACF9D,IAAAA,KADE;AAEF+D,IAAAA;AAFE,MAGAD,KAHJ;AAIA,MAAI;AACFxC,IAAAA,IADE;AAEF0C,IAAAA,MAFE;AAGFC,IAAAA,iBAHE;AAIFC,IAAAA,cAJE;AAKFC,IAAAA,iBALE;AAMFC,IAAAA,eANE;AAOFC,IAAAA,cAPE;AAQFC,IAAAA;AARE,MASAtE,KATJ;AAUA,MAAIuE,QAAQ,GAAGR,qBAAqB,CAACS,OAArC;AACA,MAAIC,WAAW,GAAG7E,cAAc,CAACI,KAAD,EAAQ,eAAR,CAAhC;AACA,MAAI,CAAC0E,WAAD,EAAcC,cAAd,IAAgCtH,QAAQ,CAAC,KAAD,CAA5C;AACA,MAAIuH,kBAAkB,GAAG1H,WAAW,CAAC,MAAM;AACzC,QAAI,OAAOmH,cAAP,KAA0B,UAA9B,EAA0C;AACxCA,MAAAA,cAAc;AACf;;AACDM,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GALmC,EAKjC,CAACN,cAAD,CALiC,CAApC;AAMA,MAAIQ,oBAAoB,GAAG3H,WAAW,CAAC,MAAM;AAC3C,QAAI,OAAOoH,gBAAP,KAA4B,UAAhC,EAA4C;AAC1CA,MAAAA,gBAAgB;AACjB;;AACDK,IAAAA,cAAc,CAAC,IAAD,CAAd;AACD,GALqC,EAKnC,CAACL,gBAAD,CALmC,CAAtC;AAMA,SAAO,aAAatH,KAAK,CAACqF,aAAN,CAAoBvC,OAApB,EAA6B;AAC/CgF,IAAAA,KAAK,EAAEZ,cADwC;AAE/Ca,IAAAA,QAAQ,EAAEZ,iBAFqC;AAG/CrB,IAAAA,QAAQ,EAAEmB,iBAHqC;AAI/Ce,IAAAA,MAAM,EAAEZ,eAJuC;AAK/Ca,IAAAA,IAAI,EAAE;AACJnK,MAAAA,CAAC,EAAE;AADC,KALyC;AAQ/CoK,IAAAA,EAAE,EAAE;AACFpK,MAAAA,CAAC,EAAE;AADD,KAR2C;AAW/CuJ,IAAAA,cAAc,EAAEO,kBAX+B;AAY/CN,IAAAA,gBAAgB,EAAEO,oBAZ6B;AAa/C5B,IAAAA,GAAG,EAAEwB;AAb0C,GAA7B,EAcjBU,KAAK,IAAI;AACV,QAAI;AACFrK,MAAAA;AADE,QAEAqK,KAFJ;AAGA,QAAIC,QAAQ,GAAGtK,CAAC,KAAK,CAAN,GAAUwG,IAAV,GAAiBA,IAAI,CAACiB,GAAL,CAAS,CAACC,KAAD,EAAQO,KAAR,KAAkB;AACzD,UAAIsC,IAAI,GAAGd,QAAQ,IAAIA,QAAQ,CAACxB,KAAD,CAA/B;;AACA,UAAIsC,IAAJ,EAAU;AACR,YAAIC,aAAa,GAAG3H,iBAAiB,CAAC0H,IAAI,CAAC3B,CAAN,EAASlB,KAAK,CAACkB,CAAf,CAArC;AACA,YAAI6B,aAAa,GAAG5H,iBAAiB,CAAC0H,IAAI,CAAC1B,CAAN,EAASnB,KAAK,CAACmB,CAAf,CAArC;AACA,YAAI6B,iBAAiB,GAAG7H,iBAAiB,CAAC0H,IAAI,CAACI,KAAN,EAAajD,KAAK,CAACiD,KAAnB,CAAzC;AACA,YAAIC,kBAAkB,GAAG/H,iBAAiB,CAAC0H,IAAI,CAACM,MAAN,EAAcnD,KAAK,CAACmD,MAApB,CAA1C;AACA,eAAOhK,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6G,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACjDkB,UAAAA,CAAC,EAAE4B,aAAa,CAACxK,CAAD,CADiC;AAEjD6I,UAAAA,CAAC,EAAE4B,aAAa,CAACzK,CAAD,CAFiC;AAGjD2K,UAAAA,KAAK,EAAED,iBAAiB,CAAC1K,CAAD,CAHyB;AAIjD6K,UAAAA,MAAM,EAAED,kBAAkB,CAAC5K,CAAD;AAJuB,SAA/B,CAApB;AAMD;;AACD,UAAIkJ,MAAM,KAAK,YAAf,EAA6B;AAC3B,YAAI4B,mBAAmB,GAAGjI,iBAAiB,CAAC,CAAD,EAAI6E,KAAK,CAACmD,MAAV,CAA3C;;AACA,YAAIE,CAAC,GAAGD,mBAAmB,CAAC9K,CAAD,CAA3B;;AACA,eAAOa,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6G,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACjDmB,UAAAA,CAAC,EAAEnB,KAAK,CAACmB,CAAN,GAAUnB,KAAK,CAACmD,MAAhB,GAAyBE,CADqB;AAEjDF,UAAAA,MAAM,EAAEE;AAFyC,SAA/B,CAApB;AAID;;AACD,UAAIC,YAAY,GAAGnI,iBAAiB,CAAC,CAAD,EAAI6E,KAAK,CAACiD,KAAV,CAApC;AACA,UAAIM,CAAC,GAAGD,YAAY,CAAChL,CAAD,CAApB;AACA,aAAOa,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6G,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACjDiD,QAAAA,KAAK,EAAEM;AAD0C,OAA/B,CAApB;AAGD,KA3B+B,CAAhC;;AA4BA,QAAIjL,CAAC,GAAG,CAAR,EAAW;AACT;AACAiJ,MAAAA,qBAAqB,CAACS,OAAtB,GAAgCY,QAAhC;AACD;;AACD,WAAO,aAAapI,KAAK,CAACqF,aAAN,CAAoB9E,KAApB,EAA2B,IAA3B,EAAiC,aAAaP,KAAK,CAACqF,aAAN,CAAoBc,aAApB,EAAmC;AACnGnD,MAAAA,KAAK,EAAEA,KAD4F;AAEnGsB,MAAAA,IAAI,EAAE8D,QAF6F;AAGnG/B,MAAAA,UAAU,EAAE,CAACqB;AAHsF,KAAnC,CAA9C,CAApB;AAKD,GAvDmB,CAApB;AAwDD;;AACD,SAASsB,gBAAT,CAA0BhG,KAA1B,EAAiC;AAC/B,MAAI;AACFsB,IAAAA,IADE;AAEF2C,IAAAA;AAFE,MAGAjE,KAHJ;AAIA,MAAI+D,qBAAqB,GAAG3G,MAAM,CAAC,IAAD,CAAlC;;AACA,MAAI6G,iBAAiB,IAAI3C,IAArB,IAA6BA,IAAI,CAACzG,MAAlC,KAA6CkJ,qBAAqB,CAACS,OAAtB,IAAiC,IAAjC,IAAyCT,qBAAqB,CAACS,OAAtB,KAAkClD,IAAxH,CAAJ,EAAmI;AACjI,WAAO,aAAatE,KAAK,CAACqF,aAAN,CAAoBwB,uBAApB,EAA6C;AAC/DE,MAAAA,qBAAqB,EAAEA,qBADwC;AAE/D/D,MAAAA,KAAK,EAAEA;AAFwD,KAA7C,CAApB;AAID;;AACD,SAAO,aAAahD,KAAK,CAACqF,aAAN,CAAoBc,aAApB,EAAmC;AACrDnD,IAAAA,KAAK,EAAEA,KAD8C;AAErDsB,IAAAA,IAAI,EAAEA,IAF+C;AAGrD+B,IAAAA,UAAU,EAAE;AAHyC,GAAnC,CAApB;AAKD;;AACD,IAAI4C,mBAAmB,GAAG,CAA1B;;AACA,IAAIC,0BAA0B,GAAG,CAACC,SAAD,EAAYlG,OAAZ,KAAwB;AACvD;;;;AAIA,MAAI/D,KAAK,GAAGkK,KAAK,CAACC,OAAN,CAAcF,SAAS,CAACjK,KAAxB,IAAiCiK,SAAS,CAACjK,KAAV,CAAgB,CAAhB,CAAjC,GAAsDiK,SAAS,CAACjK,KAA5E;AACA,SAAO;AACLwH,IAAAA,CAAC,EAAEyC,SAAS,CAACzC,CADR;AAELC,IAAAA,CAAC,EAAEwC,SAAS,CAACxC,CAFR;AAGLzH,IAAAA,KAHK;AAIL;AACAoK,IAAAA,QAAQ,EAAE/H,iBAAiB,CAAC4H,SAAD,EAAYlG,OAAZ;AALtB,GAAP;AAOD,CAbD;;AAcA,MAAMsG,YAAN,SAA2BtJ,aAA3B,CAAyC;AACvCuJ,EAAAA,WAAW,GAAG;AACZ,UAAM,GAAG5L,SAAT;;AACAiB,IAAAA,eAAe,CAAC,IAAD,EAAO,IAAP,EAAakC,QAAQ,CAAC,eAAD,CAArB,CAAf;AACD;;AACD0I,EAAAA,MAAM,GAAG;AACP,QAAI;AACFpG,MAAAA,IADE;AAEFiB,MAAAA,IAFE;AAGFrB,MAAAA,OAHE;AAIF+C,MAAAA,SAJE;AAKF0D,MAAAA,OALE;AAMFC,MAAAA,OANE;AAOFC,MAAAA,QAPE;AAQFrF,MAAAA,UARE;AASFsF,MAAAA,EATE;AAUF7C,MAAAA;AAVE,QAWA,KAAKhE,KAXT;;AAYA,QAAIK,IAAJ,EAAU;AACR,aAAO,IAAP;AACD;;AACD,QAAIyG,UAAU,GAAGxJ,IAAI,CAAC,cAAD,EAAiB0F,SAAjB,CAArB;AACA,QAAI+D,UAAU,GAAGlJ,SAAS,CAACgJ,EAAD,CAAT,GAAgB,KAAKA,EAArB,GAA0BA,EAA3C;AACA,WAAO,aAAa7J,KAAK,CAACqF,aAAN,CAAoB9E,KAApB,EAA2B;AAC7CyF,MAAAA,SAAS,EAAE8D;AADkC,KAA3B,EAEjBF,QAAQ,IAAI,aAAa5J,KAAK,CAACqF,aAAN,CAAoB,MAApB,EAA4B,IAA5B,EAAkC,aAAarF,KAAK,CAACqF,aAAN,CAAoBlD,qBAApB,EAA2C;AACpH4H,MAAAA,UAAU,EAAEA,UADwG;AAEpHL,MAAAA,OAAO,EAAEA,OAF2G;AAGpHC,MAAAA,OAAO,EAAEA;AAH2G,KAA3C,CAA/C,CAFR,EAMf,aAAa3J,KAAK,CAACqF,aAAN,CAAoB9E,KAApB,EAA2B;AAC3CyF,MAAAA,SAAS,EAAE,yBADgC;AAE3CgE,MAAAA,QAAQ,EAAEJ,QAAQ,GAAG,iBAAiB1D,MAAjB,CAAwB6D,UAAxB,EAAoC,GAApC,CAAH,GAA8C;AAFrB,KAA3B,EAGf,aAAa/J,KAAK,CAACqF,aAAN,CAAoBjB,aAApB,EAAmC;AACjDE,MAAAA,IAAI,EAAEA,IAD2C;AAEjDrB,MAAAA,OAAO,EAAEA,OAFwC;AAGjDsB,MAAAA,UAAU,EAAEA,UAHqC;AAIjDE,MAAAA,gBAAgB,EAAE,KAAKzB;AAJ0B,KAAnC,CAHE,EAQd,aAAahD,KAAK,CAACqF,aAAN,CAAoB2D,gBAApB,EAAsC,KAAKhG,KAA3C,CARC,CANE,EAciD,aAAahD,KAAK,CAACqF,aAAN,CAAoB7E,6BAApB,EAAmD;AACnIyJ,MAAAA,SAAS,EAAEjD,MAAM,KAAK,YAAX,GAA0B,GAA1B,GAAgC;AADwF,KAAnD,EAE/E,KAAKhE,KAAL,CAAWkH,QAFoE,CAd9D,CAApB;AAiBD;;AAxCsC;;AA0CzC,IAAIC,eAAe,GAAG;AACpB3D,EAAAA,SAAS,EAAE,KADS;AAEpBU,EAAAA,cAAc,EAAE,CAFI;AAGpBC,EAAAA,iBAAiB,EAAE,GAHC;AAIpBC,EAAAA,eAAe,EAAE,MAJG;AAKpB/D,EAAAA,IAAI,EAAE,KALc;AAMpB4D,EAAAA,iBAAiB,EAAE,CAAC/F,MAAM,CAACkJ,KANP;AAOpBhH,EAAAA,UAAU,EAAE,MAPQ;AAQpBiH,EAAAA,YAAY,EAAEpB,mBARM;AASpBS,EAAAA,OAAO,EAAE,CATW;AAUpBC,EAAAA,OAAO,EAAE;AAVW,CAAtB;;AAYA,SAASW,OAAT,CAAiBtH,KAAjB,EAAwB;AACtB,MAAI;AACF0G,IAAAA,OADE;AAEFC,IAAAA,OAFE;AAGFtG,IAAAA,IAHE;AAIFD,IAAAA,UAJE;AAKFiH,IAAAA,YALE;AAMF7D,IAAAA,SANE;AAOFU,IAAAA,cAPE;AAQFC,IAAAA,iBARE;AASFC,IAAAA,eATE;AAUFH,IAAAA;AAVE,MAWApE,mBAAmB,CAACG,KAAD,EAAQmH,eAAR,CAXvB;AAYA,MAAI;AACFP,IAAAA;AADE,MAEAxH,YAAY,CAACsH,OAAD,EAAUC,OAAV,CAFhB;AAGA,MAAI3C,MAAM,GAAG3E,cAAc,EAA3B;AACA,MAAIkI,UAAU,GAAG/H,aAAa,EAA9B;AACA,MAAIgI,WAAW,GAAGrK,OAAO,CAAC,OAAO;AAC/BsK,IAAAA,OAAO,EAAEzH,KAAK,CAACyH,OADgB;AAE/BnG,IAAAA,IAAI,EAAEP,SAFyB;AAG/Bd,IAAAA,OAAO,EAAED,KAAK,CAACC,OAHgB;AAI/ByH,IAAAA,UAAU,EAAE1H,KAAK,CAAC0H,UAJa;AAK/BL,IAAAA,YAL+B;AAM/BM,IAAAA,OAAO,EAAEtJ,oBAAoB,CAAC2B,KAAK,CAAC2H,OAAP;AANE,GAAP,CAAD,EAOrB,CAAC3H,KAAK,CAACyH,OAAP,EAAgBzH,KAAK,CAACC,OAAtB,EAA+BD,KAAK,CAAC0H,UAArC,EAAiDL,YAAjD,EAA+DrH,KAAK,CAAC2H,OAArE,CAPqB,CAAzB;AAQA,MAAIC,KAAK,GAAG3J,aAAa,CAAC+B,KAAK,CAACkH,QAAP,EAAiBzJ,IAAjB,CAAzB;AACA,MAAIoK,KAAK,GAAGtI,cAAc,CAACuI,KAAK,IAAIxI,mBAAmB,CAACwI,KAAD,EAAQpB,OAAR,EAAiBC,OAAjB,EAA0BY,UAA1B,EAAsCC,WAAtC,EAAmDI,KAAnD,CAA7B,CAA1B;;AACA,MAAI5D,MAAM,KAAK,UAAX,IAAyBA,MAAM,KAAK,YAAxC,EAAsD;AACpD,WAAO,IAAP;AACD;;AACD,MAAI+D,cAAJ;AACA,MAAIC,cAAc,GAAGH,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAAC,CAAD,CAAxE;;AACA,MAAIG,cAAc,IAAI,IAAlB,IAA0BA,cAAc,CAACrC,MAAf,IAAyB,IAAnD,IAA2DqC,cAAc,CAACvC,KAAf,IAAwB,IAAvF,EAA6F;AAC3FsC,IAAAA,cAAc,GAAG,CAAjB;AACD,GAFD,MAEO;AACLA,IAAAA,cAAc,GAAG/D,MAAM,KAAK,UAAX,GAAwBgE,cAAc,CAACrC,MAAf,GAAwB,CAAhD,GAAoDqC,cAAc,CAACvC,KAAf,GAAuB,CAA5F;AACD;;AACD,SAAO,aAAazI,KAAK,CAACqF,aAAN,CAAoBnD,kBAApB,EAAwC;AAC1DwH,IAAAA,OAAO,EAAEA,OADiD;AAE1DC,IAAAA,OAAO,EAAEA,OAFiD;AAG1DrF,IAAAA,IAAI,EAAEuG,KAHoD;AAI1DI,IAAAA,kBAAkB,EAAE/B,0BAJsC;AAK1D6B,IAAAA,cAAc,EAAEA;AAL0C,GAAxC,EAMjB,aAAa/K,KAAK,CAACqF,aAAN,CAAoBkE,YAApB,EAAkCjM,QAAQ,CAAC,EAAD,EAAK0F,KAAL,EAAY;AACpEgE,IAAAA,MAAM,EAAEA,MAD4D;AAEpE4C,IAAAA,QAAQ,EAAEA,QAF0D;AAGpEtF,IAAAA,IAAI,EAAEuG,KAH8D;AAIpEnB,IAAAA,OAAO,EAAEA,OAJ2D;AAKpEC,IAAAA,OAAO,EAAEA,OAL2D;AAMpEtG,IAAAA,IAAI,EAAEA,IAN8D;AAOpED,IAAAA,UAAU,EAAEA,UAPwD;AAQpEiH,IAAAA,YAAY,EAAEA,YARsD;AASpE7D,IAAAA,SAAS,EAAEA,SATyD;AAUpEU,IAAAA,cAAc,EAAEA,cAVoD;AAWpEC,IAAAA,iBAAiB,EAAEA,iBAXiD;AAYpEC,IAAAA,eAAe,EAAEA,eAZmD;AAapEH,IAAAA,iBAAiB,EAAEA;AAbiD,GAAZ,CAA1C,CANI,CAApB;AAqBD;;AACD,OAAO,SAASiE,oBAAT,CAA8BC,KAA9B,EAAqC;AAC1C,MAAI;AACFnE,IAAAA,MADE;AAEFwD,IAAAA,WAAW,EAAE;AACXvH,MAAAA,OADW;AAEXoH,MAAAA,YAAY,EAAEe;AAFH,KAFX;AAMFC,IAAAA,GANE;AAOFC,IAAAA,QAPE;AAQFC,IAAAA,KARE;AASFC,IAAAA,KATE;AAUFC,IAAAA,UAVE;AAWFC,IAAAA,UAXE;AAYFC,IAAAA,WAZE;AAaFC,IAAAA,aAbE;AAcFC,IAAAA,MAdE;AAeFjB,IAAAA;AAfE,MAgBAO,KAhBJ;AAiBA,MAAIW,WAAW,GAAG9E,MAAM,KAAK,YAAX,GAA0BwE,KAA1B,GAAkCD,KAApD,CAlB0C,CAmB1C;;AACA,MAAIQ,aAAa,GAAGJ,WAAW,GAAGG,WAAW,CAACE,KAAZ,CAAkBC,MAAlB,EAAH,GAAgC,IAA/D;AACA,MAAIC,SAAS,GAAG/K,iBAAiB,CAAC;AAChC2K,IAAAA;AADgC,GAAD,CAAjC;AAGA,SAAOF,aAAa,CAACrG,GAAd,CAAkB,CAACC,KAAD,EAAQO,KAAR,KAAkB;AACzC,QAAI7G,KAAJ,EAAWwH,CAAX,EAAcC,CAAd,EAAiB8B,KAAjB,EAAwBE,MAAxB,EAAgCpE,UAAhC;;AACA,QAAIoH,WAAJ,EAAiB;AACf;AACAzM,MAAAA,KAAK,GAAGsC,gBAAgB,CAACmK,WAAW,CAAC5F,KAAD,CAAZ,EAAqBgG,aAArB,CAAxB;AACD,KAHD,MAGO;AACL7M,MAAAA,KAAK,GAAGqC,iBAAiB,CAACiE,KAAD,EAAQvC,OAAR,CAAzB;;AACA,UAAI,CAACmG,KAAK,CAACC,OAAN,CAAcnK,KAAd,CAAL,EAA2B;AACzBA,QAAAA,KAAK,GAAG,CAACgN,SAAD,EAAYhN,KAAZ,CAAR;AACD;AACF;;AACD,QAAImL,YAAY,GAAG1I,oBAAoB,CAACyJ,gBAAD,EAAmBnC,mBAAnB,CAApB,CAA4D/J,KAAK,CAAC,CAAD,CAAjE,EAAsE6G,KAAtE,CAAnB;;AACA,QAAIiB,MAAM,KAAK,YAAf,EAA6B;AAC3B,UAAImF,KAAJ;;AACA,UAAI,CAACC,cAAD,EAAiBC,iBAAjB,IAAsC,CAACb,KAAK,CAACQ,KAAN,CAAY9M,KAAK,CAAC,CAAD,CAAjB,CAAD,EAAwBsM,KAAK,CAACQ,KAAN,CAAY9M,KAAK,CAAC,CAAD,CAAjB,CAAxB,CAA1C;AACAwH,MAAAA,CAAC,GAAGtF,sBAAsB,CAAC;AACzBkL,QAAAA,IAAI,EAAEf,KADmB;AAEzBgB,QAAAA,KAAK,EAAEd,UAFkB;AAGzBH,QAAAA,QAHyB;AAIzBO,QAAAA,MAAM,EAAER,GAAG,CAACQ,MAJa;AAKzBrG,QAAAA,KALyB;AAMzBO,QAAAA;AANyB,OAAD,CAA1B;AAQAY,MAAAA,CAAC,GAAG,CAACwF,KAAK,GAAGE,iBAAiB,KAAK,IAAtB,IAA8BA,iBAAiB,KAAK,KAAK,CAAzD,GAA6DA,iBAA7D,GAAiFD,cAA1F,MAA8G,IAA9G,IAAsHD,KAAK,KAAK,KAAK,CAArI,GAAyIA,KAAzI,GAAiJpI,SAArJ;AACA0E,MAAAA,KAAK,GAAG4C,GAAG,CAACmB,IAAZ;AACA,UAAIC,cAAc,GAAGL,cAAc,GAAGC,iBAAtC;AACA1D,MAAAA,MAAM,GAAG/H,KAAK,CAAC6L,cAAD,CAAL,GAAwB,CAAxB,GAA4BA,cAArC;AACAlI,MAAAA,UAAU,GAAG;AACXmC,QAAAA,CADW;AAEXC,QAAAA,CAAC,EAAEkF,MAAM,CAACa,GAFC;AAGXjE,QAAAA,KAHW;AAIXE,QAAAA,MAAM,EAAEkD,MAAM,CAAClD;AAJJ,OAAb;;AAMA,UAAIgE,IAAI,CAACC,GAAL,CAASvC,YAAT,IAAyB,CAAzB,IAA8BsC,IAAI,CAACC,GAAL,CAASjE,MAAT,IAAmBgE,IAAI,CAACC,GAAL,CAASvC,YAAT,CAArD,EAA6E;AAC3E,YAAIwC,KAAK,GAAG/L,QAAQ,CAAC6H,MAAM,IAAI0B,YAAX,CAAR,IAAoCsC,IAAI,CAACC,GAAL,CAASvC,YAAT,IAAyBsC,IAAI,CAACC,GAAL,CAASjE,MAAT,CAA7D,CAAZ;AACAhC,QAAAA,CAAC,IAAIkG,KAAL;AACAlE,QAAAA,MAAM,IAAIkE,KAAV;AACD;AACF,KA1BD,MA0BO;AACL,UAAI,CAACC,eAAD,EAAkBC,kBAAlB,IAAwC,CAACxB,KAAK,CAACS,KAAN,CAAY9M,KAAK,CAAC,CAAD,CAAjB,CAAD,EAAwBqM,KAAK,CAACS,KAAN,CAAY9M,KAAK,CAAC,CAAD,CAAjB,CAAxB,CAA5C;AACAwH,MAAAA,CAAC,GAAGoG,eAAJ;AACAnG,MAAAA,CAAC,GAAGvF,sBAAsB,CAAC;AACzBkL,QAAAA,IAAI,EAAEd,KADmB;AAEzBe,QAAAA,KAAK,EAAEb,UAFkB;AAGzBJ,QAAAA,QAHyB;AAIzBO,QAAAA,MAAM,EAAER,GAAG,CAACQ,MAJa;AAKzBrG,QAAAA,KALyB;AAMzBO,QAAAA;AANyB,OAAD,CAA1B;AAQA0C,MAAAA,KAAK,GAAGsE,kBAAkB,GAAGD,eAA7B;AACAnE,MAAAA,MAAM,GAAG0C,GAAG,CAACmB,IAAb;AACAjI,MAAAA,UAAU,GAAG;AACXmC,QAAAA,CAAC,EAAEmF,MAAM,CAACmB,IADC;AAEXrG,QAAAA,CAFW;AAGX8B,QAAAA,KAAK,EAAEoD,MAAM,CAACpD,KAHH;AAIXE,QAAAA;AAJW,OAAb;;AAMA,UAAIgE,IAAI,CAACC,GAAL,CAASvC,YAAT,IAAyB,CAAzB,IAA8BsC,IAAI,CAACC,GAAL,CAASnE,KAAT,IAAkBkE,IAAI,CAACC,GAAL,CAASvC,YAAT,CAApD,EAA4E;AAC1E,YAAI4C,MAAM,GAAGnM,QAAQ,CAAC2H,KAAK,IAAI4B,YAAV,CAAR,IAAmCsC,IAAI,CAACC,GAAL,CAASvC,YAAT,IAAyBsC,IAAI,CAACC,GAAL,CAASnE,KAAT,CAA5D,CAAb;;AACAA,QAAAA,KAAK,IAAIwE,MAAT;AACD;AACF;;AACD,QAAIC,gBAAgB,GAAGvO,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6G,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACjEkB,MAAAA,CADiE;AAEjEC,MAAAA,CAFiE;AAGjE8B,MAAAA,KAHiE;AAIjEE,MAAAA,MAJiE;AAKjEzJ,MAAAA,KAAK,EAAEyM,WAAW,GAAGzM,KAAH,GAAWA,KAAK,CAAC,CAAD,CAL+B;AAMjEuE,MAAAA,OAAO,EAAE+B,KANwD;AAOjEjB,MAAAA,UAPiE;AAQjEmB,MAAAA,eAAe,EAAE;AACfgB,QAAAA,CAAC,EAAEA,CAAC,GAAG+B,KAAK,GAAG,CADA;AAEf9B,QAAAA,CAAC,EAAEA,CAAC,GAAGgC,MAAM,GAAG;AAFD;AARgD,KAA/B,EAYjCiC,KAAK,IAAIA,KAAK,CAAC7E,KAAD,CAAd,IAAyB6E,KAAK,CAAC7E,KAAD,CAAL,CAAa/C,KAZL,CAApC;;AAaA,WAAOkK,gBAAP;AACD,GA5EM,CAAP;AA6ED;AACD,OAAO,MAAMC,GAAN,SAAkBlN,aAAlB,CAAgC;AACrCwJ,EAAAA,MAAM,GAAG;AACP;AACA,WAAO,aAAazJ,KAAK,CAACqF,aAAN,CAAoBpD,6BAApB,EAAmD;AACrEsB,MAAAA,IAAI,EAAE,KAD+D,CAErE;AAFqE;AAIrEe,MAAAA,IAAI,EAAE,IAJ+D;AAKrEoF,MAAAA,OAAO,EAAE,KAAK1G,KAAL,CAAW0G,OALiD;AAMrEC,MAAAA,OAAO,EAAE,KAAK3G,KAAL,CAAW2G,OANiD;AAOrEyD,MAAAA,OAAO,EAAE,CAP4D;AAQrEnK,MAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC,OARiD;AASrE0H,MAAAA,OAAO,EAAE,KAAK3H,KAAL,CAAW2H,OATiD;AAUrEtH,MAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWK,IAVoD;AAWrEoH,MAAAA,OAAO,EAAE,KAAKzH,KAAL,CAAWyH;AAXiD,KAAnD,EAYjB,aAAazK,KAAK,CAACqF,aAAN,CAAoBrD,SAApB,EAA+B,IAA/B,CAZI,EAYkC,aAAahC,KAAK,CAACqF,aAAN,CAAoB1C,gBAApB,EAAsC;AACvG0K,MAAAA,aAAa,EAAEtK,+BAA+B,CAAC,KAAKC,KAAN;AADyD,KAAtC,CAZ/C,EAchB,aAAahD,KAAK,CAACqF,aAAN,CAAoBtD,uBAApB,EAA6C;AAC5DuL,MAAAA,EAAE,EAAE5J,uBADwD;AAE5D6J,MAAAA,IAAI,EAAE,KAAKvK;AAFiD,KAA7C,CAdG,EAiBhB,aAAahD,KAAK,CAACqF,aAAN,CAAoBiF,OAApB,EAA6B,KAAKtH,KAAlC,CAjBG,CAApB;AAkBD;;AArBoC;;AAuBvCnE,eAAe,CAACsO,GAAD,EAAM,aAAN,EAAqB,KAArB,CAAf;;AACAtO,eAAe,CAACsO,GAAD,EAAM,cAAN,EAAsBhD,eAAtB,CAAf","sourcesContent":["var _excluded = [\"onMouseEnter\", \"onMouseLeave\", \"onClick\"],\n  _excluded2 = [\"value\", \"background\", \"tooltipPosition\"],\n  _excluded3 = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/**\n * @fileOverview Render a group of bar\n */\n// eslint-disable-next-line max-classes-per-file\nimport * as React from 'react';\nimport { PureComponent, useCallback, useMemo, useRef, useState } from 'react';\nimport { clsx } from 'clsx';\nimport { Layer } from '../container/Layer';\nimport { SetErrorBarPreferredDirection } from './ErrorBar';\nimport { Cell } from '../component/Cell';\nimport { LabelList } from '../component/LabelList';\nimport { interpolateNumber, isNan, isNullish, mathSign, uniqueId } from '../util/DataUtils';\nimport { filterProps, findAllByType } from '../util/ReactUtils';\nimport { Global } from '../util/Global';\nimport { getBaseValueOfBar, getCateCoordinateOfBar, getNormalizedStackId, getTooltipNameProp, getValueByDataKey, truncateByDomain } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { BarRectangle, minPointSizeCallback } from '../util/BarUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { ReportBar } from '../state/ReportBar';\nimport { CartesianGraphicalItemContext, SetErrorBarContext } from '../context/CartesianGraphicalItemContext';\nimport { GraphicalItemClipPath, useNeedsClip } from './GraphicalItemClipPath';\nimport { useChartLayout } from '../context/chartLayoutContext';\nimport { selectBarRectangles } from '../state/selectors/barSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { selectActiveTooltipDataKey, selectActiveTooltipIndex } from '../state/selectors/tooltipSelectors';\nimport { SetLegendPayload } from '../state/SetLegendPayload';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { Animate } from '../animation/Animate';\nvar computeLegendPayloadFromBarData = props => {\n  var {\n    dataKey,\n    name,\n    fill,\n    legendType,\n    hide\n  } = props;\n  return [{\n    inactive: hide,\n    dataKey,\n    type: legendType,\n    color: fill,\n    value: getTooltipNameProp(name, dataKey),\n    payload: props\n  }];\n};\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    unit\n  } = props;\n  return {\n    dataDefinedOnItem: undefined,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      nameKey: undefined,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: props.tooltipType,\n      color: props.fill,\n      unit\n    }\n  };\n}\nfunction BarBackground(props) {\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var {\n    data,\n    dataKey,\n    background: backgroundFromProps,\n    allOtherBarProps\n  } = props;\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      onClick: onItemClickFromProps\n    } = allOtherBarProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherBarProps, _excluded);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey);\n  if (!backgroundFromProps || data == null) {\n    return null;\n  }\n  var backgroundProps = filterProps(backgroundFromProps, false);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map((entry, i) => {\n    var {\n        value,\n        background: backgroundFromDataEntry,\n        tooltipPosition\n      } = entry,\n      rest = _objectWithoutProperties(entry, _excluded2);\n    if (!backgroundFromDataEntry) {\n      return null;\n    }\n\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onMouseEnter = onMouseEnterFromContext(entry, i);\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onMouseLeave = onMouseLeaveFromContext(entry, i);\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onClick = onClickFromContext(entry, i);\n    var barRectangleProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      option: backgroundFromProps,\n      isActive: String(i) === activeIndex\n    }, rest), {}, {\n      // @ts-expect-error BarRectangle props do not accept `fill` property.\n      fill: '#eee'\n    }, backgroundFromDataEntry), backgroundProps), adaptEventsOfChild(restOfAllOtherProps, entry, i)), {}, {\n      onMouseEnter,\n      onMouseLeave,\n      onClick,\n      dataKey,\n      index: i,\n      className: 'recharts-bar-background-rectangle'\n    });\n    return /*#__PURE__*/React.createElement(BarRectangle, _extends({\n      key: \"background-bar-\".concat(i)\n    }, barRectangleProps));\n  }));\n}\nfunction BarRectangles(_ref) {\n  var {\n    data,\n    props,\n    showLabels\n  } = _ref;\n  var baseProps = filterProps(props, false);\n  var {\n    shape,\n    dataKey,\n    activeBar\n  } = props;\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var activeDataKey = useAppSelector(selectActiveTooltipDataKey);\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps\n    } = props,\n    restOfAllOtherProps = _objectWithoutProperties(props, _excluded3);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey);\n  if (!data) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map((entry, i) => {\n    /*\n     * Bars support stacking, meaning that there can be multiple bars at the same x value.\n     * With Tooltip shared=false we only want to highlight the currently active Bar, not all.\n     *\n     * Also, if the tooltip is shared, we want to highlight all bars at the same x value\n     * regardless of the dataKey.\n     *\n     * With shared Tooltip, the activeDataKey is undefined.\n     */\n    var isActive = activeBar && String(i) === activeIndex && (activeDataKey == null || dataKey === activeDataKey);\n    var option = isActive ? activeBar : shape;\n    var barRectangleProps = _objectSpread(_objectSpread(_objectSpread({}, baseProps), entry), {}, {\n      isActive,\n      option,\n      index: i,\n      dataKey\n    });\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      className: \"recharts-bar-rectangle\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onClick: onClickFromContext(entry, i)\n      // https://github.com/recharts/recharts/issues/5415\n      // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: \"rectangle-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value, \"-\").concat(i)\n    }), /*#__PURE__*/React.createElement(BarRectangle, barRectangleProps));\n  }), showLabels && LabelList.renderCallByParent(props, data));\n}\nfunction RectanglesWithAnimation(_ref2) {\n  var {\n    props,\n    previousRectanglesRef\n  } = _ref2;\n  var {\n    data,\n    layout,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevData = previousRectanglesRef.current;\n  var animationId = useAnimationId(props, 'recharts-bar-');\n  var [isAnimating, setIsAnimating] = useState(false);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(Animate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    from: {\n      t: 0\n    },\n    to: {\n      t: 1\n    },\n    onAnimationEnd: handleAnimationEnd,\n    onAnimationStart: handleAnimationStart,\n    key: animationId\n  }, _ref3 => {\n    var {\n      t\n    } = _ref3;\n    var stepData = t === 1 ? data : data.map((entry, index) => {\n      var prev = prevData && prevData[index];\n      if (prev) {\n        var interpolatorX = interpolateNumber(prev.x, entry.x);\n        var interpolatorY = interpolateNumber(prev.y, entry.y);\n        var interpolatorWidth = interpolateNumber(prev.width, entry.width);\n        var interpolatorHeight = interpolateNumber(prev.height, entry.height);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: interpolatorX(t),\n          y: interpolatorY(t),\n          width: interpolatorWidth(t),\n          height: interpolatorHeight(t)\n        });\n      }\n      if (layout === 'horizontal') {\n        var _interpolatorHeight = interpolateNumber(0, entry.height);\n        var h = _interpolatorHeight(t);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          y: entry.y + entry.height - h,\n          height: h\n        });\n      }\n      var interpolator = interpolateNumber(0, entry.width);\n      var w = interpolator(t);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        width: w\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousRectanglesRef.current = stepData;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(BarRectangles, {\n      props: props,\n      data: stepData,\n      showLabels: !isAnimating\n    }));\n  });\n}\nfunction RenderRectangles(props) {\n  var {\n    data,\n    isAnimationActive\n  } = props;\n  var previousRectanglesRef = useRef(null);\n  if (isAnimationActive && data && data.length && (previousRectanglesRef.current == null || previousRectanglesRef.current !== data)) {\n    return /*#__PURE__*/React.createElement(RectanglesWithAnimation, {\n      previousRectanglesRef: previousRectanglesRef,\n      props: props\n    });\n  }\n  return /*#__PURE__*/React.createElement(BarRectangles, {\n    props: props,\n    data: data,\n    showLabels: true\n  });\n}\nvar defaultMinPointSize = 0;\nvar errorBarDataPointFormatter = (dataPoint, dataKey) => {\n  /**\n   * if the value coming from `selectBarRectangles` is an array then this is a stacked bar chart.\n   * arr[1] represents end value of the bar since the data is in the form of [startValue, endValue].\n   * */\n  var value = Array.isArray(dataPoint.value) ? dataPoint.value[1] : dataPoint.value;\n  return {\n    x: dataPoint.x,\n    y: dataPoint.y,\n    value,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    errorVal: getValueByDataKey(dataPoint, dataKey)\n  };\n};\nclass BarWithState extends PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"id\", uniqueId('recharts-bar-'));\n  }\n  render() {\n    var {\n      hide,\n      data,\n      dataKey,\n      className,\n      xAxisId,\n      yAxisId,\n      needClip,\n      background,\n      id,\n      layout\n    } = this.props;\n    if (hide) {\n      return null;\n    }\n    var layerClass = clsx('recharts-bar', className);\n    var clipPathId = isNullish(id) ? this.id : id;\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass\n    }, needClip && /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(GraphicalItemClipPath, {\n      clipPathId: clipPathId,\n      xAxisId: xAxisId,\n      yAxisId: yAxisId\n    })), /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-bar-rectangles\",\n      clipPath: needClip ? \"url(#clipPath-\".concat(clipPathId, \")\") : null\n    }, /*#__PURE__*/React.createElement(BarBackground, {\n      data: data,\n      dataKey: dataKey,\n      background: background,\n      allOtherBarProps: this.props\n    }), /*#__PURE__*/React.createElement(RenderRectangles, this.props)), /*#__PURE__*/React.createElement(SetErrorBarPreferredDirection, {\n      direction: layout === 'horizontal' ? 'y' : 'x'\n    }, this.props.children));\n  }\n}\nvar defaultBarProps = {\n  activeBar: false,\n  animationBegin: 0,\n  animationDuration: 400,\n  animationEasing: 'ease',\n  hide: false,\n  isAnimationActive: !Global.isSsr,\n  legendType: 'rect',\n  minPointSize: defaultMinPointSize,\n  xAxisId: 0,\n  yAxisId: 0\n};\nfunction BarImpl(props) {\n  var {\n    xAxisId,\n    yAxisId,\n    hide,\n    legendType,\n    minPointSize,\n    activeBar,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isAnimationActive\n  } = resolveDefaultProps(props, defaultBarProps);\n  var {\n    needClip\n  } = useNeedsClip(xAxisId, yAxisId);\n  var layout = useChartLayout();\n  var isPanorama = useIsPanorama();\n  var barSettings = useMemo(() => ({\n    barSize: props.barSize,\n    data: undefined,\n    dataKey: props.dataKey,\n    maxBarSize: props.maxBarSize,\n    minPointSize,\n    stackId: getNormalizedStackId(props.stackId)\n  }), [props.barSize, props.dataKey, props.maxBarSize, minPointSize, props.stackId]);\n  var cells = findAllByType(props.children, Cell);\n  var rects = useAppSelector(state => selectBarRectangles(state, xAxisId, yAxisId, isPanorama, barSettings, cells));\n  if (layout !== 'vertical' && layout !== 'horizontal') {\n    return null;\n  }\n  var errorBarOffset;\n  var firstDataPoint = rects === null || rects === void 0 ? void 0 : rects[0];\n  if (firstDataPoint == null || firstDataPoint.height == null || firstDataPoint.width == null) {\n    errorBarOffset = 0;\n  } else {\n    errorBarOffset = layout === 'vertical' ? firstDataPoint.height / 2 : firstDataPoint.width / 2;\n  }\n  return /*#__PURE__*/React.createElement(SetErrorBarContext, {\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    data: rects,\n    dataPointFormatter: errorBarDataPointFormatter,\n    errorBarOffset: errorBarOffset\n  }, /*#__PURE__*/React.createElement(BarWithState, _extends({}, props, {\n    layout: layout,\n    needClip: needClip,\n    data: rects,\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    hide: hide,\n    legendType: legendType,\n    minPointSize: minPointSize,\n    activeBar: activeBar,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive\n  })));\n}\nexport function computeBarRectangles(_ref4) {\n  var {\n    layout,\n    barSettings: {\n      dataKey,\n      minPointSize: minPointSizeProp\n    },\n    pos,\n    bandSize,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    stackedData,\n    displayedData,\n    offset,\n    cells\n  } = _ref4;\n  var numericAxis = layout === 'horizontal' ? yAxis : xAxis;\n  // @ts-expect-error this assumes that the domain is always numeric, but doesn't check for it\n  var stackedDomain = stackedData ? numericAxis.scale.domain() : null;\n  var baseValue = getBaseValueOfBar({\n    numericAxis\n  });\n  return displayedData.map((entry, index) => {\n    var value, x, y, width, height, background;\n    if (stackedData) {\n      // we don't need to use dataStartIndex here, because stackedData is already sliced from the selector\n      value = truncateByDomain(stackedData[index], stackedDomain);\n    } else {\n      value = getValueByDataKey(entry, dataKey);\n      if (!Array.isArray(value)) {\n        value = [baseValue, value];\n      }\n    }\n    var minPointSize = minPointSizeCallback(minPointSizeProp, defaultMinPointSize)(value[1], index);\n    if (layout === 'horizontal') {\n      var _ref5;\n      var [baseValueScale, currentValueScale] = [yAxis.scale(value[0]), yAxis.scale(value[1])];\n      x = getCateCoordinateOfBar({\n        axis: xAxis,\n        ticks: xAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      y = (_ref5 = currentValueScale !== null && currentValueScale !== void 0 ? currentValueScale : baseValueScale) !== null && _ref5 !== void 0 ? _ref5 : undefined;\n      width = pos.size;\n      var computedHeight = baseValueScale - currentValueScale;\n      height = isNan(computedHeight) ? 0 : computedHeight;\n      background = {\n        x,\n        y: offset.top,\n        width,\n        height: offset.height\n      };\n      if (Math.abs(minPointSize) > 0 && Math.abs(height) < Math.abs(minPointSize)) {\n        var delta = mathSign(height || minPointSize) * (Math.abs(minPointSize) - Math.abs(height));\n        y -= delta;\n        height += delta;\n      }\n    } else {\n      var [_baseValueScale, _currentValueScale] = [xAxis.scale(value[0]), xAxis.scale(value[1])];\n      x = _baseValueScale;\n      y = getCateCoordinateOfBar({\n        axis: yAxis,\n        ticks: yAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      width = _currentValueScale - _baseValueScale;\n      height = pos.size;\n      background = {\n        x: offset.left,\n        y,\n        width: offset.width,\n        height\n      };\n      if (Math.abs(minPointSize) > 0 && Math.abs(width) < Math.abs(minPointSize)) {\n        var _delta = mathSign(width || minPointSize) * (Math.abs(minPointSize) - Math.abs(width));\n        width += _delta;\n      }\n    }\n    var barRectangleItem = _objectSpread(_objectSpread({}, entry), {}, {\n      x,\n      y,\n      width,\n      height,\n      value: stackedData ? value : value[1],\n      payload: entry,\n      background,\n      tooltipPosition: {\n        x: x + width / 2,\n        y: y + height / 2\n      }\n    }, cells && cells[index] && cells[index].props);\n    return barRectangleItem;\n  });\n}\nexport class Bar extends PureComponent {\n  render() {\n    // Report all props to Redux store first, before calling any hooks, to avoid circular dependencies.\n    return /*#__PURE__*/React.createElement(CartesianGraphicalItemContext, {\n      type: \"bar\"\n      // Bar does not allow setting data directly on the graphical item (why?)\n      ,\n      data: null,\n      xAxisId: this.props.xAxisId,\n      yAxisId: this.props.yAxisId,\n      zAxisId: 0,\n      dataKey: this.props.dataKey,\n      stackId: this.props.stackId,\n      hide: this.props.hide,\n      barSize: this.props.barSize\n    }, /*#__PURE__*/React.createElement(ReportBar, null), /*#__PURE__*/React.createElement(SetLegendPayload, {\n      legendPayload: computeLegendPayloadFromBarData(this.props)\n    }), /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n      fn: getTooltipEntrySettings,\n      args: this.props\n    }), /*#__PURE__*/React.createElement(BarImpl, this.props));\n  }\n}\n_defineProperty(Bar, \"displayName\", 'Bar');\n_defineProperty(Bar, \"defaultProps\", defaultBarProps);"]},"metadata":{},"sourceType":"module"}