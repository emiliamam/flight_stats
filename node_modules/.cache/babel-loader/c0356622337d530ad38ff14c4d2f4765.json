{"ast":null,"code":"function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { scaleLinear } from 'victory-vendor/d3-scale';\nimport { clsx } from 'clsx';\nimport get from 'es-toolkit/compat/get';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Sector } from '../shape/Sector';\nimport { Text } from '../component/Text';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { ReportChartMargin, ReportChartSize } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nvar defaultTextProps = {\n  fontWeight: 'bold',\n  paintOrder: 'stroke fill',\n  fontSize: '.75rem',\n  stroke: '#FFF',\n  fill: 'black',\n  pointerEvents: 'none'\n};\n\nfunction getMaxDepthOf(node) {\n  if (!node.children || node.children.length === 0) return 1; // Calculate depth for each child and find the maximum\n\n  var childDepths = node.children.map(d => getMaxDepthOf(d));\n  return 1 + Math.max(...childDepths);\n}\n\nfunction convertMapToRecord(map) {\n  var record = {};\n  map.forEach((value, key) => {\n    record[key] = value;\n  });\n  return record;\n}\n\nfunction getTooltipEntrySettings(_ref) {\n  var {\n    dataKey,\n    nameKey,\n    data,\n    stroke,\n    fill,\n    positions\n  } = _ref;\n  return {\n    dataDefinedOnItem: data.children,\n    // Redux store will not accept a Map because it's not serializable\n    positions: convertMapToRecord(positions),\n    // Sunburst does not support many of the properties as other charts do so there's plenty of defaults here\n    settings: {\n      stroke,\n      strokeWidth: undefined,\n      fill,\n      nameKey,\n      dataKey,\n      // if there is a nameKey use it, otherwise make the name of the tooltip the dataKey itself\n      name: nameKey ? undefined : dataKey,\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: ''\n    }\n  };\n} // Why is margin not a sunburst prop? No clue. Probably it should be\n\n\nvar defaultSunburstMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nexport var payloadSearcher = (data, activeIndex) => {\n  return get(data, activeIndex);\n};\nexport var addToSunburstNodeIndex = function addToSunburstNodeIndex(indexInChildrenArr) {\n  var activeTooltipIndexSoFar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(activeTooltipIndexSoFar, \"children[\").concat(indexInChildrenArr, \"]\");\n};\nvar preloadedState = {\n  options: {\n    validateTooltipEventTypes: ['item'],\n    defaultTooltipEventType: 'item',\n    chartName: 'Sunburst',\n    tooltipPayloadSearcher: payloadSearcher,\n    eventEmitter: undefined\n  }\n};\n\nvar SunburstChartImpl = _ref2 => {\n  var {\n    className,\n    data,\n    children,\n    width,\n    height,\n    padding = 2,\n    dataKey = 'value',\n    nameKey = 'name',\n    ringPadding = 2,\n    innerRadius = 50,\n    fill = '#333',\n    stroke = '#FFF',\n    textOptions = defaultTextProps,\n    outerRadius = Math.min(width, height) / 2,\n    cx = width / 2,\n    cy = height / 2,\n    startAngle = 0,\n    endAngle = 360,\n    onClick,\n    onMouseEnter,\n    onMouseLeave\n  } = _ref2;\n  var dispatch = useAppDispatch();\n  var rScale = scaleLinear([0, data[dataKey]], [0, endAngle]);\n  var treeDepth = getMaxDepthOf(data);\n  var thickness = (outerRadius - innerRadius) / treeDepth;\n  var sectors = [];\n  var positions = new Map([]);\n  var [tooltipPortal, setTooltipPortal] = useState(null); // event handlers\n\n  function handleMouseEnter(node, e) {\n    if (onMouseEnter) onMouseEnter(node, e);\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: node.tooltipIndex,\n      activeDataKey: dataKey,\n      activeCoordinate: positions.get(node.name)\n    }));\n  }\n\n  function handleMouseLeave(node, e) {\n    if (onMouseLeave) onMouseLeave(node, e);\n    dispatch(mouseLeaveItem());\n  }\n\n  function handleClick(node) {\n    if (onClick) onClick(node);\n    dispatch(setActiveClickItemIndex({\n      activeIndex: node.tooltipIndex,\n      activeDataKey: dataKey,\n      activeCoordinate: positions.get(node.name)\n    }));\n  } // recursively add nodes for each data point and its children\n\n\n  function drawArcs(childNodes, options) {\n    var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var {\n      radius,\n      innerR,\n      initialAngle,\n      childColor,\n      nestedActiveTooltipIndex\n    } = options;\n    var currentAngle = initialAngle;\n    if (!childNodes) return; // base case: no children of this node\n\n    childNodes.forEach((d, i) => {\n      var _ref3, _d$fill;\n\n      var currentTooltipIndex = depth === 1 ? \"[\".concat(i, \"]\") : addToSunburstNodeIndex(i, nestedActiveTooltipIndex);\n\n      var nodeWithIndex = _objectSpread(_objectSpread({}, d), {}, {\n        tooltipIndex: currentTooltipIndex\n      });\n\n      var arcLength = rScale(d[dataKey]);\n      var start = currentAngle; // color priority - if there's a color on the individual point use that, otherwise use parent color or default\n\n      var fillColor = (_ref3 = (_d$fill = d === null || d === void 0 ? void 0 : d.fill) !== null && _d$fill !== void 0 ? _d$fill : childColor) !== null && _ref3 !== void 0 ? _ref3 : fill;\n      var {\n        x: textX,\n        y: textY\n      } = polarToCartesian(0, 0, innerR + radius / 2, -(start + arcLength - arcLength / 2));\n      currentAngle += arcLength;\n      sectors.push(\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"g\", {\n        key: \"sunburst-sector-\".concat(d.name, \"-\").concat(i)\n      }, /*#__PURE__*/React.createElement(Sector, {\n        onClick: () => handleClick(nodeWithIndex),\n        onMouseEnter: e => handleMouseEnter(nodeWithIndex, e),\n        onMouseLeave: e => handleMouseLeave(nodeWithIndex, e),\n        fill: fillColor,\n        stroke: stroke,\n        strokeWidth: padding,\n        startAngle: start,\n        endAngle: start + arcLength,\n        innerRadius: innerR,\n        outerRadius: innerR + radius,\n        cx: cx,\n        cy: cy\n      }), /*#__PURE__*/React.createElement(Text, _extends({}, textOptions, {\n        alignmentBaseline: \"middle\",\n        textAnchor: \"middle\",\n        x: textX + cx,\n        y: cy - textY\n      }), d[dataKey])));\n      var {\n        x: tooltipX,\n        y: tooltipY\n      } = polarToCartesian(cx, cy, innerR + radius / 2, start);\n      positions.set(d.name, {\n        x: tooltipX,\n        y: tooltipY\n      });\n      return drawArcs(d.children, {\n        radius,\n        innerR: innerR + radius + ringPadding,\n        initialAngle: start,\n        childColor: fillColor,\n        nestedActiveTooltipIndex: currentTooltipIndex\n      }, depth + 1);\n    });\n  }\n\n  drawArcs(data.children, {\n    radius: thickness,\n    innerR: innerRadius,\n    initialAngle: startAngle\n  });\n  var layerClass = clsx('recharts-sunburst', className);\n  return /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(RechartsWrapper, {\n    className: className,\n    width: width // Sunburst doesn't support `style` property, why?\n    ,\n    height: height,\n    ref: node => {\n      if (tooltipPortal == null && node != null) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(Surface, {\n    width: width,\n    height: height\n  }, /*#__PURE__*/React.createElement(Layer, {\n    className: layerClass\n  }, sectors), /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: {\n      dataKey,\n      data,\n      stroke,\n      fill,\n      nameKey,\n      positions\n    }\n  }), children)));\n};\n\nexport var SunburstChart = props => {\n  var _props$className;\n\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: preloadedState,\n    reduxStoreName: (_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : 'SunburstChart'\n  }, /*#__PURE__*/React.createElement(ReportChartSize, {\n    width: props.width,\n    height: props.height\n  }), /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultSunburstMargin\n  }), /*#__PURE__*/React.createElement(SunburstChartImpl, props));\n};","map":{"version":3,"sources":["/Users/emiliamamedova/charts/project_corona_tracker/node_modules/recharts/es6/chart/SunburstChart.js"],"names":["_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","useState","scaleLinear","clsx","get","Surface","Layer","Sector","Text","polarToCartesian","ReportChartMargin","ReportChartSize","TooltipPortalContext","RechartsWrapper","mouseLeaveItem","setActiveClickItemIndex","setActiveMouseOverItemIndex","SetTooltipEntrySettings","RechartsStoreProvider","useAppDispatch","defaultTextProps","fontWeight","paintOrder","fontSize","stroke","fill","pointerEvents","getMaxDepthOf","node","children","childDepths","map","d","Math","max","convertMapToRecord","record","key","getTooltipEntrySettings","_ref","dataKey","nameKey","data","positions","dataDefinedOnItem","settings","strokeWidth","undefined","name","hide","type","color","unit","defaultSunburstMargin","top","right","bottom","left","payloadSearcher","activeIndex","addToSunburstNodeIndex","indexInChildrenArr","activeTooltipIndexSoFar","concat","preloadedState","options","validateTooltipEventTypes","defaultTooltipEventType","chartName","tooltipPayloadSearcher","eventEmitter","SunburstChartImpl","_ref2","className","width","height","padding","ringPadding","innerRadius","textOptions","outerRadius","min","cx","cy","startAngle","endAngle","onClick","onMouseEnter","onMouseLeave","dispatch","rScale","treeDepth","thickness","sectors","Map","tooltipPortal","setTooltipPortal","handleMouseEnter","tooltipIndex","activeDataKey","activeCoordinate","handleMouseLeave","handleClick","drawArcs","childNodes","depth","radius","innerR","initialAngle","childColor","nestedActiveTooltipIndex","currentAngle","_ref3","_d$fill","currentTooltipIndex","nodeWithIndex","arcLength","start","fillColor","x","textX","y","textY","createElement","alignmentBaseline","textAnchor","tooltipX","tooltipY","set","layerClass","Provider","ref","onMouseMove","onMouseDown","onMouseUp","onContextMenu","onDoubleClick","onTouchStart","onTouchMove","onTouchEnd","fn","args","SunburstChart","props","_props$className","reduxStoreName","margin"],"mappings":"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","sourcesContent":["function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { scaleLinear } from 'victory-vendor/d3-scale';\nimport { clsx } from 'clsx';\nimport get from 'es-toolkit/compat/get';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Sector } from '../shape/Sector';\nimport { Text } from '../component/Text';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { ReportChartMargin, ReportChartSize } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nvar defaultTextProps = {\n  fontWeight: 'bold',\n  paintOrder: 'stroke fill',\n  fontSize: '.75rem',\n  stroke: '#FFF',\n  fill: 'black',\n  pointerEvents: 'none'\n};\nfunction getMaxDepthOf(node) {\n  if (!node.children || node.children.length === 0) return 1;\n\n  // Calculate depth for each child and find the maximum\n  var childDepths = node.children.map(d => getMaxDepthOf(d));\n  return 1 + Math.max(...childDepths);\n}\nfunction convertMapToRecord(map) {\n  var record = {};\n  map.forEach((value, key) => {\n    record[key] = value;\n  });\n  return record;\n}\nfunction getTooltipEntrySettings(_ref) {\n  var {\n    dataKey,\n    nameKey,\n    data,\n    stroke,\n    fill,\n    positions\n  } = _ref;\n  return {\n    dataDefinedOnItem: data.children,\n    // Redux store will not accept a Map because it's not serializable\n    positions: convertMapToRecord(positions),\n    // Sunburst does not support many of the properties as other charts do so there's plenty of defaults here\n    settings: {\n      stroke,\n      strokeWidth: undefined,\n      fill,\n      nameKey,\n      dataKey,\n      // if there is a nameKey use it, otherwise make the name of the tooltip the dataKey itself\n      name: nameKey ? undefined : dataKey,\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: ''\n    }\n  };\n}\n\n// Why is margin not a sunburst prop? No clue. Probably it should be\nvar defaultSunburstMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nexport var payloadSearcher = (data, activeIndex) => {\n  return get(data, activeIndex);\n};\nexport var addToSunburstNodeIndex = function addToSunburstNodeIndex(indexInChildrenArr) {\n  var activeTooltipIndexSoFar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(activeTooltipIndexSoFar, \"children[\").concat(indexInChildrenArr, \"]\");\n};\nvar preloadedState = {\n  options: {\n    validateTooltipEventTypes: ['item'],\n    defaultTooltipEventType: 'item',\n    chartName: 'Sunburst',\n    tooltipPayloadSearcher: payloadSearcher,\n    eventEmitter: undefined\n  }\n};\nvar SunburstChartImpl = _ref2 => {\n  var {\n    className,\n    data,\n    children,\n    width,\n    height,\n    padding = 2,\n    dataKey = 'value',\n    nameKey = 'name',\n    ringPadding = 2,\n    innerRadius = 50,\n    fill = '#333',\n    stroke = '#FFF',\n    textOptions = defaultTextProps,\n    outerRadius = Math.min(width, height) / 2,\n    cx = width / 2,\n    cy = height / 2,\n    startAngle = 0,\n    endAngle = 360,\n    onClick,\n    onMouseEnter,\n    onMouseLeave\n  } = _ref2;\n  var dispatch = useAppDispatch();\n  var rScale = scaleLinear([0, data[dataKey]], [0, endAngle]);\n  var treeDepth = getMaxDepthOf(data);\n  var thickness = (outerRadius - innerRadius) / treeDepth;\n  var sectors = [];\n  var positions = new Map([]);\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  // event handlers\n  function handleMouseEnter(node, e) {\n    if (onMouseEnter) onMouseEnter(node, e);\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: node.tooltipIndex,\n      activeDataKey: dataKey,\n      activeCoordinate: positions.get(node.name)\n    }));\n  }\n  function handleMouseLeave(node, e) {\n    if (onMouseLeave) onMouseLeave(node, e);\n    dispatch(mouseLeaveItem());\n  }\n  function handleClick(node) {\n    if (onClick) onClick(node);\n    dispatch(setActiveClickItemIndex({\n      activeIndex: node.tooltipIndex,\n      activeDataKey: dataKey,\n      activeCoordinate: positions.get(node.name)\n    }));\n  }\n\n  // recursively add nodes for each data point and its children\n  function drawArcs(childNodes, options) {\n    var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var {\n      radius,\n      innerR,\n      initialAngle,\n      childColor,\n      nestedActiveTooltipIndex\n    } = options;\n    var currentAngle = initialAngle;\n    if (!childNodes) return; // base case: no children of this node\n\n    childNodes.forEach((d, i) => {\n      var _ref3, _d$fill;\n      var currentTooltipIndex = depth === 1 ? \"[\".concat(i, \"]\") : addToSunburstNodeIndex(i, nestedActiveTooltipIndex);\n      var nodeWithIndex = _objectSpread(_objectSpread({}, d), {}, {\n        tooltipIndex: currentTooltipIndex\n      });\n      var arcLength = rScale(d[dataKey]);\n      var start = currentAngle;\n      // color priority - if there's a color on the individual point use that, otherwise use parent color or default\n      var fillColor = (_ref3 = (_d$fill = d === null || d === void 0 ? void 0 : d.fill) !== null && _d$fill !== void 0 ? _d$fill : childColor) !== null && _ref3 !== void 0 ? _ref3 : fill;\n      var {\n        x: textX,\n        y: textY\n      } = polarToCartesian(0, 0, innerR + radius / 2, -(start + arcLength - arcLength / 2));\n      currentAngle += arcLength;\n      sectors.push(\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"g\", {\n        key: \"sunburst-sector-\".concat(d.name, \"-\").concat(i)\n      }, /*#__PURE__*/React.createElement(Sector, {\n        onClick: () => handleClick(nodeWithIndex),\n        onMouseEnter: e => handleMouseEnter(nodeWithIndex, e),\n        onMouseLeave: e => handleMouseLeave(nodeWithIndex, e),\n        fill: fillColor,\n        stroke: stroke,\n        strokeWidth: padding,\n        startAngle: start,\n        endAngle: start + arcLength,\n        innerRadius: innerR,\n        outerRadius: innerR + radius,\n        cx: cx,\n        cy: cy\n      }), /*#__PURE__*/React.createElement(Text, _extends({}, textOptions, {\n        alignmentBaseline: \"middle\",\n        textAnchor: \"middle\",\n        x: textX + cx,\n        y: cy - textY\n      }), d[dataKey])));\n      var {\n        x: tooltipX,\n        y: tooltipY\n      } = polarToCartesian(cx, cy, innerR + radius / 2, start);\n      positions.set(d.name, {\n        x: tooltipX,\n        y: tooltipY\n      });\n      return drawArcs(d.children, {\n        radius,\n        innerR: innerR + radius + ringPadding,\n        initialAngle: start,\n        childColor: fillColor,\n        nestedActiveTooltipIndex: currentTooltipIndex\n      }, depth + 1);\n    });\n  }\n  drawArcs(data.children, {\n    radius: thickness,\n    innerR: innerRadius,\n    initialAngle: startAngle\n  });\n  var layerClass = clsx('recharts-sunburst', className);\n  return /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(RechartsWrapper, {\n    className: className,\n    width: width\n    // Sunburst doesn't support `style` property, why?\n    ,\n    height: height,\n    ref: node => {\n      if (tooltipPortal == null && node != null) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(Surface, {\n    width: width,\n    height: height\n  }, /*#__PURE__*/React.createElement(Layer, {\n    className: layerClass\n  }, sectors), /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: {\n      dataKey,\n      data,\n      stroke,\n      fill,\n      nameKey,\n      positions\n    }\n  }), children)));\n};\nexport var SunburstChart = props => {\n  var _props$className;\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: preloadedState,\n    reduxStoreName: (_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : 'SunburstChart'\n  }, /*#__PURE__*/React.createElement(ReportChartSize, {\n    width: props.width,\n    height: props.height\n  }), /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultSunburstMargin\n  }), /*#__PURE__*/React.createElement(SunburstChartImpl, props));\n};"]},"metadata":{},"sourceType":"module"}