{"ast":null,"code":"var _excluded = [\"contextPayload\"];\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n\n  var o,\n      r,\n      i = _objectWithoutPropertiesLoose(e, t);\n\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n\n  return i;\n}\n\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n\n  return t;\n}\n\nimport * as React from 'react';\nimport { PureComponent, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useLegendPortal } from '../context/legendPortalContext';\nimport { DefaultLegendContent } from './DefaultLegendContent';\nimport { isNumber } from '../util/DataUtils';\nimport { getUniqPayload } from '../util/payload/getUniqPayload';\nimport { useLegendPayload } from '../context/legendPayloadContext';\nimport { useElementOffset } from '../util/useElementOffset';\nimport { useChartHeight, useChartWidth, useMargin } from '../context/chartLayoutContext';\nimport { setLegendSettings, setLegendSize } from '../state/legendSlice';\nimport { useAppDispatch } from '../state/hooks';\n\nfunction defaultUniqBy(entry) {\n  return entry.value;\n}\n\nfunction LegendContent(props) {\n  var {\n    contextPayload\n  } = props,\n      otherProps = _objectWithoutProperties(props, _excluded);\n\n  var finalPayload = getUniqPayload(contextPayload, props.payloadUniqBy, defaultUniqBy);\n\n  var contentProps = _objectSpread(_objectSpread({}, otherProps), {}, {\n    payload: finalPayload\n  });\n\n  if ( /*#__PURE__*/React.isValidElement(props.content)) {\n    return /*#__PURE__*/React.cloneElement(props.content, contentProps);\n  }\n\n  if (typeof props.content === 'function') {\n    return /*#__PURE__*/React.createElement(props.content, contentProps);\n  }\n\n  return /*#__PURE__*/React.createElement(DefaultLegendContent, contentProps);\n}\n\nfunction getDefaultPosition(style, props, margin, chartWidth, chartHeight, box) {\n  var {\n    layout,\n    align,\n    verticalAlign\n  } = props;\n  var hPos, vPos;\n\n  if (!style || (style.left === undefined || style.left === null) && (style.right === undefined || style.right === null)) {\n    if (align === 'center' && layout === 'vertical') {\n      hPos = {\n        left: ((chartWidth || 0) - box.width) / 2\n      };\n    } else {\n      hPos = align === 'right' ? {\n        right: margin && margin.right || 0\n      } : {\n        left: margin && margin.left || 0\n      };\n    }\n  }\n\n  if (!style || (style.top === undefined || style.top === null) && (style.bottom === undefined || style.bottom === null)) {\n    if (verticalAlign === 'middle') {\n      vPos = {\n        top: ((chartHeight || 0) - box.height) / 2\n      };\n    } else {\n      vPos = verticalAlign === 'bottom' ? {\n        bottom: margin && margin.bottom || 0\n      } : {\n        top: margin && margin.top || 0\n      };\n    }\n  }\n\n  return _objectSpread(_objectSpread({}, hPos), vPos);\n}\n\nfunction LegendSettingsDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setLegendSettings(props));\n  }, [dispatch, props]);\n  return null;\n}\n\nfunction LegendSizeDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setLegendSize(props));\n    return () => {\n      dispatch(setLegendSize({\n        width: 0,\n        height: 0\n      }));\n    };\n  }, [dispatch, props]);\n  return null;\n}\n\nfunction LegendWrapper(props) {\n  var contextPayload = useLegendPayload();\n  var legendPortalFromContext = useLegendPortal();\n  var margin = useMargin();\n  var {\n    width: widthFromProps,\n    height: heightFromProps,\n    wrapperStyle,\n    portal: portalFromProps\n  } = props; // The contextPayload is not used directly inside the hook, but we need the onBBoxUpdate call\n  // when the payload changes, therefore it's here as a dependency.\n\n  var [lastBoundingBox, updateBoundingBox] = useElementOffset([contextPayload]);\n  var chartWidth = useChartWidth();\n  var chartHeight = useChartHeight();\n  var maxWidth = chartWidth - (margin.left || 0) - (margin.right || 0); // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n  var widthOrHeight = Legend.getWidthOrHeight(props.layout, heightFromProps, widthFromProps, maxWidth); // if the user supplies their own portal, only use their defined wrapper styles\n\n  var outerStyle = portalFromProps ? wrapperStyle : _objectSpread(_objectSpread({\n    position: 'absolute',\n    width: (widthOrHeight === null || widthOrHeight === void 0 ? void 0 : widthOrHeight.width) || widthFromProps || 'auto',\n    height: (widthOrHeight === null || widthOrHeight === void 0 ? void 0 : widthOrHeight.height) || heightFromProps || 'auto'\n  }, getDefaultPosition(wrapperStyle, props, margin, chartWidth, chartHeight, lastBoundingBox)), wrapperStyle);\n  var legendPortal = portalFromProps !== null && portalFromProps !== void 0 ? portalFromProps : legendPortalFromContext;\n\n  if (legendPortal == null) {\n    return null;\n  }\n\n  var legendElement = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recharts-legend-wrapper\",\n    style: outerStyle,\n    ref: updateBoundingBox\n  }, /*#__PURE__*/React.createElement(LegendSettingsDispatcher, {\n    layout: props.layout,\n    align: props.align,\n    verticalAlign: props.verticalAlign,\n    itemSorter: props.itemSorter\n  }), /*#__PURE__*/React.createElement(LegendSizeDispatcher, {\n    width: lastBoundingBox.width,\n    height: lastBoundingBox.height\n  }), /*#__PURE__*/React.createElement(LegendContent, _extends({}, props, widthOrHeight, {\n    margin: margin,\n    chartWidth: chartWidth,\n    chartHeight: chartHeight,\n    contextPayload: contextPayload\n  })));\n  return /*#__PURE__*/createPortal(legendElement, legendPortal);\n}\n\nexport class Legend extends PureComponent {\n  static getWidthOrHeight(layout, height, width, maxWidth) {\n    if (layout === 'vertical' && isNumber(height)) {\n      return {\n        height\n      };\n    }\n\n    if (layout === 'horizontal') {\n      return {\n        width: width || maxWidth\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(LegendWrapper, this.props);\n  }\n\n}\n\n_defineProperty(Legend, \"displayName\", 'Legend');\n\n_defineProperty(Legend, \"defaultProps\", {\n  align: 'center',\n  iconSize: 14,\n  itemSorter: 'value',\n  layout: 'horizontal',\n  verticalAlign: 'bottom'\n});","map":{"version":3,"sources":["/Users/emiliamamedova/charts/project_corona_tracker/node_modules/recharts/es6/component/Legend.js"],"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","React","PureComponent","useEffect","createPortal","useLegendPortal","DefaultLegendContent","isNumber","getUniqPayload","useLegendPayload","useElementOffset","useChartHeight","useChartWidth","useMargin","setLegendSettings","setLegendSize","useAppDispatch","defaultUniqBy","entry","LegendContent","props","contextPayload","otherProps","finalPayload","payloadUniqBy","contentProps","payload","isValidElement","content","cloneElement","createElement","getDefaultPosition","style","margin","chartWidth","chartHeight","box","layout","align","verticalAlign","hPos","vPos","left","undefined","right","width","top","bottom","height","LegendSettingsDispatcher","dispatch","LegendSizeDispatcher","LegendWrapper","legendPortalFromContext","widthFromProps","heightFromProps","wrapperStyle","portal","portalFromProps","lastBoundingBox","updateBoundingBox","maxWidth","widthOrHeight","Legend","getWidthOrHeight","outerStyle","position","legendPortal","legendElement","className","ref","itemSorter","render","iconSize"],"mappings":"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","sourcesContent":["var _excluded = [\"contextPayload\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from 'react';\nimport { PureComponent, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useLegendPortal } from '../context/legendPortalContext';\nimport { DefaultLegendContent } from './DefaultLegendContent';\nimport { isNumber } from '../util/DataUtils';\nimport { getUniqPayload } from '../util/payload/getUniqPayload';\nimport { useLegendPayload } from '../context/legendPayloadContext';\nimport { useElementOffset } from '../util/useElementOffset';\nimport { useChartHeight, useChartWidth, useMargin } from '../context/chartLayoutContext';\nimport { setLegendSettings, setLegendSize } from '../state/legendSlice';\nimport { useAppDispatch } from '../state/hooks';\nfunction defaultUniqBy(entry) {\n  return entry.value;\n}\nfunction LegendContent(props) {\n  var {\n      contextPayload\n    } = props,\n    otherProps = _objectWithoutProperties(props, _excluded);\n  var finalPayload = getUniqPayload(contextPayload, props.payloadUniqBy, defaultUniqBy);\n  var contentProps = _objectSpread(_objectSpread({}, otherProps), {}, {\n    payload: finalPayload\n  });\n  if (/*#__PURE__*/React.isValidElement(props.content)) {\n    return /*#__PURE__*/React.cloneElement(props.content, contentProps);\n  }\n  if (typeof props.content === 'function') {\n    return /*#__PURE__*/React.createElement(props.content, contentProps);\n  }\n  return /*#__PURE__*/React.createElement(DefaultLegendContent, contentProps);\n}\nfunction getDefaultPosition(style, props, margin, chartWidth, chartHeight, box) {\n  var {\n    layout,\n    align,\n    verticalAlign\n  } = props;\n  var hPos, vPos;\n  if (!style || (style.left === undefined || style.left === null) && (style.right === undefined || style.right === null)) {\n    if (align === 'center' && layout === 'vertical') {\n      hPos = {\n        left: ((chartWidth || 0) - box.width) / 2\n      };\n    } else {\n      hPos = align === 'right' ? {\n        right: margin && margin.right || 0\n      } : {\n        left: margin && margin.left || 0\n      };\n    }\n  }\n  if (!style || (style.top === undefined || style.top === null) && (style.bottom === undefined || style.bottom === null)) {\n    if (verticalAlign === 'middle') {\n      vPos = {\n        top: ((chartHeight || 0) - box.height) / 2\n      };\n    } else {\n      vPos = verticalAlign === 'bottom' ? {\n        bottom: margin && margin.bottom || 0\n      } : {\n        top: margin && margin.top || 0\n      };\n    }\n  }\n  return _objectSpread(_objectSpread({}, hPos), vPos);\n}\nfunction LegendSettingsDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setLegendSettings(props));\n  }, [dispatch, props]);\n  return null;\n}\nfunction LegendSizeDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setLegendSize(props));\n    return () => {\n      dispatch(setLegendSize({\n        width: 0,\n        height: 0\n      }));\n    };\n  }, [dispatch, props]);\n  return null;\n}\nfunction LegendWrapper(props) {\n  var contextPayload = useLegendPayload();\n  var legendPortalFromContext = useLegendPortal();\n  var margin = useMargin();\n  var {\n    width: widthFromProps,\n    height: heightFromProps,\n    wrapperStyle,\n    portal: portalFromProps\n  } = props;\n  // The contextPayload is not used directly inside the hook, but we need the onBBoxUpdate call\n  // when the payload changes, therefore it's here as a dependency.\n  var [lastBoundingBox, updateBoundingBox] = useElementOffset([contextPayload]);\n  var chartWidth = useChartWidth();\n  var chartHeight = useChartHeight();\n  var maxWidth = chartWidth - (margin.left || 0) - (margin.right || 0);\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  var widthOrHeight = Legend.getWidthOrHeight(props.layout, heightFromProps, widthFromProps, maxWidth);\n  // if the user supplies their own portal, only use their defined wrapper styles\n  var outerStyle = portalFromProps ? wrapperStyle : _objectSpread(_objectSpread({\n    position: 'absolute',\n    width: (widthOrHeight === null || widthOrHeight === void 0 ? void 0 : widthOrHeight.width) || widthFromProps || 'auto',\n    height: (widthOrHeight === null || widthOrHeight === void 0 ? void 0 : widthOrHeight.height) || heightFromProps || 'auto'\n  }, getDefaultPosition(wrapperStyle, props, margin, chartWidth, chartHeight, lastBoundingBox)), wrapperStyle);\n  var legendPortal = portalFromProps !== null && portalFromProps !== void 0 ? portalFromProps : legendPortalFromContext;\n  if (legendPortal == null) {\n    return null;\n  }\n  var legendElement = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recharts-legend-wrapper\",\n    style: outerStyle,\n    ref: updateBoundingBox\n  }, /*#__PURE__*/React.createElement(LegendSettingsDispatcher, {\n    layout: props.layout,\n    align: props.align,\n    verticalAlign: props.verticalAlign,\n    itemSorter: props.itemSorter\n  }), /*#__PURE__*/React.createElement(LegendSizeDispatcher, {\n    width: lastBoundingBox.width,\n    height: lastBoundingBox.height\n  }), /*#__PURE__*/React.createElement(LegendContent, _extends({}, props, widthOrHeight, {\n    margin: margin,\n    chartWidth: chartWidth,\n    chartHeight: chartHeight,\n    contextPayload: contextPayload\n  })));\n  return /*#__PURE__*/createPortal(legendElement, legendPortal);\n}\nexport class Legend extends PureComponent {\n  static getWidthOrHeight(layout, height, width, maxWidth) {\n    if (layout === 'vertical' && isNumber(height)) {\n      return {\n        height\n      };\n    }\n    if (layout === 'horizontal') {\n      return {\n        width: width || maxWidth\n      };\n    }\n    return null;\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(LegendWrapper, this.props);\n  }\n}\n_defineProperty(Legend, \"displayName\", 'Legend');\n_defineProperty(Legend, \"defaultProps\", {\n  align: 'center',\n  iconSize: 14,\n  itemSorter: 'value',\n  layout: 'horizontal',\n  verticalAlign: 'bottom'\n});"]},"metadata":{},"sourceType":"module"}