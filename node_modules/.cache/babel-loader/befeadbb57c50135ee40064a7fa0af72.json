{"ast":null,"code":"var _jsxFileName = \"/Users/emiliamamedova/charts/flightStats/src/components/Cards/PunctualityDashboard.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, PieChart, Pie, Cell, ResponsiveContainer, LineChart, Line } from \"recharts\";\nconst COLORS = {\n  green: \"#4caf50\",\n  yellow: \"#ffb300\",\n  red: \"#e53935\"\n};\n\nfunction getColorByDelayCategory(category) {\n  switch (category) {\n    case \"on-time\":\n      return COLORS.green;\n\n    case \"minor-delay\":\n      return COLORS.yellow;\n\n    case \"major-delay\":\n      return COLORS.red;\n\n    default:\n      return \"#8884d8\";\n  }\n}\n\nexport default function PunctualityDashboard({\n  iataCode = \"SVO\"\n}) {\n  const [airportStats, setAirportStats] = useState(null);\n  const [topAirlines, setTopAirlines] = useState([]);\n  const [delayStats, setDelayStats] = useState([]);\n  const [flights, setFlights] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null); // Общий период — сегодня\n\n  const today = new Date().toISOString().slice(0, 10); // Обновление данных в реальном времени с интервалом\n\n  useEffect(() => {\n    let interval;\n\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n\n      try {\n        // 1. Статистика аэропорта\n        const statsResp = await axios.get(`http://localhost:8000/airports/${iataCode}/stats`);\n        setAirportStats(statsResp.data); // 2. Топ 3 авиакомпаний по рейтингу отправления\n\n        const topAirlinesResp = await axios.get(\"http://localhost:8000/airlines/top?limit=3\");\n        setTopAirlines(topAirlinesResp.data); // 3. Статистика задержек по авиакомпаниям (берем для каждого топа)\n        // Соберем delayStats по топовым\n\n        const delayPromises = topAirlinesResp.data.map(({\n          iata_code\n        }) => axios.get(`http://localhost:8000/airlines/${iata_code}/delay-stats`).then(res => ({\n          airline: iata_code,\n          stats: res.data\n        })));\n        const delayStatsData = await Promise.all(delayPromises);\n        setDelayStats(delayStatsData); // 4. Последние рейсы аэропорта сегодня (до 20 штук)\n\n        const flightsResp = await axios.get(\"http://localhost:8000/flights\", {\n          params: {\n            limit: 20,\n            date_from: today,\n            date_to: today,\n            departure_airport: iataCode\n          }\n        });\n        setFlights(flightsResp.data);\n      } catch (e) {\n        setError(\"Ошибка загрузки данных\");\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n    interval = setInterval(fetchData, 30 * 1000); // Обновлять каждые 30 секунд\n\n    return () => clearInterval(interval);\n  }, [iataCode, today]);\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\");\n  if (error) return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, error);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontFamily: \"Arial, sans-serif\",\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, \"\\u0421\\u0432\\u043E\\u0434\\u043A\\u0430 \\u0430\\u044D\\u0440\\u043E\\u043F\\u043E\\u0440\\u0442\\u0430 \", iataCode, \" \\u0437\\u0430 \\u0441\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F (\", today, \")\"), /*#__PURE__*/React.createElement(\"section\", {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"\\u041E\\u0431\\u0449\\u0430\\u044F \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u0430\\u044D\\u0440\\u043E\\u043F\\u043E\\u0440\\u0442\\u0430\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, \"\\u0412\\u044B\\u043B\\u0435\\u0442\\u044B: \", airportStats.departures), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u0440\\u0438\\u043B\\u0451\\u0442\\u044B: \", airportStats.arrivals), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \"\\u041E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0435 \\u0432\\u044B\\u043B\\u0435\\u0442\\u044B: \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: COLORS.red\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }, airportStats.missing_departures)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"\\u041E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0435 \\u043F\\u0440\\u0438\\u043B\\u0451\\u0442\\u044B: \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: COLORS.red\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 38\n    }\n  }, airportStats.missing_arrivals)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"\\u0417\\u0430\\u043F\\u0438\\u0441\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0441\\u043E\\u0431\\u0435\\u043D\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0440\\u0435\\u0439\\u0441\\u043E\\u0432: \", airportStats.features_recorded))), /*#__PURE__*/React.createElement(\"section\", {\n    style: {\n      marginBottom: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"\\u0422\\u043E\\u043F-3 \\u0430\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0439 (\\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F)\"), /*#__PURE__*/React.createElement(BarChart, {\n    width: 500,\n    height: 250,\n    data: topAirlines,\n    margin: {\n      top: 20,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"airline_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    domain: [0, 'dataMax + 1'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"rating_departure\",\n    fill: COLORS.green,\n    name: \"\\u0420\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"rating_arrival\",\n    fill: COLORS.yellow,\n    name: \"\\u0420\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433 \\u043F\\u0440\\u0438\\u043B\\u0451\\u0442\\u0430\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"section\", {\n    style: {\n      marginBottom: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u0435\\u043A \\u043F\\u043E \\u0430\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F\\u043C\"), delayStats.length === 0 && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\\u043C\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: 40,\n      flexWrap: \"wrap\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, delayStats.map(({\n    airline,\n    stats\n  }) => {\n    // Формируем данные для круговой диаграммы\n    const pieData = stats.map(({\n      delay_category,\n      count\n    }) => ({\n      name: delay_category,\n      value: count,\n      color: getColorByDelayCategory(delay_category)\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: airline,\n      style: {\n        width: 200,\n        textAlign: \"center\",\n        border: \"1px solid #ccc\",\n        borderRadius: 8,\n        padding: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, airline), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n      width: \"100%\",\n      height: 150,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PieChart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Pie, {\n      data: pieData,\n      dataKey: \"value\",\n      nameKey: \"name\",\n      outerRadius: 60,\n      fill: \"#8884d8\",\n      label: ({\n        name\n      }) => name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, pieData.map((entry, index) => /*#__PURE__*/React.createElement(Cell, {\n      key: `cell-${index}`,\n      fill: entry.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Tooltip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }))));\n  }))), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, \"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u0440\\u0435\\u0439\\u0441\\u044B \\u0432\\u044B\\u043B\\u0435\\u0442\\u0430\\u044E\\u0449\\u0438\\u0435 \\u0438\\u0437 \", iataCode, \" \\u0441\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\",\n      borderCollapse: \"collapse\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    style: {\n      backgroundColor: \"#f0f0f0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: 8,\n      border: \"1px solid #ddd\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, \"\\u0420\\u0435\\u0439\\u0441\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: 8,\n      border: \"1px solid #ddd\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }, \"\\u0410\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: 8,\n      border: \"1px solid #ddd\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u043B\\u0430\\u043D \\u0432\\u044B\\u043B\\u0435\\u0442\\u0430\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: 8,\n      border: \"1px solid #ddd\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, \"\\u0424\\u0430\\u043A\\u0442 \\u0432\\u044B\\u043B\\u0435\\u0442\\u0430\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      padding: 8,\n      border: \"1px solid #ddd\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, flights.map(f => {\n    const delayColor = getColorByDelayCategory(f.delay_category);\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: f.id,\n      style: {\n        borderBottom: \"1px solid #ddd\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, f.flight), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    }, f.iata_code), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }\n    }, new Date(f.plan_departure).toLocaleTimeString()), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 19\n      }\n    }, f.fact_departure ? new Date(f.fact_departure).toLocaleTimeString() : \"–\"), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        padding: 8,\n        color: delayColor,\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }, f.delay_category || \"нет данных\"));\n  })))));\n}","map":{"version":3,"sources":["/Users/emiliamamedova/charts/flightStats/src/components/Cards/PunctualityDashboard.jsx"],"names":["React","useEffect","useState","axios","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","PieChart","Pie","Cell","ResponsiveContainer","LineChart","Line","COLORS","green","yellow","red","getColorByDelayCategory","category","PunctualityDashboard","iataCode","airportStats","setAirportStats","topAirlines","setTopAirlines","delayStats","setDelayStats","flights","setFlights","loading","setLoading","error","setError","today","Date","toISOString","slice","interval","fetchData","statsResp","get","data","topAirlinesResp","delayPromises","map","iata_code","then","res","airline","stats","delayStatsData","Promise","all","flightsResp","params","limit","date_from","date_to","departure_airport","e","console","setInterval","clearInterval","color","fontFamily","padding","marginBottom","departures","arrivals","missing_departures","missing_arrivals","features_recorded","top","right","left","bottom","length","display","gap","flexWrap","pieData","delay_category","count","name","value","width","textAlign","border","borderRadius","entry","index","borderCollapse","backgroundColor","f","delayColor","id","borderBottom","flight","plan_departure","toLocaleTimeString","fact_departure","fontWeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  BarChart, Bar, XAxis, YAxis, Tooltip, Legend,\n  PieChart, Pie, Cell, ResponsiveContainer,\n  LineChart, Line\n} from \"recharts\";\n\nconst COLORS = {\n  green: \"#4caf50\",\n  yellow: \"#ffb300\",\n  red: \"#e53935\",\n};\n\nfunction getColorByDelayCategory(category) {\n  switch (category) {\n    case \"on-time\":\n      return COLORS.green;\n    case \"minor-delay\":\n      return COLORS.yellow;\n    case \"major-delay\":\n      return COLORS.red;\n    default:\n      return \"#8884d8\";\n  }\n}\n\nexport default function PunctualityDashboard({ iataCode = \"SVO\" }) {\n  const [airportStats, setAirportStats] = useState(null);\n  const [topAirlines, setTopAirlines] = useState([]);\n  const [delayStats, setDelayStats] = useState([]);\n  const [flights, setFlights] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Общий период — сегодня\n  const today = new Date().toISOString().slice(0, 10);\n\n  // Обновление данных в реальном времени с интервалом\n  useEffect(() => {\n    let interval;\n\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      try {\n        // 1. Статистика аэропорта\n        const statsResp = await axios.get(`http://localhost:8000/airports/${iataCode}/stats`);\n        setAirportStats(statsResp.data);\n\n        // 2. Топ 3 авиакомпаний по рейтингу отправления\n        const topAirlinesResp = await axios.get(\"http://localhost:8000/airlines/top?limit=3\");\n        setTopAirlines(topAirlinesResp.data);\n\n        // 3. Статистика задержек по авиакомпаниям (берем для каждого топа)\n        // Соберем delayStats по топовым\n        const delayPromises = topAirlinesResp.data.map(({ iata_code }) =>\n          axios.get(`http://localhost:8000/airlines/${iata_code}/delay-stats`).then(res => ({\n            airline: iata_code,\n            stats: res.data,\n          }))\n        );\n        const delayStatsData = await Promise.all(delayPromises);\n        setDelayStats(delayStatsData);\n\n        // 4. Последние рейсы аэропорта сегодня (до 20 штук)\n        const flightsResp = await axios.get(\"http://localhost:8000/flights\", {\n          params: {\n            limit: 20,\n            date_from: today,\n            date_to: today,\n            departure_airport: iataCode,\n          },\n        });\n        setFlights(flightsResp.data);\n      } catch (e) {\n        setError(\"Ошибка загрузки данных\");\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n    interval = setInterval(fetchData, 30 * 1000); // Обновлять каждые 30 секунд\n\n    return () => clearInterval(interval);\n  }, [iataCode, today]);\n\n  if (loading) return <div>Загрузка данных...</div>;\n  if (error) return <div style={{ color: \"red\" }}>{error}</div>;\n\n  return (\n    <div style={{ fontFamily: \"Arial, sans-serif\", padding: 20 }}>\n      <h2>Сводка аэропорта {iataCode} за сегодня ({today})</h2>\n\n      <section style={{ marginBottom: 30 }}>\n        <h3>Общая статистика аэропорта</h3>\n        <ul>\n          <li>Вылеты: {airportStats.departures}</li>\n          <li>Прилёты: {airportStats.arrivals}</li>\n          <li>Отсутствующие вылеты: <span style={{ color: COLORS.red }}>{airportStats.missing_departures}</span></li>\n          <li>Отсутствующие прилёты: <span style={{ color: COLORS.red }}>{airportStats.missing_arrivals}</span></li>\n          <li>Записанные особенности рейсов: {airportStats.features_recorded}</li>\n        </ul>\n      </section>\n\n      <section style={{ marginBottom: 40 }}>\n        <h3>Топ-3 авиакомпаний (рейтинг отправления)</h3>\n        <BarChart width={500} height={250} data={topAirlines} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\n          <XAxis dataKey=\"airline_name\" />\n          <YAxis domain={[0, 'dataMax + 1']} />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"rating_departure\" fill={COLORS.green} name=\"Рейтинг отправления\" />\n          <Bar dataKey=\"rating_arrival\" fill={COLORS.yellow} name=\"Рейтинг прилёта\" />\n        </BarChart>\n      </section>\n\n      <section style={{ marginBottom: 40 }}>\n        <h3>Статистика задержек по авиакомпаниям</h3>\n        {delayStats.length === 0 && <p>Нет данных по задержкам</p>}\n        <div style={{ display: \"flex\", gap: 40, flexWrap: \"wrap\" }}>\n          {delayStats.map(({ airline, stats }) => {\n            // Формируем данные для круговой диаграммы\n            const pieData = stats.map(({ delay_category, count }) => ({\n              name: delay_category,\n              value: count,\n              color: getColorByDelayCategory(delay_category),\n            }));\n\n            return (\n              <div key={airline} style={{ width: 200, textAlign: \"center\", border: \"1px solid #ccc\", borderRadius: 8, padding: 10 }}>\n                <h4>{airline}</h4>\n                <ResponsiveContainer width=\"100%\" height={150}>\n                  <PieChart>\n                    <Pie\n                      data={pieData}\n                      dataKey=\"value\"\n                      nameKey=\"name\"\n                      outerRadius={60}\n                      fill=\"#8884d8\"\n                      label={({ name }) => name}\n                    >\n                      {pieData.map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={entry.color} />\n                      ))}\n                    </Pie>\n                    <Tooltip />\n                  </PieChart>\n                </ResponsiveContainer>\n              </div>\n            );\n          })}\n        </div>\n      </section>\n\n      <section>\n        <h3>Последние рейсы вылетающие из {iataCode} сегодня</h3>\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n          <thead style={{ backgroundColor: \"#f0f0f0\" }}>\n            <tr>\n              <th style={{ padding: 8, border: \"1px solid #ddd\" }}>Рейс</th>\n              <th style={{ padding: 8, border: \"1px solid #ddd\" }}>Авиакомпания</th>\n              <th style={{ padding: 8, border: \"1px solid #ddd\" }}>План вылета</th>\n              <th style={{ padding: 8, border: \"1px solid #ddd\" }}>Факт вылета</th>\n              <th style={{ padding: 8, border: \"1px solid #ddd\" }}>Категория задержки</th>\n            </tr>\n          </thead>\n          <tbody>\n            {flights.map(f => {\n              const delayColor = getColorByDelayCategory(f.delay_category);\n              return (\n                <tr key={f.id} style={{ borderBottom: \"1px solid #ddd\" }}>\n                  <td style={{ padding: 8 }}>{f.flight}</td>\n                  <td style={{ padding: 8 }}>{f.iata_code}</td>\n                  <td style={{ padding: 8 }}>{new Date(f.plan_departure).toLocaleTimeString()}</td>\n                  <td style={{ padding: 8 }}>{f.fact_departure ? new Date(f.fact_departure).toLocaleTimeString() : \"–\"}</td>\n                  <td style={{ padding: 8, color: delayColor, fontWeight: \"bold\" }}>{f.delay_category || \"нет данных\"}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </section>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}