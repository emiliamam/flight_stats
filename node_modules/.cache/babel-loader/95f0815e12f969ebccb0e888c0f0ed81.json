{"ast":null,"code":"var _excluded = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\"];\n\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n\n  var o,\n      r,\n      i = _objectWithoutPropertiesLoose(e, t);\n\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n\n  return i;\n}\n\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n\n  return t;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nimport * as React from 'react';\nimport { PureComponent, useCallback, useMemo, useRef, useState } from 'react';\nimport get from 'es-toolkit/compat/get';\nimport { clsx } from 'clsx';\nimport { selectPieLegend, selectPieSectors } from '../state/selectors/pieSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { SetPolarGraphicalItem } from '../state/SetGraphicalItem';\nimport { Layer } from '../container/Layer';\nimport { Curve } from '../shape/Curve';\nimport { Text } from '../component/Text';\nimport { Cell } from '../component/Cell';\nimport { filterProps, findAllByType } from '../util/ReactUtils';\nimport { Global } from '../util/Global';\nimport { getMaxRadius, polarToCartesian } from '../util/PolarUtils';\nimport { getPercentValue, interpolateNumber, isNumber, mathSign, uniqueId } from '../util/DataUtils';\nimport { getTooltipNameProp, getValueByDataKey } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { Shape } from '../util/ActiveShapeUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { selectActiveTooltipIndex } from '../state/selectors/tooltipSelectors';\nimport { SetPolarLegendPayload } from '../state/SetLegendPayload';\nimport { DATA_ITEM_DATAKEY_ATTRIBUTE_NAME, DATA_ITEM_INDEX_ATTRIBUTE_NAME } from '../util/Constants';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { Animate } from '../animation/Animate';\n/**\n * Internal props, combination of external props + defaultProps + private Recharts state\n */\n\nfunction SetPiePayloadLegend(props) {\n  var presentationProps = useMemo(() => filterProps(props, false), [props]);\n  var cells = useMemo(() => findAllByType(props.children, Cell), [props.children]);\n  var pieSettings = useMemo(() => ({\n    name: props.name,\n    nameKey: props.nameKey,\n    tooltipType: props.tooltipType,\n    data: props.data,\n    dataKey: props.dataKey,\n    cx: props.cx,\n    cy: props.cy,\n    startAngle: props.startAngle,\n    endAngle: props.endAngle,\n    minAngle: props.minAngle,\n    paddingAngle: props.paddingAngle,\n    innerRadius: props.innerRadius,\n    outerRadius: props.outerRadius,\n    cornerRadius: props.cornerRadius,\n    legendType: props.legendType,\n    fill: props.fill,\n    presentationProps\n  }), [props.cornerRadius, props.cx, props.cy, props.data, props.dataKey, props.endAngle, props.innerRadius, props.minAngle, props.name, props.nameKey, props.outerRadius, props.paddingAngle, props.startAngle, props.tooltipType, props.legendType, props.fill, presentationProps]);\n  var legendPayload = useAppSelector(state => selectPieLegend(state, pieSettings, cells));\n  return /*#__PURE__*/React.createElement(SetPolarLegendPayload, {\n    legendPayload: legendPayload\n  });\n}\n\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    nameKey,\n    sectors,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType\n  } = props;\n  return {\n    dataDefinedOnItem: sectors === null || sectors === void 0 ? void 0 : sectors.map(p => p.tooltipPayload),\n    positions: sectors === null || sectors === void 0 ? void 0 : sectors.map(p => p.tooltipPosition),\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      nameKey,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit: '' // why doesn't Pie support unit?\n\n    }\n  };\n}\n\nvar getTextAnchor = (x, cx) => {\n  if (x > cx) {\n    return 'start';\n  }\n\n  if (x < cx) {\n    return 'end';\n  }\n\n  return 'middle';\n};\n\nvar getOuterRadius = (dataPoint, outerRadius, maxPieRadius) => {\n  if (typeof outerRadius === 'function') {\n    return outerRadius(dataPoint);\n  }\n\n  return getPercentValue(outerRadius, maxPieRadius, maxPieRadius * 0.8);\n};\n\nvar parseCoordinateOfPie = (item, offset, dataPoint) => {\n  var {\n    top,\n    left,\n    width,\n    height\n  } = offset;\n  var maxPieRadius = getMaxRadius(width, height);\n  var cx = left + getPercentValue(item.cx, width, width / 2);\n  var cy = top + getPercentValue(item.cy, height, height / 2);\n  var innerRadius = getPercentValue(item.innerRadius, maxPieRadius, 0);\n  var outerRadius = getOuterRadius(dataPoint, item.outerRadius, maxPieRadius);\n  var maxRadius = item.maxRadius || Math.sqrt(width * width + height * height) / 2;\n  return {\n    cx,\n    cy,\n    innerRadius,\n    outerRadius,\n    maxRadius\n  };\n};\n\nvar parseDeltaAngle = (startAngle, endAngle) => {\n  var sign = mathSign(endAngle - startAngle);\n  var deltaAngle = Math.min(Math.abs(endAngle - startAngle), 360);\n  return sign * deltaAngle;\n};\n\nvar renderLabelLineItem = (option, props) => {\n  if ( /*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n\n  if (typeof option === 'function') {\n    return option(props);\n  }\n\n  var className = clsx('recharts-pie-label-line', typeof option !== 'boolean' ? option.className : '');\n  return /*#__PURE__*/React.createElement(Curve, _extends({}, props, {\n    type: \"linear\",\n    className: className\n  }));\n};\n\nvar renderLabelItem = (option, props, value) => {\n  if ( /*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n\n  var label = value;\n\n  if (typeof option === 'function') {\n    label = option(props);\n\n    if ( /*#__PURE__*/React.isValidElement(label)) {\n      return label;\n    }\n  }\n\n  var className = clsx('recharts-pie-label-text', typeof option !== 'boolean' && typeof option !== 'function' ? option.className : '');\n  return /*#__PURE__*/React.createElement(Text, _extends({}, props, {\n    alignmentBaseline: \"middle\",\n    className: className\n  }), label);\n};\n\nfunction PieLabels(_ref) {\n  var {\n    sectors,\n    props,\n    showLabels\n  } = _ref;\n  var {\n    label,\n    labelLine,\n    dataKey\n  } = props;\n\n  if (!showLabels || !label || !sectors) {\n    return null;\n  }\n\n  var pieProps = filterProps(props, false);\n  var customLabelProps = filterProps(label, false);\n  var customLabelLineProps = filterProps(labelLine, false);\n  var offsetRadius = typeof label === 'object' && 'offsetRadius' in label && label.offsetRadius || 20;\n  var labels = sectors.map((entry, i) => {\n    var midAngle = (entry.startAngle + entry.endAngle) / 2;\n    var endPoint = polarToCartesian(entry.cx, entry.cy, entry.outerRadius + offsetRadius, midAngle);\n\n    var labelProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, pieProps), entry), {}, {\n      stroke: 'none'\n    }, customLabelProps), {}, {\n      index: i,\n      textAnchor: getTextAnchor(endPoint.x, entry.cx)\n    }, endPoint);\n\n    var lineProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, pieProps), entry), {}, {\n      fill: 'none',\n      stroke: entry.fill\n    }, customLabelLineProps), {}, {\n      index: i,\n      points: [polarToCartesian(entry.cx, entry.cy, entry.outerRadius, midAngle), endPoint],\n      key: 'line'\n    });\n\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(Layer, {\n        key: \"label-\".concat(entry.startAngle, \"-\").concat(entry.endAngle, \"-\").concat(entry.midAngle, \"-\").concat(i)\n      }, labelLine && renderLabelLineItem(labelLine, lineProps), renderLabelItem(label, labelProps, getValueByDataKey(entry, dataKey)))\n    );\n  });\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-pie-labels\"\n  }, labels);\n}\n\nfunction PieSectors(props) {\n  var {\n    sectors,\n    activeShape,\n    inactiveShape: inactiveShapeProp,\n    allOtherPieProps,\n    showLabels\n  } = props;\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n\n  var {\n    onMouseEnter: onMouseEnterFromProps,\n    onClick: onItemClickFromProps,\n    onMouseLeave: onMouseLeaveFromProps\n  } = allOtherPieProps,\n      restOfAllOtherProps = _objectWithoutProperties(allOtherPieProps, _excluded);\n\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, allOtherPieProps.dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, allOtherPieProps.dataKey);\n\n  if (sectors == null) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, sectors.map((entry, i) => {\n    if ((entry === null || entry === void 0 ? void 0 : entry.startAngle) === 0 && (entry === null || entry === void 0 ? void 0 : entry.endAngle) === 0 && sectors.length !== 1) return null;\n    var isSectorActive = activeShape && String(i) === activeIndex;\n    var inactiveShape = activeIndex ? inactiveShapeProp : null;\n    var sectorOptions = isSectorActive ? activeShape : inactiveShape;\n\n    var sectorProps = _objectSpread(_objectSpread({}, entry), {}, {\n      stroke: entry.stroke,\n      tabIndex: -1,\n      [DATA_ITEM_INDEX_ATTRIBUTE_NAME]: i,\n      [DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]: allOtherPieProps.dataKey\n    });\n\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      tabIndex: -1,\n      className: \"recharts-pie-sector\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error the types need a bit of attention\n      onMouseEnter: onMouseEnterFromContext(entry, i) // @ts-expect-error the types need a bit of attention\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i) // @ts-expect-error the types need a bit of attention\n      ,\n      onClick: onClickFromContext(entry, i) // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: \"sector-\".concat(entry === null || entry === void 0 ? void 0 : entry.startAngle, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.endAngle, \"-\").concat(entry.midAngle, \"-\").concat(i)\n    }), /*#__PURE__*/React.createElement(Shape, _extends({\n      option: sectorOptions,\n      isActive: isSectorActive,\n      shapeType: \"sector\"\n    }, sectorProps)));\n  }), /*#__PURE__*/React.createElement(PieLabels, {\n    sectors: sectors,\n    props: allOtherPieProps,\n    showLabels: showLabels\n  }));\n}\n\nexport function computePieSectors(_ref2) {\n  var _pieSettings$paddingA;\n\n  var {\n    pieSettings,\n    displayedData,\n    cells,\n    offset\n  } = _ref2;\n  var {\n    cornerRadius,\n    startAngle,\n    endAngle,\n    dataKey,\n    nameKey,\n    tooltipType\n  } = pieSettings;\n  var minAngle = Math.abs(pieSettings.minAngle);\n  var deltaAngle = parseDeltaAngle(startAngle, endAngle);\n  var absDeltaAngle = Math.abs(deltaAngle);\n  var paddingAngle = displayedData.length <= 1 ? 0 : (_pieSettings$paddingA = pieSettings.paddingAngle) !== null && _pieSettings$paddingA !== void 0 ? _pieSettings$paddingA : 0;\n  var notZeroItemCount = displayedData.filter(entry => getValueByDataKey(entry, dataKey, 0) !== 0).length;\n  var totalPaddingAngle = (absDeltaAngle >= 360 ? notZeroItemCount : notZeroItemCount - 1) * paddingAngle;\n  var realTotalAngle = absDeltaAngle - notZeroItemCount * minAngle - totalPaddingAngle;\n  var sum = displayedData.reduce((result, entry) => {\n    var val = getValueByDataKey(entry, dataKey, 0);\n    return result + (isNumber(val) ? val : 0);\n  }, 0);\n  var sectors;\n\n  if (sum > 0) {\n    var prev;\n    sectors = displayedData.map((entry, i) => {\n      var val = getValueByDataKey(entry, dataKey, 0);\n      var name = getValueByDataKey(entry, nameKey, i);\n      var coordinate = parseCoordinateOfPie(pieSettings, offset, entry);\n      var percent = (isNumber(val) ? val : 0) / sum;\n      var tempStartAngle;\n\n      var entryWithCellInfo = _objectSpread(_objectSpread({}, entry), cells && cells[i] && cells[i].props);\n\n      if (i) {\n        tempStartAngle = prev.endAngle + mathSign(deltaAngle) * paddingAngle * (val !== 0 ? 1 : 0);\n      } else {\n        tempStartAngle = startAngle;\n      }\n\n      var tempEndAngle = tempStartAngle + mathSign(deltaAngle) * ((val !== 0 ? minAngle : 0) + percent * realTotalAngle);\n      var midAngle = (tempStartAngle + tempEndAngle) / 2;\n      var middleRadius = (coordinate.innerRadius + coordinate.outerRadius) / 2;\n      var tooltipPayload = [{\n        // @ts-expect-error getValueByDataKey does not validate the output type\n        name,\n        // @ts-expect-error getValueByDataKey does not validate the output type\n        value: val,\n        payload: entryWithCellInfo,\n        dataKey,\n        type: tooltipType\n      }];\n      var tooltipPosition = polarToCartesian(coordinate.cx, coordinate.cy, middleRadius, midAngle);\n      prev = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, pieSettings.presentationProps), {}, {\n        percent,\n        cornerRadius,\n        name,\n        tooltipPayload,\n        midAngle,\n        middleRadius,\n        tooltipPosition\n      }, entryWithCellInfo), coordinate), {}, {\n        value: getValueByDataKey(entry, dataKey),\n        startAngle: tempStartAngle,\n        endAngle: tempEndAngle,\n        payload: entryWithCellInfo,\n        paddingAngle: mathSign(deltaAngle) * paddingAngle\n      });\n      return prev;\n    });\n  }\n\n  return sectors;\n}\n\nfunction SectorsWithAnimation(_ref3) {\n  var {\n    props,\n    previousSectorsRef\n  } = _ref3;\n  var {\n    sectors,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    activeShape,\n    inactiveShape,\n    onAnimationStart,\n    onAnimationEnd\n  } = props;\n  var animationId = useAnimationId(props, 'recharts-pie-');\n  var prevSectors = previousSectorsRef.current;\n  var [isAnimating, setIsAnimating] = useState(true);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(Animate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    from: {\n      t: 0\n    },\n    to: {\n      t: 1\n    },\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd,\n    key: animationId\n  }, _ref4 => {\n    var {\n      t\n    } = _ref4;\n    var stepData = [];\n    var first = sectors && sectors[0];\n    var curAngle = first.startAngle;\n    sectors.forEach((entry, index) => {\n      var prev = prevSectors && prevSectors[index];\n      var paddingAngle = index > 0 ? get(entry, 'paddingAngle', 0) : 0;\n\n      if (prev) {\n        var angleIp = interpolateNumber(prev.endAngle - prev.startAngle, entry.endAngle - entry.startAngle);\n\n        var latest = _objectSpread(_objectSpread({}, entry), {}, {\n          startAngle: curAngle + paddingAngle,\n          endAngle: curAngle + angleIp(t) + paddingAngle\n        });\n\n        stepData.push(latest);\n        curAngle = latest.endAngle;\n      } else {\n        var {\n          endAngle,\n          startAngle\n        } = entry;\n        var interpolatorAngle = interpolateNumber(0, endAngle - startAngle);\n        var deltaAngle = interpolatorAngle(t);\n\n        var _latest = _objectSpread(_objectSpread({}, entry), {}, {\n          startAngle: curAngle + paddingAngle,\n          endAngle: curAngle + deltaAngle + paddingAngle\n        });\n\n        stepData.push(_latest);\n        curAngle = _latest.endAngle;\n      }\n    }); // eslint-disable-next-line no-param-reassign\n\n    previousSectorsRef.current = stepData;\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(PieSectors, {\n      sectors: stepData,\n      activeShape: activeShape,\n      inactiveShape: inactiveShape,\n      allOtherPieProps: props,\n      showLabels: !isAnimating\n    }));\n  });\n}\n\nfunction RenderSectors(props) {\n  var {\n    sectors,\n    isAnimationActive,\n    activeShape,\n    inactiveShape\n  } = props;\n  var previousSectorsRef = useRef(null);\n  var prevSectors = previousSectorsRef.current;\n\n  if (isAnimationActive && sectors && sectors.length && (!prevSectors || prevSectors !== sectors)) {\n    return /*#__PURE__*/React.createElement(SectorsWithAnimation, {\n      props: props,\n      previousSectorsRef: previousSectorsRef\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(PieSectors, {\n    sectors: sectors,\n    activeShape: activeShape,\n    inactiveShape: inactiveShape,\n    allOtherPieProps: props,\n    showLabels: true\n  });\n}\n\nfunction PieWithTouchMove(props) {\n  var {\n    hide,\n    className,\n    rootTabIndex\n  } = props;\n  var layerClass = clsx('recharts-pie', className);\n\n  if (hide) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Layer, {\n    tabIndex: rootTabIndex,\n    className: layerClass\n  }, /*#__PURE__*/React.createElement(RenderSectors, props));\n}\n\nvar defaultPieProps = {\n  animationBegin: 400,\n  animationDuration: 1500,\n  animationEasing: 'ease',\n  cx: '50%',\n  cy: '50%',\n  dataKey: 'value',\n  endAngle: 360,\n  fill: '#808080',\n  hide: false,\n  innerRadius: 0,\n  isAnimationActive: !Global.isSsr,\n  labelLine: true,\n  legendType: 'rect',\n  minAngle: 0,\n  nameKey: 'name',\n  outerRadius: '80%',\n  paddingAngle: 0,\n  rootTabIndex: 0,\n  startAngle: 0,\n  stroke: '#fff'\n};\n\nfunction PieImpl(props) {\n  var propsWithDefaults = resolveDefaultProps(props, defaultPieProps);\n  var cells = useMemo(() => findAllByType(props.children, Cell), [props.children]);\n  var presentationProps = filterProps(propsWithDefaults, false);\n  var pieSettings = useMemo(() => ({\n    name: propsWithDefaults.name,\n    nameKey: propsWithDefaults.nameKey,\n    tooltipType: propsWithDefaults.tooltipType,\n    data: propsWithDefaults.data,\n    dataKey: propsWithDefaults.dataKey,\n    cx: propsWithDefaults.cx,\n    cy: propsWithDefaults.cy,\n    startAngle: propsWithDefaults.startAngle,\n    endAngle: propsWithDefaults.endAngle,\n    minAngle: propsWithDefaults.minAngle,\n    paddingAngle: propsWithDefaults.paddingAngle,\n    innerRadius: propsWithDefaults.innerRadius,\n    outerRadius: propsWithDefaults.outerRadius,\n    cornerRadius: propsWithDefaults.cornerRadius,\n    legendType: propsWithDefaults.legendType,\n    fill: propsWithDefaults.fill,\n    presentationProps\n  }), [propsWithDefaults.cornerRadius, propsWithDefaults.cx, propsWithDefaults.cy, propsWithDefaults.data, propsWithDefaults.dataKey, propsWithDefaults.endAngle, propsWithDefaults.innerRadius, propsWithDefaults.minAngle, propsWithDefaults.name, propsWithDefaults.nameKey, propsWithDefaults.outerRadius, propsWithDefaults.paddingAngle, propsWithDefaults.startAngle, propsWithDefaults.tooltipType, propsWithDefaults.legendType, propsWithDefaults.fill, presentationProps]);\n  var sectors = useAppSelector(state => selectPieSectors(state, pieSettings, cells));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: _objectSpread(_objectSpread({}, propsWithDefaults), {}, {\n      sectors\n    })\n  }), /*#__PURE__*/React.createElement(PieWithTouchMove, _extends({}, propsWithDefaults, {\n    sectors: sectors\n  })));\n}\n\nexport class Pie extends PureComponent {\n  constructor() {\n    super(...arguments);\n\n    _defineProperty(this, \"id\", uniqueId('recharts-pie-'));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetPolarGraphicalItem, {\n      data: this.props.data,\n      dataKey: this.props.dataKey,\n      hide: this.props.hide,\n      angleAxisId: 0,\n      radiusAxisId: 0,\n      stackId: undefined,\n      barSize: undefined,\n      type: \"pie\"\n    }), /*#__PURE__*/React.createElement(SetPiePayloadLegend, this.props), /*#__PURE__*/React.createElement(PieImpl, this.props), this.props.children);\n  }\n\n}\n\n_defineProperty(Pie, \"displayName\", 'Pie');\n\n_defineProperty(Pie, \"defaultProps\", defaultPieProps);","map":{"version":3,"sources":["/Users/emiliamamedova/charts/flightStats/node_modules/recharts/es6/polar/Pie.js"],"names":["_excluded","_objectWithoutProperties","e","t","o","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","n","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_extends","assign","bind","React","PureComponent","useCallback","useMemo","useRef","useState","get","clsx","selectPieLegend","selectPieSectors","useAppSelector","SetPolarGraphicalItem","Layer","Curve","Text","Cell","filterProps","findAllByType","Global","getMaxRadius","polarToCartesian","getPercentValue","interpolateNumber","isNumber","mathSign","uniqueId","getTooltipNameProp","getValueByDataKey","adaptEventsOfChild","Shape","useMouseClickItemDispatch","useMouseEnterItemDispatch","useMouseLeaveItemDispatch","SetTooltipEntrySettings","selectActiveTooltipIndex","SetPolarLegendPayload","DATA_ITEM_DATAKEY_ATTRIBUTE_NAME","DATA_ITEM_INDEX_ATTRIBUTE_NAME","useAnimationId","resolveDefaultProps","Animate","SetPiePayloadLegend","props","presentationProps","cells","children","pieSettings","name","nameKey","tooltipType","data","dataKey","cx","cy","startAngle","endAngle","minAngle","paddingAngle","innerRadius","outerRadius","cornerRadius","legendType","fill","legendPayload","state","createElement","getTooltipEntrySettings","sectors","stroke","strokeWidth","hide","dataDefinedOnItem","map","p","tooltipPayload","positions","tooltipPosition","settings","type","color","unit","getTextAnchor","x","getOuterRadius","dataPoint","maxPieRadius","parseCoordinateOfPie","item","offset","top","left","width","height","maxRadius","Math","sqrt","parseDeltaAngle","sign","deltaAngle","min","abs","renderLabelLineItem","option","isValidElement","cloneElement","className","renderLabelItem","label","alignmentBaseline","PieLabels","_ref","showLabels","labelLine","pieProps","customLabelProps","customLabelLineProps","offsetRadius","labels","entry","midAngle","endPoint","labelProps","index","textAnchor","lineProps","points","key","concat","PieSectors","activeShape","inactiveShape","inactiveShapeProp","allOtherPieProps","activeIndex","onMouseEnter","onMouseEnterFromProps","onClick","onItemClickFromProps","onMouseLeave","onMouseLeaveFromProps","restOfAllOtherProps","onMouseEnterFromContext","onMouseLeaveFromContext","onClickFromContext","Fragment","isSectorActive","sectorOptions","sectorProps","tabIndex","isActive","shapeType","computePieSectors","_ref2","_pieSettings$paddingA","displayedData","absDeltaAngle","notZeroItemCount","totalPaddingAngle","realTotalAngle","sum","reduce","result","val","prev","coordinate","percent","tempStartAngle","entryWithCellInfo","tempEndAngle","middleRadius","payload","SectorsWithAnimation","_ref3","previousSectorsRef","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationStart","onAnimationEnd","animationId","prevSectors","current","isAnimating","setIsAnimating","handleAnimationEnd","handleAnimationStart","begin","duration","easing","from","to","_ref4","stepData","first","curAngle","angleIp","latest","interpolatorAngle","_latest","RenderSectors","PieWithTouchMove","rootTabIndex","layerClass","defaultPieProps","isSsr","PieImpl","propsWithDefaults","fn","args","Pie","constructor","render","angleAxisId","radiusAxisId","stackId","undefined","barSize"],"mappings":"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","sourcesContent":["var _excluded = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\"];\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from 'react';\nimport { PureComponent, useCallback, useMemo, useRef, useState } from 'react';\nimport get from 'es-toolkit/compat/get';\nimport { clsx } from 'clsx';\nimport { selectPieLegend, selectPieSectors } from '../state/selectors/pieSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { SetPolarGraphicalItem } from '../state/SetGraphicalItem';\nimport { Layer } from '../container/Layer';\nimport { Curve } from '../shape/Curve';\nimport { Text } from '../component/Text';\nimport { Cell } from '../component/Cell';\nimport { filterProps, findAllByType } from '../util/ReactUtils';\nimport { Global } from '../util/Global';\nimport { getMaxRadius, polarToCartesian } from '../util/PolarUtils';\nimport { getPercentValue, interpolateNumber, isNumber, mathSign, uniqueId } from '../util/DataUtils';\nimport { getTooltipNameProp, getValueByDataKey } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { Shape } from '../util/ActiveShapeUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { selectActiveTooltipIndex } from '../state/selectors/tooltipSelectors';\nimport { SetPolarLegendPayload } from '../state/SetLegendPayload';\nimport { DATA_ITEM_DATAKEY_ATTRIBUTE_NAME, DATA_ITEM_INDEX_ATTRIBUTE_NAME } from '../util/Constants';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { Animate } from '../animation/Animate';\n\n/**\n * Internal props, combination of external props + defaultProps + private Recharts state\n */\n\nfunction SetPiePayloadLegend(props) {\n  var presentationProps = useMemo(() => filterProps(props, false), [props]);\n  var cells = useMemo(() => findAllByType(props.children, Cell), [props.children]);\n  var pieSettings = useMemo(() => ({\n    name: props.name,\n    nameKey: props.nameKey,\n    tooltipType: props.tooltipType,\n    data: props.data,\n    dataKey: props.dataKey,\n    cx: props.cx,\n    cy: props.cy,\n    startAngle: props.startAngle,\n    endAngle: props.endAngle,\n    minAngle: props.minAngle,\n    paddingAngle: props.paddingAngle,\n    innerRadius: props.innerRadius,\n    outerRadius: props.outerRadius,\n    cornerRadius: props.cornerRadius,\n    legendType: props.legendType,\n    fill: props.fill,\n    presentationProps\n  }), [props.cornerRadius, props.cx, props.cy, props.data, props.dataKey, props.endAngle, props.innerRadius, props.minAngle, props.name, props.nameKey, props.outerRadius, props.paddingAngle, props.startAngle, props.tooltipType, props.legendType, props.fill, presentationProps]);\n  var legendPayload = useAppSelector(state => selectPieLegend(state, pieSettings, cells));\n  return /*#__PURE__*/React.createElement(SetPolarLegendPayload, {\n    legendPayload: legendPayload\n  });\n}\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    nameKey,\n    sectors,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType\n  } = props;\n  return {\n    dataDefinedOnItem: sectors === null || sectors === void 0 ? void 0 : sectors.map(p => p.tooltipPayload),\n    positions: sectors === null || sectors === void 0 ? void 0 : sectors.map(p => p.tooltipPosition),\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      nameKey,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit: '' // why doesn't Pie support unit?\n    }\n  };\n}\nvar getTextAnchor = (x, cx) => {\n  if (x > cx) {\n    return 'start';\n  }\n  if (x < cx) {\n    return 'end';\n  }\n  return 'middle';\n};\nvar getOuterRadius = (dataPoint, outerRadius, maxPieRadius) => {\n  if (typeof outerRadius === 'function') {\n    return outerRadius(dataPoint);\n  }\n  return getPercentValue(outerRadius, maxPieRadius, maxPieRadius * 0.8);\n};\nvar parseCoordinateOfPie = (item, offset, dataPoint) => {\n  var {\n    top,\n    left,\n    width,\n    height\n  } = offset;\n  var maxPieRadius = getMaxRadius(width, height);\n  var cx = left + getPercentValue(item.cx, width, width / 2);\n  var cy = top + getPercentValue(item.cy, height, height / 2);\n  var innerRadius = getPercentValue(item.innerRadius, maxPieRadius, 0);\n  var outerRadius = getOuterRadius(dataPoint, item.outerRadius, maxPieRadius);\n  var maxRadius = item.maxRadius || Math.sqrt(width * width + height * height) / 2;\n  return {\n    cx,\n    cy,\n    innerRadius,\n    outerRadius,\n    maxRadius\n  };\n};\nvar parseDeltaAngle = (startAngle, endAngle) => {\n  var sign = mathSign(endAngle - startAngle);\n  var deltaAngle = Math.min(Math.abs(endAngle - startAngle), 360);\n  return sign * deltaAngle;\n};\nvar renderLabelLineItem = (option, props) => {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  var className = clsx('recharts-pie-label-line', typeof option !== 'boolean' ? option.className : '');\n  return /*#__PURE__*/React.createElement(Curve, _extends({}, props, {\n    type: \"linear\",\n    className: className\n  }));\n};\nvar renderLabelItem = (option, props, value) => {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  var label = value;\n  if (typeof option === 'function') {\n    label = option(props);\n    if (/*#__PURE__*/React.isValidElement(label)) {\n      return label;\n    }\n  }\n  var className = clsx('recharts-pie-label-text', typeof option !== 'boolean' && typeof option !== 'function' ? option.className : '');\n  return /*#__PURE__*/React.createElement(Text, _extends({}, props, {\n    alignmentBaseline: \"middle\",\n    className: className\n  }), label);\n};\nfunction PieLabels(_ref) {\n  var {\n    sectors,\n    props,\n    showLabels\n  } = _ref;\n  var {\n    label,\n    labelLine,\n    dataKey\n  } = props;\n  if (!showLabels || !label || !sectors) {\n    return null;\n  }\n  var pieProps = filterProps(props, false);\n  var customLabelProps = filterProps(label, false);\n  var customLabelLineProps = filterProps(labelLine, false);\n  var offsetRadius = typeof label === 'object' && 'offsetRadius' in label && label.offsetRadius || 20;\n  var labels = sectors.map((entry, i) => {\n    var midAngle = (entry.startAngle + entry.endAngle) / 2;\n    var endPoint = polarToCartesian(entry.cx, entry.cy, entry.outerRadius + offsetRadius, midAngle);\n    var labelProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, pieProps), entry), {}, {\n      stroke: 'none'\n    }, customLabelProps), {}, {\n      index: i,\n      textAnchor: getTextAnchor(endPoint.x, entry.cx)\n    }, endPoint);\n    var lineProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, pieProps), entry), {}, {\n      fill: 'none',\n      stroke: entry.fill\n    }, customLabelLineProps), {}, {\n      index: i,\n      points: [polarToCartesian(entry.cx, entry.cy, entry.outerRadius, midAngle), endPoint],\n      key: 'line'\n    });\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(Layer, {\n        key: \"label-\".concat(entry.startAngle, \"-\").concat(entry.endAngle, \"-\").concat(entry.midAngle, \"-\").concat(i)\n      }, labelLine && renderLabelLineItem(labelLine, lineProps), renderLabelItem(label, labelProps, getValueByDataKey(entry, dataKey)))\n    );\n  });\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-pie-labels\"\n  }, labels);\n}\nfunction PieSectors(props) {\n  var {\n    sectors,\n    activeShape,\n    inactiveShape: inactiveShapeProp,\n    allOtherPieProps,\n    showLabels\n  } = props;\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps\n    } = allOtherPieProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherPieProps, _excluded);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, allOtherPieProps.dataKey);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, allOtherPieProps.dataKey);\n  if (sectors == null) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, sectors.map((entry, i) => {\n    if ((entry === null || entry === void 0 ? void 0 : entry.startAngle) === 0 && (entry === null || entry === void 0 ? void 0 : entry.endAngle) === 0 && sectors.length !== 1) return null;\n    var isSectorActive = activeShape && String(i) === activeIndex;\n    var inactiveShape = activeIndex ? inactiveShapeProp : null;\n    var sectorOptions = isSectorActive ? activeShape : inactiveShape;\n    var sectorProps = _objectSpread(_objectSpread({}, entry), {}, {\n      stroke: entry.stroke,\n      tabIndex: -1,\n      [DATA_ITEM_INDEX_ATTRIBUTE_NAME]: i,\n      [DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]: allOtherPieProps.dataKey\n    });\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      tabIndex: -1,\n      className: \"recharts-pie-sector\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error the types need a bit of attention\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n      onClick: onClickFromContext(entry, i)\n      // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: \"sector-\".concat(entry === null || entry === void 0 ? void 0 : entry.startAngle, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.endAngle, \"-\").concat(entry.midAngle, \"-\").concat(i)\n    }), /*#__PURE__*/React.createElement(Shape, _extends({\n      option: sectorOptions,\n      isActive: isSectorActive,\n      shapeType: \"sector\"\n    }, sectorProps)));\n  }), /*#__PURE__*/React.createElement(PieLabels, {\n    sectors: sectors,\n    props: allOtherPieProps,\n    showLabels: showLabels\n  }));\n}\nexport function computePieSectors(_ref2) {\n  var _pieSettings$paddingA;\n  var {\n    pieSettings,\n    displayedData,\n    cells,\n    offset\n  } = _ref2;\n  var {\n    cornerRadius,\n    startAngle,\n    endAngle,\n    dataKey,\n    nameKey,\n    tooltipType\n  } = pieSettings;\n  var minAngle = Math.abs(pieSettings.minAngle);\n  var deltaAngle = parseDeltaAngle(startAngle, endAngle);\n  var absDeltaAngle = Math.abs(deltaAngle);\n  var paddingAngle = displayedData.length <= 1 ? 0 : (_pieSettings$paddingA = pieSettings.paddingAngle) !== null && _pieSettings$paddingA !== void 0 ? _pieSettings$paddingA : 0;\n  var notZeroItemCount = displayedData.filter(entry => getValueByDataKey(entry, dataKey, 0) !== 0).length;\n  var totalPaddingAngle = (absDeltaAngle >= 360 ? notZeroItemCount : notZeroItemCount - 1) * paddingAngle;\n  var realTotalAngle = absDeltaAngle - notZeroItemCount * minAngle - totalPaddingAngle;\n  var sum = displayedData.reduce((result, entry) => {\n    var val = getValueByDataKey(entry, dataKey, 0);\n    return result + (isNumber(val) ? val : 0);\n  }, 0);\n  var sectors;\n  if (sum > 0) {\n    var prev;\n    sectors = displayedData.map((entry, i) => {\n      var val = getValueByDataKey(entry, dataKey, 0);\n      var name = getValueByDataKey(entry, nameKey, i);\n      var coordinate = parseCoordinateOfPie(pieSettings, offset, entry);\n      var percent = (isNumber(val) ? val : 0) / sum;\n      var tempStartAngle;\n      var entryWithCellInfo = _objectSpread(_objectSpread({}, entry), cells && cells[i] && cells[i].props);\n      if (i) {\n        tempStartAngle = prev.endAngle + mathSign(deltaAngle) * paddingAngle * (val !== 0 ? 1 : 0);\n      } else {\n        tempStartAngle = startAngle;\n      }\n      var tempEndAngle = tempStartAngle + mathSign(deltaAngle) * ((val !== 0 ? minAngle : 0) + percent * realTotalAngle);\n      var midAngle = (tempStartAngle + tempEndAngle) / 2;\n      var middleRadius = (coordinate.innerRadius + coordinate.outerRadius) / 2;\n      var tooltipPayload = [{\n        // @ts-expect-error getValueByDataKey does not validate the output type\n        name,\n        // @ts-expect-error getValueByDataKey does not validate the output type\n        value: val,\n        payload: entryWithCellInfo,\n        dataKey,\n        type: tooltipType\n      }];\n      var tooltipPosition = polarToCartesian(coordinate.cx, coordinate.cy, middleRadius, midAngle);\n      prev = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, pieSettings.presentationProps), {}, {\n        percent,\n        cornerRadius,\n        name,\n        tooltipPayload,\n        midAngle,\n        middleRadius,\n        tooltipPosition\n      }, entryWithCellInfo), coordinate), {}, {\n        value: getValueByDataKey(entry, dataKey),\n        startAngle: tempStartAngle,\n        endAngle: tempEndAngle,\n        payload: entryWithCellInfo,\n        paddingAngle: mathSign(deltaAngle) * paddingAngle\n      });\n      return prev;\n    });\n  }\n  return sectors;\n}\nfunction SectorsWithAnimation(_ref3) {\n  var {\n    props,\n    previousSectorsRef\n  } = _ref3;\n  var {\n    sectors,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    activeShape,\n    inactiveShape,\n    onAnimationStart,\n    onAnimationEnd\n  } = props;\n  var animationId = useAnimationId(props, 'recharts-pie-');\n  var prevSectors = previousSectorsRef.current;\n  var [isAnimating, setIsAnimating] = useState(true);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(Animate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    from: {\n      t: 0\n    },\n    to: {\n      t: 1\n    },\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd,\n    key: animationId\n  }, _ref4 => {\n    var {\n      t\n    } = _ref4;\n    var stepData = [];\n    var first = sectors && sectors[0];\n    var curAngle = first.startAngle;\n    sectors.forEach((entry, index) => {\n      var prev = prevSectors && prevSectors[index];\n      var paddingAngle = index > 0 ? get(entry, 'paddingAngle', 0) : 0;\n      if (prev) {\n        var angleIp = interpolateNumber(prev.endAngle - prev.startAngle, entry.endAngle - entry.startAngle);\n        var latest = _objectSpread(_objectSpread({}, entry), {}, {\n          startAngle: curAngle + paddingAngle,\n          endAngle: curAngle + angleIp(t) + paddingAngle\n        });\n        stepData.push(latest);\n        curAngle = latest.endAngle;\n      } else {\n        var {\n          endAngle,\n          startAngle\n        } = entry;\n        var interpolatorAngle = interpolateNumber(0, endAngle - startAngle);\n        var deltaAngle = interpolatorAngle(t);\n        var _latest = _objectSpread(_objectSpread({}, entry), {}, {\n          startAngle: curAngle + paddingAngle,\n          endAngle: curAngle + deltaAngle + paddingAngle\n        });\n        stepData.push(_latest);\n        curAngle = _latest.endAngle;\n      }\n    });\n\n    // eslint-disable-next-line no-param-reassign\n    previousSectorsRef.current = stepData;\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(PieSectors, {\n      sectors: stepData,\n      activeShape: activeShape,\n      inactiveShape: inactiveShape,\n      allOtherPieProps: props,\n      showLabels: !isAnimating\n    }));\n  });\n}\nfunction RenderSectors(props) {\n  var {\n    sectors,\n    isAnimationActive,\n    activeShape,\n    inactiveShape\n  } = props;\n  var previousSectorsRef = useRef(null);\n  var prevSectors = previousSectorsRef.current;\n  if (isAnimationActive && sectors && sectors.length && (!prevSectors || prevSectors !== sectors)) {\n    return /*#__PURE__*/React.createElement(SectorsWithAnimation, {\n      props: props,\n      previousSectorsRef: previousSectorsRef\n    });\n  }\n  return /*#__PURE__*/React.createElement(PieSectors, {\n    sectors: sectors,\n    activeShape: activeShape,\n    inactiveShape: inactiveShape,\n    allOtherPieProps: props,\n    showLabels: true\n  });\n}\nfunction PieWithTouchMove(props) {\n  var {\n    hide,\n    className,\n    rootTabIndex\n  } = props;\n  var layerClass = clsx('recharts-pie', className);\n  if (hide) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(Layer, {\n    tabIndex: rootTabIndex,\n    className: layerClass\n  }, /*#__PURE__*/React.createElement(RenderSectors, props));\n}\nvar defaultPieProps = {\n  animationBegin: 400,\n  animationDuration: 1500,\n  animationEasing: 'ease',\n  cx: '50%',\n  cy: '50%',\n  dataKey: 'value',\n  endAngle: 360,\n  fill: '#808080',\n  hide: false,\n  innerRadius: 0,\n  isAnimationActive: !Global.isSsr,\n  labelLine: true,\n  legendType: 'rect',\n  minAngle: 0,\n  nameKey: 'name',\n  outerRadius: '80%',\n  paddingAngle: 0,\n  rootTabIndex: 0,\n  startAngle: 0,\n  stroke: '#fff'\n};\nfunction PieImpl(props) {\n  var propsWithDefaults = resolveDefaultProps(props, defaultPieProps);\n  var cells = useMemo(() => findAllByType(props.children, Cell), [props.children]);\n  var presentationProps = filterProps(propsWithDefaults, false);\n  var pieSettings = useMemo(() => ({\n    name: propsWithDefaults.name,\n    nameKey: propsWithDefaults.nameKey,\n    tooltipType: propsWithDefaults.tooltipType,\n    data: propsWithDefaults.data,\n    dataKey: propsWithDefaults.dataKey,\n    cx: propsWithDefaults.cx,\n    cy: propsWithDefaults.cy,\n    startAngle: propsWithDefaults.startAngle,\n    endAngle: propsWithDefaults.endAngle,\n    minAngle: propsWithDefaults.minAngle,\n    paddingAngle: propsWithDefaults.paddingAngle,\n    innerRadius: propsWithDefaults.innerRadius,\n    outerRadius: propsWithDefaults.outerRadius,\n    cornerRadius: propsWithDefaults.cornerRadius,\n    legendType: propsWithDefaults.legendType,\n    fill: propsWithDefaults.fill,\n    presentationProps\n  }), [propsWithDefaults.cornerRadius, propsWithDefaults.cx, propsWithDefaults.cy, propsWithDefaults.data, propsWithDefaults.dataKey, propsWithDefaults.endAngle, propsWithDefaults.innerRadius, propsWithDefaults.minAngle, propsWithDefaults.name, propsWithDefaults.nameKey, propsWithDefaults.outerRadius, propsWithDefaults.paddingAngle, propsWithDefaults.startAngle, propsWithDefaults.tooltipType, propsWithDefaults.legendType, propsWithDefaults.fill, presentationProps]);\n  var sectors = useAppSelector(state => selectPieSectors(state, pieSettings, cells));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    fn: getTooltipEntrySettings,\n    args: _objectSpread(_objectSpread({}, propsWithDefaults), {}, {\n      sectors\n    })\n  }), /*#__PURE__*/React.createElement(PieWithTouchMove, _extends({}, propsWithDefaults, {\n    sectors: sectors\n  })));\n}\nexport class Pie extends PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"id\", uniqueId('recharts-pie-'));\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetPolarGraphicalItem, {\n      data: this.props.data,\n      dataKey: this.props.dataKey,\n      hide: this.props.hide,\n      angleAxisId: 0,\n      radiusAxisId: 0,\n      stackId: undefined,\n      barSize: undefined,\n      type: \"pie\"\n    }), /*#__PURE__*/React.createElement(SetPiePayloadLegend, this.props), /*#__PURE__*/React.createElement(PieImpl, this.props), this.props.children);\n  }\n}\n_defineProperty(Pie, \"displayName\", 'Pie');\n_defineProperty(Pie, \"defaultProps\", defaultPieProps);"]},"metadata":{},"sourceType":"module"}