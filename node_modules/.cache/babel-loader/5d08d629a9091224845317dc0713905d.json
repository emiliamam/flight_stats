{"ast":null,"code":"var _excluded = [\"children\", \"begin\", \"duration\", \"attributeName\", \"easing\", \"isActive\", \"from\", \"to\", \"canBegin\", \"onAnimationEnd\", \"shouldReAnimate\", \"onAnimationReStart\", \"animationManager\"];\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n}\n\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n\n  var o,\n      r,\n      i = _objectWithoutPropertiesLoose(e, t);\n\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n\n  return i;\n}\n\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n\n  return t;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nimport * as React from 'react';\nimport { PureComponent, cloneElement, Children, createContext, useContext } from 'react';\nimport isEqual from 'es-toolkit/compat/isEqual';\nimport { createAnimateManager } from './AnimationManager';\nimport { configEasing } from './easing';\nimport configUpdate from './configUpdate';\nimport { getTransitionVal } from './util';\nimport { RequestAnimationFrameTimeoutController } from './timeoutController';\n\nfunction createDefaultAnimationManager() {\n  return createAnimateManager(new RequestAnimationFrameTimeoutController());\n}\n\nclass AnimateImpl extends PureComponent {\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"mounted\", false);\n\n    _defineProperty(this, \"manager\", null);\n\n    _defineProperty(this, \"stopJSAnimation\", null);\n\n    _defineProperty(this, \"unSubscribe\", null);\n\n    var {\n      isActive,\n      attributeName,\n      from,\n      to,\n      children,\n      duration,\n      animationManager\n    } = this.props;\n    this.manager = animationManager;\n    this.handleStyleChange = this.handleStyleChange.bind(this);\n    this.changeStyle = this.changeStyle.bind(this);\n\n    if (!isActive || duration <= 0) {\n      this.state = {\n        style: {}\n      }; // if children is a function and animation is not active, set style to 'to'\n\n      if (typeof children === 'function') {\n        this.state = {\n          style: to\n        };\n      }\n\n      return;\n    }\n\n    if (from) {\n      if (typeof children === 'function') {\n        this.state = {\n          style: from\n        };\n        return;\n      }\n\n      this.state = {\n        style: attributeName ? {\n          [attributeName]: from\n        } : from\n      };\n    } else {\n      this.state = {\n        style: {}\n      };\n    }\n  }\n\n  componentDidMount() {\n    var {\n      isActive,\n      canBegin\n    } = this.props;\n    this.mounted = true;\n\n    if (!isActive || !canBegin) {\n      return;\n    }\n\n    this.runAnimation(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    var {\n      isActive,\n      canBegin,\n      attributeName,\n      shouldReAnimate,\n      to,\n      from: currentFrom\n    } = this.props;\n    var {\n      style\n    } = this.state;\n\n    if (!canBegin) {\n      return;\n    }\n\n    if (!isActive) {\n      var newState = {\n        style: attributeName ? {\n          [attributeName]: to\n        } : to\n      };\n\n      if (this.state && style) {\n        if (attributeName && style[attributeName] !== to || !attributeName && style !== to) {\n          this.setState(newState);\n        }\n      }\n\n      return;\n    }\n\n    if (isEqual(prevProps.to, to) && prevProps.canBegin && prevProps.isActive) {\n      return;\n    }\n\n    var isTriggered = !prevProps.canBegin || !prevProps.isActive;\n    this.manager.stop();\n\n    if (this.stopJSAnimation) {\n      this.stopJSAnimation();\n    }\n\n    var from = isTriggered || shouldReAnimate ? currentFrom : prevProps.to;\n\n    if (this.state && style) {\n      var _newState = {\n        style: attributeName ? {\n          [attributeName]: from\n        } : from\n      };\n\n      if (attributeName && style[attributeName] !== from || !attributeName && style !== from) {\n        this.setState(_newState);\n      }\n    }\n\n    this.runAnimation(_objectSpread(_objectSpread({}, this.props), {}, {\n      from,\n      begin: 0\n    }));\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    var {\n      onAnimationEnd\n    } = this.props;\n\n    if (this.unSubscribe) {\n      this.unSubscribe();\n    }\n\n    this.manager.stop();\n\n    if (this.stopJSAnimation) {\n      this.stopJSAnimation();\n    }\n\n    if (onAnimationEnd) {\n      onAnimationEnd();\n    }\n  }\n\n  handleStyleChange(style) {\n    this.changeStyle(style);\n  }\n\n  changeStyle(style) {\n    if (this.mounted) {\n      this.setState({\n        style\n      });\n    }\n  }\n\n  runJSAnimation(props) {\n    var {\n      from,\n      to,\n      duration,\n      easing,\n      begin,\n      onAnimationEnd,\n      onAnimationStart\n    } = props;\n    var startAnimation = configUpdate(from, to, configEasing(easing), duration, this.changeStyle, this.manager.getTimeoutController());\n\n    var finalStartAnimation = () => {\n      this.stopJSAnimation = startAnimation();\n    };\n\n    this.manager.start([onAnimationStart, begin, finalStartAnimation, duration, onAnimationEnd]);\n  }\n\n  runAnimation(props) {\n    var {\n      begin,\n      duration,\n      attributeName,\n      to: propsTo,\n      easing,\n      onAnimationStart,\n      onAnimationEnd,\n      children\n    } = props;\n    this.unSubscribe = this.manager.subscribe(this.handleStyleChange);\n\n    if (typeof easing === 'function' || typeof children === 'function' || easing === 'spring') {\n      this.runJSAnimation(props);\n      return;\n    }\n\n    var to = attributeName ? {\n      [attributeName]: propsTo\n    } : propsTo;\n    var transition = getTransitionVal(Object.keys(to), duration, easing);\n    this.manager.start([onAnimationStart, begin, _objectSpread(_objectSpread({}, to), {}, {\n      transition\n    }), duration, onAnimationEnd]);\n  }\n\n  render() {\n    var _this$props = this.props,\n        {\n      children,\n      begin,\n      duration,\n      attributeName,\n      easing,\n      isActive,\n      from,\n      to,\n      canBegin,\n      onAnimationEnd,\n      shouldReAnimate,\n      onAnimationReStart,\n      animationManager\n    } = _this$props,\n        others = _objectWithoutProperties(_this$props, _excluded);\n\n    var count = Children.count(children);\n    var stateStyle = this.state.style;\n\n    if (typeof children === 'function') {\n      return children(stateStyle);\n    }\n\n    if (!isActive || count === 0 || duration <= 0) {\n      return children;\n    }\n\n    var cloneContainer = container => {\n      var {\n        style = {},\n        className\n      } = container.props;\n      var res = /*#__PURE__*/cloneElement(container, _objectSpread(_objectSpread({}, others), {}, {\n        style: _objectSpread(_objectSpread({}, style), stateStyle),\n        className\n      }));\n      return res;\n    };\n\n    if (count === 1) {\n      // @ts-expect-error TODO - fix the type error\n      return cloneContainer(Children.only(children));\n    } // @ts-expect-error TODO - fix the type error\n\n\n    return /*#__PURE__*/React.createElement(\"div\", null, Children.map(children, child => cloneContainer(child)));\n  }\n\n}\n\n_defineProperty(AnimateImpl, \"displayName\", 'Animate');\n\n_defineProperty(AnimateImpl, \"defaultProps\", {\n  begin: 0,\n  duration: 1000,\n  attributeName: '',\n  easing: 'ease',\n  isActive: true,\n  canBegin: true,\n  onAnimationEnd: () => {},\n  onAnimationStart: () => {}\n});\n\nexport var AnimationManagerContext = /*#__PURE__*/createContext(null);\nexport function Animate(props) {\n  var _ref, _props$animationManag;\n\n  var contextAnimationManager = useContext(AnimationManagerContext);\n  return /*#__PURE__*/React.createElement(AnimateImpl, _extends({}, props, {\n    animationManager: (_ref = (_props$animationManag = props.animationManager) !== null && _props$animationManag !== void 0 ? _props$animationManag : contextAnimationManager) !== null && _ref !== void 0 ? _ref : createDefaultAnimationManager()\n  }));\n}","map":{"version":3,"sources":["/Users/emiliamamedova/charts/flightStats/node_modules/recharts/es6/animation/Animate.js"],"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","PureComponent","cloneElement","Children","createContext","useContext","isEqual","createAnimateManager","configEasing","configUpdate","getTransitionVal","RequestAnimationFrameTimeoutController","createDefaultAnimationManager","AnimateImpl","constructor","props","context","isActive","attributeName","from","to","children","duration","animationManager","manager","handleStyleChange","changeStyle","state","style","componentDidMount","canBegin","mounted","runAnimation","componentDidUpdate","prevProps","shouldReAnimate","currentFrom","newState","setState","isTriggered","stop","stopJSAnimation","_newState","begin","componentWillUnmount","onAnimationEnd","unSubscribe","runJSAnimation","easing","onAnimationStart","startAnimation","getTimeoutController","finalStartAnimation","start","propsTo","subscribe","transition","render","_this$props","onAnimationReStart","others","count","stateStyle","cloneContainer","container","className","res","only","createElement","map","child","AnimationManagerContext","Animate","_ref","_props$animationManag","contextAnimationManager"],"mappings":"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","sourcesContent":["var _excluded = [\"children\", \"begin\", \"duration\", \"attributeName\", \"easing\", \"isActive\", \"from\", \"to\", \"canBegin\", \"onAnimationEnd\", \"shouldReAnimate\", \"onAnimationReStart\", \"animationManager\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { PureComponent, cloneElement, Children, createContext, useContext } from 'react';\nimport isEqual from 'es-toolkit/compat/isEqual';\nimport { createAnimateManager } from './AnimationManager';\nimport { configEasing } from './easing';\nimport configUpdate from './configUpdate';\nimport { getTransitionVal } from './util';\nimport { RequestAnimationFrameTimeoutController } from './timeoutController';\nfunction createDefaultAnimationManager() {\n  return createAnimateManager(new RequestAnimationFrameTimeoutController());\n}\nclass AnimateImpl extends PureComponent {\n  constructor(props, context) {\n    super(props, context);\n    _defineProperty(this, \"mounted\", false);\n    _defineProperty(this, \"manager\", null);\n    _defineProperty(this, \"stopJSAnimation\", null);\n    _defineProperty(this, \"unSubscribe\", null);\n    var {\n      isActive,\n      attributeName,\n      from,\n      to,\n      children,\n      duration,\n      animationManager\n    } = this.props;\n    this.manager = animationManager;\n    this.handleStyleChange = this.handleStyleChange.bind(this);\n    this.changeStyle = this.changeStyle.bind(this);\n    if (!isActive || duration <= 0) {\n      this.state = {\n        style: {}\n      };\n\n      // if children is a function and animation is not active, set style to 'to'\n      if (typeof children === 'function') {\n        this.state = {\n          style: to\n        };\n      }\n      return;\n    }\n    if (from) {\n      if (typeof children === 'function') {\n        this.state = {\n          style: from\n        };\n        return;\n      }\n      this.state = {\n        style: attributeName ? {\n          [attributeName]: from\n        } : from\n      };\n    } else {\n      this.state = {\n        style: {}\n      };\n    }\n  }\n  componentDidMount() {\n    var {\n      isActive,\n      canBegin\n    } = this.props;\n    this.mounted = true;\n    if (!isActive || !canBegin) {\n      return;\n    }\n    this.runAnimation(this.props);\n  }\n  componentDidUpdate(prevProps) {\n    var {\n      isActive,\n      canBegin,\n      attributeName,\n      shouldReAnimate,\n      to,\n      from: currentFrom\n    } = this.props;\n    var {\n      style\n    } = this.state;\n    if (!canBegin) {\n      return;\n    }\n    if (!isActive) {\n      var newState = {\n        style: attributeName ? {\n          [attributeName]: to\n        } : to\n      };\n      if (this.state && style) {\n        if (attributeName && style[attributeName] !== to || !attributeName && style !== to) {\n          this.setState(newState);\n        }\n      }\n      return;\n    }\n    if (isEqual(prevProps.to, to) && prevProps.canBegin && prevProps.isActive) {\n      return;\n    }\n    var isTriggered = !prevProps.canBegin || !prevProps.isActive;\n    this.manager.stop();\n    if (this.stopJSAnimation) {\n      this.stopJSAnimation();\n    }\n    var from = isTriggered || shouldReAnimate ? currentFrom : prevProps.to;\n    if (this.state && style) {\n      var _newState = {\n        style: attributeName ? {\n          [attributeName]: from\n        } : from\n      };\n      if (attributeName && style[attributeName] !== from || !attributeName && style !== from) {\n        this.setState(_newState);\n      }\n    }\n    this.runAnimation(_objectSpread(_objectSpread({}, this.props), {}, {\n      from,\n      begin: 0\n    }));\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    var {\n      onAnimationEnd\n    } = this.props;\n    if (this.unSubscribe) {\n      this.unSubscribe();\n    }\n    this.manager.stop();\n    if (this.stopJSAnimation) {\n      this.stopJSAnimation();\n    }\n    if (onAnimationEnd) {\n      onAnimationEnd();\n    }\n  }\n  handleStyleChange(style) {\n    this.changeStyle(style);\n  }\n  changeStyle(style) {\n    if (this.mounted) {\n      this.setState({\n        style\n      });\n    }\n  }\n  runJSAnimation(props) {\n    var {\n      from,\n      to,\n      duration,\n      easing,\n      begin,\n      onAnimationEnd,\n      onAnimationStart\n    } = props;\n    var startAnimation = configUpdate(from, to, configEasing(easing), duration, this.changeStyle, this.manager.getTimeoutController());\n    var finalStartAnimation = () => {\n      this.stopJSAnimation = startAnimation();\n    };\n    this.manager.start([onAnimationStart, begin, finalStartAnimation, duration, onAnimationEnd]);\n  }\n  runAnimation(props) {\n    var {\n      begin,\n      duration,\n      attributeName,\n      to: propsTo,\n      easing,\n      onAnimationStart,\n      onAnimationEnd,\n      children\n    } = props;\n    this.unSubscribe = this.manager.subscribe(this.handleStyleChange);\n    if (typeof easing === 'function' || typeof children === 'function' || easing === 'spring') {\n      this.runJSAnimation(props);\n      return;\n    }\n    var to = attributeName ? {\n      [attributeName]: propsTo\n    } : propsTo;\n    var transition = getTransitionVal(Object.keys(to), duration, easing);\n    this.manager.start([onAnimationStart, begin, _objectSpread(_objectSpread({}, to), {}, {\n      transition\n    }), duration, onAnimationEnd]);\n  }\n  render() {\n    var _this$props = this.props,\n      {\n        children,\n        begin,\n        duration,\n        attributeName,\n        easing,\n        isActive,\n        from,\n        to,\n        canBegin,\n        onAnimationEnd,\n        shouldReAnimate,\n        onAnimationReStart,\n        animationManager\n      } = _this$props,\n      others = _objectWithoutProperties(_this$props, _excluded);\n    var count = Children.count(children);\n    var stateStyle = this.state.style;\n    if (typeof children === 'function') {\n      return children(stateStyle);\n    }\n    if (!isActive || count === 0 || duration <= 0) {\n      return children;\n    }\n    var cloneContainer = container => {\n      var {\n        style = {},\n        className\n      } = container.props;\n      var res = /*#__PURE__*/cloneElement(container, _objectSpread(_objectSpread({}, others), {}, {\n        style: _objectSpread(_objectSpread({}, style), stateStyle),\n        className\n      }));\n      return res;\n    };\n    if (count === 1) {\n      // @ts-expect-error TODO - fix the type error\n      return cloneContainer(Children.only(children));\n    }\n\n    // @ts-expect-error TODO - fix the type error\n    return /*#__PURE__*/React.createElement(\"div\", null, Children.map(children, child => cloneContainer(child)));\n  }\n}\n_defineProperty(AnimateImpl, \"displayName\", 'Animate');\n_defineProperty(AnimateImpl, \"defaultProps\", {\n  begin: 0,\n  duration: 1000,\n  attributeName: '',\n  easing: 'ease',\n  isActive: true,\n  canBegin: true,\n  onAnimationEnd: () => {},\n  onAnimationStart: () => {}\n});\nexport var AnimationManagerContext = /*#__PURE__*/createContext(null);\nexport function Animate(props) {\n  var _ref, _props$animationManag;\n  var contextAnimationManager = useContext(AnimationManagerContext);\n  return /*#__PURE__*/React.createElement(AnimateImpl, _extends({}, props, {\n    animationManager: (_ref = (_props$animationManag = props.animationManager) !== null && _props$animationManag !== void 0 ? _props$animationManag : contextAnimationManager) !== null && _ref !== void 0 ? _ref : createDefaultAnimationManager()\n  }));\n}"]},"metadata":{},"sourceType":"module"}