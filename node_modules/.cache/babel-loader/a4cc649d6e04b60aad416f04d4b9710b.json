{"ast":null,"code":"var _jsxFileName = \"/Users/emiliamamedova/charts/flightStats/src/components/Cards/PunctualityDashboard.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport useFlightStats from '../../shared/useFlightStats';\nimport axios from 'axios';\n\nconst getColor = type => {\n  switch (type) {\n    case 'green':\n      return '#34c38f';\n\n    case 'yellow':\n      return '#f1b44c';\n\n    case 'red':\n      return '#f46a6a';\n\n    default:\n      return '#6c757d';\n  }\n};\n\nconst PunctualityDashboard = ({\n  handleCountryChange\n}) => {\n  const [rules, setRules] = useState([]);\n  const {\n    stats,\n    delayStats\n  } = useFlightStats();\n  const summaryData = [{\n    label: 'Рейсы вовремя',\n    value: (stats === null || stats === void 0 ? void 0 : stats.onTime) || 0,\n    color: 'green',\n    icon: '✅'\n  }, {\n    label: 'С задержкой',\n    value: (stats === null || stats === void 0 ? void 0 : stats.delayed) || 0,\n    color: 'yellow',\n    icon: '⏱️'\n  }, {\n    label: 'Отменены',\n    value: (stats === null || stats === void 0 ? void 0 : stats.canceled) || 0,\n    color: 'red',\n    icon: '❌'\n  }];\n  useEffect(() => {\n    const fetchRules = async () => {\n      try {\n        const res = await axios.get('http://localhost:8000/delay-rules');\n        setRules(res.data);\n      } catch (error) {\n        console.warn('Ошибка при получении правил:', error);\n      }\n    };\n\n    fetchRules();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: 1200,\n      margin: '30px auto',\n      fontFamily: 'Arial, sans-serif',\n      padding: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDEF0\\uFE0F \\u0421\\u0438\\u0442\\u0443\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0439 \\u0446\\u0435\\u043D\\u0442\\u0440 \\u043F\\u0443\\u043D\\u043A\\u0442\\u0443\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      gap: 20,\n      marginBottom: 40,\n      flexWrap: 'wrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, summaryData.map(({\n    label,\n    value,\n    color,\n    icon\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    key: label,\n    style: {\n      flex: '1 1 200px',\n      backgroundColor: getColor(color),\n      color: 'white',\n      padding: '20px',\n      borderRadius: 12,\n      boxShadow: '0 3px 8px rgba(0,0,0,0.1)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 18,\n      marginBottom: 6\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, icon, \" \", label), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 26,\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, value)))), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginBottom: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDCCA \\u0414\\u0438\\u043D\\u0430\\u043C\\u0438\\u043A\\u0430 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u0435\\u043A \\u0437\\u0430 \\u0434\\u0435\\u043D\\u044C\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: 300,\n      marginBottom: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: delayStats,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"onTime\",\n    stroke: getColor('green'),\n    name: \"\\u0412\\u043E\\u0432\\u0440\\u0435\\u043C\\u044F\",\n    strokeWidth: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"delayed\",\n    stroke: getColor('yellow'),\n    name: \"\\u0421 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u043E\\u0439\",\n    strokeWidth: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"canceled\",\n    stroke: getColor('red'),\n    name: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\\u044B\",\n    strokeWidth: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginBottom: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"\\uD83E\\uDDE0 \\u041D\\u0435\\u043E\\u0447\\u0435\\u0432\\u0438\\u0434\\u043D\\u044B\\u0435 \\u043F\\u0440\\u0438\\u0437\\u043D\\u0430\\u043A\\u0438 \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowX: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: '100%',\n      borderCollapse: 'collapse',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    style: {\n      backgroundColor: '#f8f9fa'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: th,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: th,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u0440\\u0438\\u0437\\u043D\\u0430\\u043A\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: th,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u043B\\u0438\\u044F\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: th,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0435\\u0440\\u043E\\u044F\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C \\u0437\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, rules.map((rule, idx) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: idx,\n    style: {\n      backgroundColor: idx % 2 === 0 ? '#fff' : '#f3f3f3'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: td,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, idx + 1), /*#__PURE__*/React.createElement(\"td\", {\n    style: td,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, rule.feature), /*#__PURE__*/React.createElement(\"td\", {\n    style: td,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, rule.importance), /*#__PURE__*/React.createElement(\"td\", {\n    style: td,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, (rule.delay_probability * 100).toFixed(1), \"%\")))))));\n};\n\nconst th = {\n  padding: '12px 16px',\n  textAlign: 'left',\n  borderBottom: '2px solid #dee2e6',\n  fontWeight: 'bold'\n};\nconst td = {\n  padding: '12px 16px',\n  borderBottom: '1px solid #dee2e6'\n};\nexport default PunctualityDashboard;","map":{"version":3,"sources":["/Users/emiliamamedova/charts/flightStats/src/components/Cards/PunctualityDashboard.jsx"],"names":["React","useEffect","useState","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","useFlightStats","axios","getColor","type","PunctualityDashboard","handleCountryChange","rules","setRules","stats","delayStats","summaryData","label","value","onTime","color","icon","delayed","canceled","fetchRules","res","get","data","error","console","warn","maxWidth","margin","fontFamily","padding","textAlign","marginBottom","display","gap","flexWrap","map","flex","backgroundColor","borderRadius","boxShadow","fontSize","fontWeight","width","height","overflowX","borderCollapse","th","rule","idx","td","feature","importance","delay_probability","toFixed","borderBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport useFlightStats from '../../shared/useFlightStats';\nimport axios from 'axios';\n\nconst getColor = (type) => {\n  switch (type) {\n    case 'green': return '#34c38f';\n    case 'yellow': return '#f1b44c';\n    case 'red': return '#f46a6a';\n    default: return '#6c757d';\n  }\n};\n\nconst PunctualityDashboard = ({ handleCountryChange }) => {\n  const [rules, setRules] = useState([]);\n  const { stats, delayStats } = useFlightStats();\n\n  const summaryData = [\n    { label: 'Рейсы вовремя', value: stats?.onTime || 0, color: 'green', icon: '✅' },\n    { label: 'С задержкой', value: stats?.delayed || 0, color: 'yellow', icon: '⏱️' },\n    { label: 'Отменены', value: stats?.canceled || 0, color: 'red', icon: '❌' },\n  ];\n\n  useEffect(() => {\n    const fetchRules = async () => {\n      try {\n        const res = await axios.get('http://localhost:8000/delay-rules');\n        setRules(res.data);\n      } catch (error) {\n        console.warn('Ошибка при получении правил:', error);\n      }\n    };\n\n    fetchRules();\n  }, []);\n\n  return (\n    <div style={{ maxWidth: 1200, margin: '30px auto', fontFamily: 'Arial, sans-serif', padding: '20px' }}>\n      <h2 style={{ textAlign: 'center', marginBottom: 30 }}>🛰️ Ситуационный центр пунктуальности</h2>\n\n      {/* Карточки */}\n      <div style={{ display: 'flex', gap: 20, marginBottom: 40, flexWrap: 'wrap' }}>\n        {summaryData.map(({ label, value, color, icon }) => (\n          <div key={label} style={{\n            flex: '1 1 200px',\n            backgroundColor: getColor(color),\n            color: 'white',\n            padding: '20px',\n            borderRadius: 12,\n            boxShadow: '0 3px 8px rgba(0,0,0,0.1)'\n          }}>\n            <div style={{ fontSize: 18, marginBottom: 6 }}>{icon} {label}</div>\n            <div style={{ fontSize: 26, fontWeight: 'bold' }}>{value}</div>\n          </div>\n        ))}\n      </div>\n\n      {/* График */}\n      <h3 style={{ marginBottom: 15 }}>📊 Динамика задержек за день</h3>\n      <div style={{ width: '100%', height: 300, marginBottom: 50 }}>\n        <ResponsiveContainer>\n          <LineChart data={delayStats}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"time\" />\n            <YAxis />\n            <Tooltip />\n            <Legend />\n            <Line type=\"monotone\" dataKey=\"onTime\" stroke={getColor('green')} name=\"Вовремя\" strokeWidth={3} />\n            <Line type=\"monotone\" dataKey=\"delayed\" stroke={getColor('yellow')} name=\"С задержкой\" strokeWidth={3} />\n            <Line type=\"monotone\" dataKey=\"canceled\" stroke={getColor('red')} name=\"Отменены\" strokeWidth={3} />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Таблица неочевидных признаков */}\n      <h3 style={{ marginBottom: 15 }}>🧠 Неочевидные признаки задержки</h3>\n      <div style={{ overflowX: 'auto' }}>\n        <table style={{\n          width: '100%',\n          borderCollapse: 'collapse',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n        }}>\n          <thead style={{ backgroundColor: '#f8f9fa' }}>\n            <tr>\n              <th style={th}>ID</th>\n              <th style={th}>Признак</th>\n              <th style={th}>Влияние</th>\n              <th style={th}>Вероятность задержки</th>\n            </tr>\n          </thead>\n          <tbody>\n            {rules.map((rule, idx) => (\n              <tr key={idx} style={{ backgroundColor: idx % 2 === 0 ? '#fff' : '#f3f3f3' }}>\n                <td style={td}>{idx + 1}</td>\n                <td style={td}>{rule.feature}</td>\n                <td style={td}>{rule.importance}</td>\n                <td style={td}>{(rule.delay_probability * 100).toFixed(1)}%</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nconst th = {\n  padding: '12px 16px',\n  textAlign: 'left',\n  borderBottom: '2px solid #dee2e6',\n  fontWeight: 'bold',\n};\n\nconst td = {\n  padding: '12px 16px',\n  borderBottom: '1px solid #dee2e6',\n};\n\nexport default PunctualityDashboard;\n"]},"metadata":{},"sourceType":"module"}