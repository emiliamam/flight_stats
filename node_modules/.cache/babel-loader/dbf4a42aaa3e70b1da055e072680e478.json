{"ast":null,"code":"function ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (\"string\" === r ? String : Number)(t);\n}\n\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n\n    return n;\n  }, _extends.apply(null, arguments);\n} // eslint-disable-next-line max-classes-per-file\n\n\nimport * as React from 'react';\nimport { PureComponent, useCallback, useRef, useState } from 'react';\nimport last from 'es-toolkit/compat/last';\nimport { clsx } from 'clsx';\nimport { interpolateNumber, isNullish } from '../util/DataUtils';\nimport { Global } from '../util/Global';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { getTooltipNameProp, getValueByDataKey } from '../util/ChartUtils';\nimport { Polygon } from '../shape/Polygon';\nimport { Dot } from '../shape/Dot';\nimport { Layer } from '../container/Layer';\nimport { LabelList } from '../component/LabelList';\nimport { filterProps } from '../util/ReactUtils';\nimport { ActivePoints } from '../component/ActivePoints';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { PolarGraphicalItemContext } from '../context/PolarGraphicalItemContext';\nimport { selectRadarPoints } from '../state/selectors/radarSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { SetPolarLegendPayload } from '../state/SetLegendPayload';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { Animate } from '../animation/Animate';\n\nfunction getLegendItemColor(stroke, fill) {\n  return stroke && stroke !== 'none' ? stroke : fill;\n}\n\nvar computeLegendPayloadFromRadarSectors = props => {\n  var {\n    dataKey,\n    name,\n    stroke,\n    fill,\n    legendType,\n    hide\n  } = props;\n  return [{\n    inactive: hide,\n    dataKey,\n    type: legendType,\n    color: getLegendItemColor(stroke, fill),\n    value: getTooltipNameProp(name, dataKey),\n    payload: props\n  }];\n};\n\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType\n  } = props;\n  return {\n    /*\n     * I suppose this here _could_ return props.points\n     * because while Radar does not support item tooltip mode, it _could_ support it.\n     * But when I actually do return the points here, a defaultIndex test starts failing.\n     * So, undefined it is.\n     */\n    dataDefinedOnItem: undefined,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      nameKey: undefined,\n      // RadarChart does not have nameKey unfortunately\n      dataKey,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: tooltipType,\n      color: getLegendItemColor(stroke, fill),\n      unit: '' // why doesn't Radar support unit?\n\n    }\n  };\n}\n\nfunction renderDotItem(option, props) {\n  var dotItem;\n\n  if ( /*#__PURE__*/React.isValidElement(option)) {\n    // @ts-expect-error typescript is unhappy with cloned props type\n    dotItem = /*#__PURE__*/React.cloneElement(option, props);\n  } else if (typeof option === 'function') {\n    dotItem = option(props);\n  } else {\n    dotItem = /*#__PURE__*/React.createElement(Dot, _extends({}, props, {\n      className: clsx('recharts-radar-dot', typeof option !== 'boolean' ? option.className : '')\n    }));\n  }\n\n  return dotItem;\n}\n\nexport function computeRadarPoints(_ref) {\n  var {\n    radiusAxis,\n    angleAxis,\n    displayedData,\n    dataKey,\n    bandSize\n  } = _ref;\n  var {\n    cx,\n    cy\n  } = angleAxis;\n  var isRange = false;\n  var points = [];\n  var angleBandSize = angleAxis.type !== 'number' ? bandSize !== null && bandSize !== void 0 ? bandSize : 0 : 0;\n  displayedData.forEach((entry, i) => {\n    var name = getValueByDataKey(entry, angleAxis.dataKey, i);\n    var value = getValueByDataKey(entry, dataKey);\n    var angle = angleAxis.scale(name) + angleBandSize;\n    var pointValue = Array.isArray(value) ? last(value) : value;\n    var radius = isNullish(pointValue) ? undefined : radiusAxis.scale(pointValue);\n\n    if (Array.isArray(value) && value.length >= 2) {\n      isRange = true;\n    }\n\n    points.push(_objectSpread(_objectSpread({}, polarToCartesian(cx, cy, radius, angle)), {}, {\n      // @ts-expect-error getValueByDataKey does not validate the output type\n      name,\n      // @ts-expect-error getValueByDataKey does not validate the output type\n      value,\n      cx,\n      cy,\n      radius,\n      angle,\n      payload: entry\n    }));\n  });\n  var baseLinePoints = [];\n\n  if (isRange) {\n    points.forEach(point => {\n      if (Array.isArray(point.value)) {\n        var baseValue = point.value[0];\n        var radius = isNullish(baseValue) ? undefined : radiusAxis.scale(baseValue);\n        baseLinePoints.push(_objectSpread(_objectSpread({}, point), {}, {\n          radius\n        }, polarToCartesian(cx, cy, radius, point.angle)));\n      } else {\n        baseLinePoints.push(point);\n      }\n    });\n  }\n\n  return {\n    points,\n    isRange,\n    baseLinePoints\n  };\n}\n\nfunction Dots(_ref2) {\n  var {\n    points,\n    props\n  } = _ref2;\n  var {\n    dot,\n    dataKey\n  } = props;\n\n  if (!dot) {\n    return null;\n  }\n\n  var baseProps = filterProps(props, false);\n  var customDotProps = filterProps(dot, true);\n  var dots = points.map((entry, i) => {\n    var dotProps = _objectSpread(_objectSpread(_objectSpread({\n      key: \"dot-\".concat(i),\n      r: 3\n    }, baseProps), customDotProps), {}, {\n      dataKey,\n      cx: entry.x,\n      cy: entry.y,\n      index: i,\n      payload: entry\n    });\n\n    return renderDotItem(dot, dotProps);\n  });\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-radar-dots\"\n  }, dots);\n}\n\nfunction StaticPolygon(_ref3) {\n  var {\n    points,\n    props,\n    showLabels\n  } = _ref3;\n\n  if (points == null) {\n    return null;\n  }\n\n  var {\n    shape,\n    isRange,\n    baseLinePoints,\n    connectNulls\n  } = props;\n\n  var handleMouseEnter = e => {\n    var {\n      onMouseEnter\n    } = props;\n\n    if (onMouseEnter) {\n      onMouseEnter(props, e);\n    }\n  };\n\n  var handleMouseLeave = e => {\n    var {\n      onMouseLeave\n    } = props;\n\n    if (onMouseLeave) {\n      onMouseLeave(props, e);\n    }\n  };\n\n  var radar;\n\n  if ( /*#__PURE__*/React.isValidElement(shape)) {\n    radar = /*#__PURE__*/React.cloneElement(shape, _objectSpread(_objectSpread({}, props), {}, {\n      points\n    }));\n  } else if (typeof shape === 'function') {\n    radar = shape(_objectSpread(_objectSpread({}, props), {}, {\n      points\n    }));\n  } else {\n    radar = /*#__PURE__*/React.createElement(Polygon, _extends({}, filterProps(props, true), {\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      points: points,\n      baseLinePoints: isRange ? baseLinePoints : null,\n      connectNulls: connectNulls\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-radar-polygon\"\n  }, radar, /*#__PURE__*/React.createElement(Dots, {\n    props: props,\n    points: points\n  }), showLabels && LabelList.renderCallByParent(props, points));\n}\n\nfunction PolygonWithAnimation(_ref4) {\n  var {\n    props,\n    previousPointsRef\n  } = _ref4;\n  var {\n    points,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevPoints = previousPointsRef.current;\n  var animationId = useAnimationId(props, 'recharts-radar-');\n  var [isAnimating, setIsAnimating] = useState(true);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(Animate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    from: {\n      t: 0\n    },\n    to: {\n      t: 1\n    },\n    key: \"radar-\".concat(animationId),\n    onAnimationEnd: handleAnimationEnd,\n    onAnimationStart: handleAnimationStart\n  }, _ref5 => {\n    var {\n      t\n    } = _ref5;\n    var prevPointsDiffFactor = prevPoints && prevPoints.length / points.length;\n    var stepData = t === 1 ? points : points.map((entry, index) => {\n      var prev = prevPoints && prevPoints[Math.floor(index * prevPointsDiffFactor)];\n\n      if (prev) {\n        var _interpolatorX = interpolateNumber(prev.x, entry.x);\n\n        var _interpolatorY = interpolateNumber(prev.y, entry.y);\n\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: _interpolatorX(t),\n          y: _interpolatorY(t)\n        });\n      }\n\n      var interpolatorX = interpolateNumber(entry.cx, entry.x);\n      var interpolatorY = interpolateNumber(entry.cy, entry.y);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        x: interpolatorX(t),\n        y: interpolatorY(t)\n      });\n    });\n\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousPointsRef.current = stepData;\n    }\n\n    return /*#__PURE__*/React.createElement(StaticPolygon, {\n      points: stepData,\n      props: props,\n      showLabels: !isAnimating\n    });\n  });\n}\n\nfunction RenderPolygon(props) {\n  var {\n    points,\n    isAnimationActive,\n    isRange\n  } = props;\n  var previousPointsRef = useRef(undefined);\n  var prevPoints = previousPointsRef.current;\n\n  if (isAnimationActive && points && points.length && !isRange && (!prevPoints || prevPoints !== points)) {\n    return /*#__PURE__*/React.createElement(PolygonWithAnimation, {\n      props: props,\n      previousPointsRef: previousPointsRef\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(StaticPolygon, {\n    points: points,\n    props: props,\n    showLabels: true\n  });\n}\n\nvar defaultRadarProps = {\n  angleAxisId: 0,\n  radiusAxisId: 0,\n  hide: false,\n  activeDot: true,\n  dot: false,\n  legendType: 'rect',\n  isAnimationActive: !Global.isSsr,\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'ease'\n};\n\nclass RadarWithState extends PureComponent {\n  render() {\n    var {\n      hide,\n      className,\n      points\n    } = this.props;\n\n    if (hide) {\n      return null;\n    }\n\n    var layerClass = clsx('recharts-radar', className);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass\n    }, /*#__PURE__*/React.createElement(RenderPolygon, this.props)), /*#__PURE__*/React.createElement(ActivePoints, {\n      points: points,\n      mainColor: getLegendItemColor(this.props.stroke, this.props.fill),\n      itemDataKey: this.props.dataKey,\n      activeDot: this.props.activeDot\n    }));\n  }\n\n}\n\nfunction RadarImpl(props) {\n  var isPanorama = useIsPanorama();\n  var radarPoints = useAppSelector(state => selectRadarPoints(state, props.radiusAxisId, props.angleAxisId, isPanorama, props.dataKey));\n  return /*#__PURE__*/React.createElement(RadarWithState, _extends({}, props, {\n    points: radarPoints === null || radarPoints === void 0 ? void 0 : radarPoints.points,\n    baseLinePoints: radarPoints === null || radarPoints === void 0 ? void 0 : radarPoints.baseLinePoints,\n    isRange: radarPoints === null || radarPoints === void 0 ? void 0 : radarPoints.isRange\n  }));\n}\n\nexport class Radar extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PolarGraphicalItemContext, {\n      data: undefined // Radar does not have data prop, why?\n      ,\n      dataKey: this.props.dataKey,\n      hide: this.props.hide,\n      angleAxisId: this.props.angleAxisId,\n      radiusAxisId: this.props.radiusAxisId,\n      stackId: undefined,\n      barSize: undefined,\n      type: \"radar\"\n    }), /*#__PURE__*/React.createElement(SetPolarLegendPayload, {\n      legendPayload: computeLegendPayloadFromRadarSectors(this.props)\n    }), /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n      fn: getTooltipEntrySettings,\n      args: this.props\n    }), /*#__PURE__*/React.createElement(RadarImpl, this.props));\n  }\n\n}\n\n_defineProperty(Radar, \"displayName\", 'Radar');\n\n_defineProperty(Radar, \"defaultProps\", defaultRadarProps);","map":{"version":3,"sources":["/Users/emiliamamedova/charts/project_corona_tracker/node_modules/recharts/es6/polar/Radar.js"],"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","_extends","assign","bind","n","hasOwnProperty","React","PureComponent","useCallback","useRef","useState","last","clsx","interpolateNumber","isNullish","Global","polarToCartesian","getTooltipNameProp","getValueByDataKey","Polygon","Dot","Layer","LabelList","filterProps","ActivePoints","SetTooltipEntrySettings","PolarGraphicalItemContext","selectRadarPoints","useAppSelector","useIsPanorama","SetPolarLegendPayload","useAnimationId","Animate","getLegendItemColor","stroke","fill","computeLegendPayloadFromRadarSectors","props","dataKey","name","legendType","hide","inactive","type","color","payload","getTooltipEntrySettings","strokeWidth","tooltipType","dataDefinedOnItem","undefined","positions","settings","nameKey","unit","renderDotItem","option","dotItem","isValidElement","cloneElement","createElement","className","computeRadarPoints","_ref","radiusAxis","angleAxis","displayedData","bandSize","cx","cy","isRange","points","angleBandSize","entry","angle","scale","pointValue","Array","isArray","radius","baseLinePoints","point","baseValue","Dots","_ref2","dot","baseProps","customDotProps","dots","map","dotProps","key","concat","x","y","index","StaticPolygon","_ref3","showLabels","shape","connectNulls","handleMouseEnter","onMouseEnter","handleMouseLeave","onMouseLeave","radar","renderCallByParent","PolygonWithAnimation","_ref4","previousPointsRef","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationEnd","onAnimationStart","prevPoints","current","animationId","isAnimating","setIsAnimating","handleAnimationEnd","handleAnimationStart","begin","duration","isActive","easing","from","to","_ref5","prevPointsDiffFactor","stepData","prev","Math","floor","_interpolatorX","_interpolatorY","interpolatorX","interpolatorY","RenderPolygon","defaultRadarProps","angleAxisId","radiusAxisId","activeDot","isSsr","RadarWithState","render","layerClass","Fragment","mainColor","itemDataKey","RadarImpl","isPanorama","radarPoints","state","Radar","data","stackId","barSize","legendPayload","fn","args"],"mappings":"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","sourcesContent":["function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n// eslint-disable-next-line max-classes-per-file\nimport * as React from 'react';\nimport { PureComponent, useCallback, useRef, useState } from 'react';\nimport last from 'es-toolkit/compat/last';\nimport { clsx } from 'clsx';\nimport { interpolateNumber, isNullish } from '../util/DataUtils';\nimport { Global } from '../util/Global';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { getTooltipNameProp, getValueByDataKey } from '../util/ChartUtils';\nimport { Polygon } from '../shape/Polygon';\nimport { Dot } from '../shape/Dot';\nimport { Layer } from '../container/Layer';\nimport { LabelList } from '../component/LabelList';\nimport { filterProps } from '../util/ReactUtils';\nimport { ActivePoints } from '../component/ActivePoints';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { PolarGraphicalItemContext } from '../context/PolarGraphicalItemContext';\nimport { selectRadarPoints } from '../state/selectors/radarSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { SetPolarLegendPayload } from '../state/SetLegendPayload';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { Animate } from '../animation/Animate';\nfunction getLegendItemColor(stroke, fill) {\n  return stroke && stroke !== 'none' ? stroke : fill;\n}\nvar computeLegendPayloadFromRadarSectors = props => {\n  var {\n    dataKey,\n    name,\n    stroke,\n    fill,\n    legendType,\n    hide\n  } = props;\n  return [{\n    inactive: hide,\n    dataKey,\n    type: legendType,\n    color: getLegendItemColor(stroke, fill),\n    value: getTooltipNameProp(name, dataKey),\n    payload: props\n  }];\n};\nfunction getTooltipEntrySettings(props) {\n  var {\n    dataKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType\n  } = props;\n  return {\n    /*\n     * I suppose this here _could_ return props.points\n     * because while Radar does not support item tooltip mode, it _could_ support it.\n     * But when I actually do return the points here, a defaultIndex test starts failing.\n     * So, undefined it is.\n     */\n    dataDefinedOnItem: undefined,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      nameKey: undefined,\n      // RadarChart does not have nameKey unfortunately\n      dataKey,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: tooltipType,\n      color: getLegendItemColor(stroke, fill),\n      unit: '' // why doesn't Radar support unit?\n    }\n  };\n}\nfunction renderDotItem(option, props) {\n  var dotItem;\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    // @ts-expect-error typescript is unhappy with cloned props type\n    dotItem = /*#__PURE__*/React.cloneElement(option, props);\n  } else if (typeof option === 'function') {\n    dotItem = option(props);\n  } else {\n    dotItem = /*#__PURE__*/React.createElement(Dot, _extends({}, props, {\n      className: clsx('recharts-radar-dot', typeof option !== 'boolean' ? option.className : '')\n    }));\n  }\n  return dotItem;\n}\nexport function computeRadarPoints(_ref) {\n  var {\n    radiusAxis,\n    angleAxis,\n    displayedData,\n    dataKey,\n    bandSize\n  } = _ref;\n  var {\n    cx,\n    cy\n  } = angleAxis;\n  var isRange = false;\n  var points = [];\n  var angleBandSize = angleAxis.type !== 'number' ? bandSize !== null && bandSize !== void 0 ? bandSize : 0 : 0;\n  displayedData.forEach((entry, i) => {\n    var name = getValueByDataKey(entry, angleAxis.dataKey, i);\n    var value = getValueByDataKey(entry, dataKey);\n    var angle = angleAxis.scale(name) + angleBandSize;\n    var pointValue = Array.isArray(value) ? last(value) : value;\n    var radius = isNullish(pointValue) ? undefined : radiusAxis.scale(pointValue);\n    if (Array.isArray(value) && value.length >= 2) {\n      isRange = true;\n    }\n    points.push(_objectSpread(_objectSpread({}, polarToCartesian(cx, cy, radius, angle)), {}, {\n      // @ts-expect-error getValueByDataKey does not validate the output type\n      name,\n      // @ts-expect-error getValueByDataKey does not validate the output type\n      value,\n      cx,\n      cy,\n      radius,\n      angle,\n      payload: entry\n    }));\n  });\n  var baseLinePoints = [];\n  if (isRange) {\n    points.forEach(point => {\n      if (Array.isArray(point.value)) {\n        var baseValue = point.value[0];\n        var radius = isNullish(baseValue) ? undefined : radiusAxis.scale(baseValue);\n        baseLinePoints.push(_objectSpread(_objectSpread({}, point), {}, {\n          radius\n        }, polarToCartesian(cx, cy, radius, point.angle)));\n      } else {\n        baseLinePoints.push(point);\n      }\n    });\n  }\n  return {\n    points,\n    isRange,\n    baseLinePoints\n  };\n}\nfunction Dots(_ref2) {\n  var {\n    points,\n    props\n  } = _ref2;\n  var {\n    dot,\n    dataKey\n  } = props;\n  if (!dot) {\n    return null;\n  }\n  var baseProps = filterProps(props, false);\n  var customDotProps = filterProps(dot, true);\n  var dots = points.map((entry, i) => {\n    var dotProps = _objectSpread(_objectSpread(_objectSpread({\n      key: \"dot-\".concat(i),\n      r: 3\n    }, baseProps), customDotProps), {}, {\n      dataKey,\n      cx: entry.x,\n      cy: entry.y,\n      index: i,\n      payload: entry\n    });\n    return renderDotItem(dot, dotProps);\n  });\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-radar-dots\"\n  }, dots);\n}\nfunction StaticPolygon(_ref3) {\n  var {\n    points,\n    props,\n    showLabels\n  } = _ref3;\n  if (points == null) {\n    return null;\n  }\n  var {\n    shape,\n    isRange,\n    baseLinePoints,\n    connectNulls\n  } = props;\n  var handleMouseEnter = e => {\n    var {\n      onMouseEnter\n    } = props;\n    if (onMouseEnter) {\n      onMouseEnter(props, e);\n    }\n  };\n  var handleMouseLeave = e => {\n    var {\n      onMouseLeave\n    } = props;\n    if (onMouseLeave) {\n      onMouseLeave(props, e);\n    }\n  };\n  var radar;\n  if (/*#__PURE__*/React.isValidElement(shape)) {\n    radar = /*#__PURE__*/React.cloneElement(shape, _objectSpread(_objectSpread({}, props), {}, {\n      points\n    }));\n  } else if (typeof shape === 'function') {\n    radar = shape(_objectSpread(_objectSpread({}, props), {}, {\n      points\n    }));\n  } else {\n    radar = /*#__PURE__*/React.createElement(Polygon, _extends({}, filterProps(props, true), {\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      points: points,\n      baseLinePoints: isRange ? baseLinePoints : null,\n      connectNulls: connectNulls\n    }));\n  }\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-radar-polygon\"\n  }, radar, /*#__PURE__*/React.createElement(Dots, {\n    props: props,\n    points: points\n  }), showLabels && LabelList.renderCallByParent(props, points));\n}\nfunction PolygonWithAnimation(_ref4) {\n  var {\n    props,\n    previousPointsRef\n  } = _ref4;\n  var {\n    points,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevPoints = previousPointsRef.current;\n  var animationId = useAnimationId(props, 'recharts-radar-');\n  var [isAnimating, setIsAnimating] = useState(true);\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(Animate, {\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    from: {\n      t: 0\n    },\n    to: {\n      t: 1\n    },\n    key: \"radar-\".concat(animationId),\n    onAnimationEnd: handleAnimationEnd,\n    onAnimationStart: handleAnimationStart\n  }, _ref5 => {\n    var {\n      t\n    } = _ref5;\n    var prevPointsDiffFactor = prevPoints && prevPoints.length / points.length;\n    var stepData = t === 1 ? points : points.map((entry, index) => {\n      var prev = prevPoints && prevPoints[Math.floor(index * prevPointsDiffFactor)];\n      if (prev) {\n        var _interpolatorX = interpolateNumber(prev.x, entry.x);\n        var _interpolatorY = interpolateNumber(prev.y, entry.y);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: _interpolatorX(t),\n          y: _interpolatorY(t)\n        });\n      }\n      var interpolatorX = interpolateNumber(entry.cx, entry.x);\n      var interpolatorY = interpolateNumber(entry.cy, entry.y);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        x: interpolatorX(t),\n        y: interpolatorY(t)\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousPointsRef.current = stepData;\n    }\n    return /*#__PURE__*/React.createElement(StaticPolygon, {\n      points: stepData,\n      props: props,\n      showLabels: !isAnimating\n    });\n  });\n}\nfunction RenderPolygon(props) {\n  var {\n    points,\n    isAnimationActive,\n    isRange\n  } = props;\n  var previousPointsRef = useRef(undefined);\n  var prevPoints = previousPointsRef.current;\n  if (isAnimationActive && points && points.length && !isRange && (!prevPoints || prevPoints !== points)) {\n    return /*#__PURE__*/React.createElement(PolygonWithAnimation, {\n      props: props,\n      previousPointsRef: previousPointsRef\n    });\n  }\n  return /*#__PURE__*/React.createElement(StaticPolygon, {\n    points: points,\n    props: props,\n    showLabels: true\n  });\n}\nvar defaultRadarProps = {\n  angleAxisId: 0,\n  radiusAxisId: 0,\n  hide: false,\n  activeDot: true,\n  dot: false,\n  legendType: 'rect',\n  isAnimationActive: !Global.isSsr,\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'ease'\n};\nclass RadarWithState extends PureComponent {\n  render() {\n    var {\n      hide,\n      className,\n      points\n    } = this.props;\n    if (hide) {\n      return null;\n    }\n    var layerClass = clsx('recharts-radar', className);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass\n    }, /*#__PURE__*/React.createElement(RenderPolygon, this.props)), /*#__PURE__*/React.createElement(ActivePoints, {\n      points: points,\n      mainColor: getLegendItemColor(this.props.stroke, this.props.fill),\n      itemDataKey: this.props.dataKey,\n      activeDot: this.props.activeDot\n    }));\n  }\n}\nfunction RadarImpl(props) {\n  var isPanorama = useIsPanorama();\n  var radarPoints = useAppSelector(state => selectRadarPoints(state, props.radiusAxisId, props.angleAxisId, isPanorama, props.dataKey));\n  return /*#__PURE__*/React.createElement(RadarWithState, _extends({}, props, {\n    points: radarPoints === null || radarPoints === void 0 ? void 0 : radarPoints.points,\n    baseLinePoints: radarPoints === null || radarPoints === void 0 ? void 0 : radarPoints.baseLinePoints,\n    isRange: radarPoints === null || radarPoints === void 0 ? void 0 : radarPoints.isRange\n  }));\n}\nexport class Radar extends PureComponent {\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PolarGraphicalItemContext, {\n      data: undefined // Radar does not have data prop, why?\n      ,\n      dataKey: this.props.dataKey,\n      hide: this.props.hide,\n      angleAxisId: this.props.angleAxisId,\n      radiusAxisId: this.props.radiusAxisId,\n      stackId: undefined,\n      barSize: undefined,\n      type: \"radar\"\n    }), /*#__PURE__*/React.createElement(SetPolarLegendPayload, {\n      legendPayload: computeLegendPayloadFromRadarSectors(this.props)\n    }), /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n      fn: getTooltipEntrySettings,\n      args: this.props\n    }), /*#__PURE__*/React.createElement(RadarImpl, this.props));\n  }\n}\n_defineProperty(Radar, \"displayName\", 'Radar');\n_defineProperty(Radar, \"defaultProps\", defaultRadarProps);"]},"metadata":{},"sourceType":"module"}