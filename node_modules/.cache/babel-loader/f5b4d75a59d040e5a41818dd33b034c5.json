{"ast":null,"code":"import { useEffect } from 'react';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { setChartSize, setLayout, setMargin } from './layoutSlice';\nimport { useAppDispatch } from './hooks';\n/**\n * \"Main\" props are props that are only accepted on the main chart,\n * as opposed to the small panorama chart inside a Brush.\n */\n\nexport function ReportMainChartProps(_ref) {\n  var {\n    layout,\n    width,\n    height,\n    margin\n  } = _ref;\n  var dispatch = useAppDispatch();\n  /*\n   * Skip dispatching properties in panorama chart for two reasons:\n   * 1. The root chart should be deciding on these properties, and\n   * 2. Brush reads these properties from redux store, and so they must remain stable\n   *      to avoid circular dependency and infinite re-rendering.\n   */\n\n  var isPanorama = useIsPanorama();\n  /*\n   * useEffect here is required to avoid the \"Cannot update a component while rendering a different component\" error.\n   * https://github.com/facebook/react/issues/18178\n   *\n   * Reported in https://github.com/recharts/recharts/issues/5514\n   */\n\n  useEffect(() => {\n    if (!isPanorama) {\n      dispatch(setLayout(layout));\n      dispatch(setChartSize({\n        width,\n        height\n      }));\n      dispatch(setMargin(margin));\n    }\n  }, [dispatch, isPanorama, layout, width, height, margin]);\n  return null;\n}","map":{"version":3,"sources":["/Users/emiliamamedova/charts/flightStats/node_modules/recharts/es6/state/ReportMainChartProps.js"],"names":["useEffect","useIsPanorama","setChartSize","setLayout","setMargin","useAppDispatch","ReportMainChartProps","_ref","layout","width","height","margin","dispatch","isPanorama"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,SAAlC,QAAmD,eAAnD;AACA,SAASC,cAAT,QAA+B,SAA/B;AAEA;;;;;AAKA,OAAO,SAASC,oBAAT,CAA8BC,IAA9B,EAAoC;AACzC,MAAI;AACFC,IAAAA,MADE;AAEFC,IAAAA,KAFE;AAGFC,IAAAA,MAHE;AAIFC,IAAAA;AAJE,MAKAJ,IALJ;AAMA,MAAIK,QAAQ,GAAGP,cAAc,EAA7B;AAEA;;;;;;;AAMA,MAAIQ,UAAU,GAAGZ,aAAa,EAA9B;AACA;;;;;;;AAMAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACa,UAAL,EAAiB;AACfD,MAAAA,QAAQ,CAACT,SAAS,CAACK,MAAD,CAAV,CAAR;AACAI,MAAAA,QAAQ,CAACV,YAAY,CAAC;AACpBO,QAAAA,KADoB;AAEpBC,QAAAA;AAFoB,OAAD,CAAb,CAAR;AAIAE,MAAAA,QAAQ,CAACR,SAAS,CAACO,MAAD,CAAV,CAAR;AACD;AACF,GATQ,EASN,CAACC,QAAD,EAAWC,UAAX,EAAuBL,MAAvB,EAA+BC,KAA/B,EAAsCC,MAAtC,EAA8CC,MAA9C,CATM,CAAT;AAUA,SAAO,IAAP;AACD","sourcesContent":["import { useEffect } from 'react';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { setChartSize, setLayout, setMargin } from './layoutSlice';\nimport { useAppDispatch } from './hooks';\n\n/**\n * \"Main\" props are props that are only accepted on the main chart,\n * as opposed to the small panorama chart inside a Brush.\n */\n\nexport function ReportMainChartProps(_ref) {\n  var {\n    layout,\n    width,\n    height,\n    margin\n  } = _ref;\n  var dispatch = useAppDispatch();\n\n  /*\n   * Skip dispatching properties in panorama chart for two reasons:\n   * 1. The root chart should be deciding on these properties, and\n   * 2. Brush reads these properties from redux store, and so they must remain stable\n   *      to avoid circular dependency and infinite re-rendering.\n   */\n  var isPanorama = useIsPanorama();\n  /*\n   * useEffect here is required to avoid the \"Cannot update a component while rendering a different component\" error.\n   * https://github.com/facebook/react/issues/18178\n   *\n   * Reported in https://github.com/recharts/recharts/issues/5514\n   */\n  useEffect(() => {\n    if (!isPanorama) {\n      dispatch(setLayout(layout));\n      dispatch(setChartSize({\n        width,\n        height\n      }));\n      dispatch(setMargin(margin));\n    }\n  }, [dispatch, isPanorama, layout, width, height, margin]);\n  return null;\n}"]},"metadata":{},"sourceType":"module"}